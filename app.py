import streamlit as st
import os
import pandas as pd
from datetime import datetime
from dotenv import load_dotenv

# ==========================
# ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ
# ==========================
load_dotenv()

# ==========================
# ุงุณุชูุฑุงุฏ ุงูููููุงุช ุงููุณุงุนุฏุฉ
# ==========================
try:
    from helpers.smart_recommender import smart_recommender, role_selector
    from helpers.mini_ai_smart import MiniLegalAI
    from helpers.settings_manager import SettingsManager
    from helpers.data_loader import DataLoader
except ImportError as e:
    st.warning(f"โ๏ธ ุจุนุถ ุงูููููุงุช ุงููุณุงุนุฏุฉ ุบูุฑ ูุชููุฑุฉ: {e}")

# ==========================
# ุชุนุฑูู ููููุงุช UI ูุญูููุง ูุชุฌูุจ ูุดุงูู ุงูุงุณุชูุฑุงุฏ
# ==========================
def section_header(title, subtitle=""):
    st.markdown(f"### {title}\n**{subtitle}**")

def message_bubble(text, sender="system"):
    st.write(f"{sender}: {text}")

def info_card(title, content):
    st.info(f"**{title}**\n{content}")

def mini_card(title, content):
    st.write(f"**{title}**: {content}")

def feature_highlight(title, description):
    st.write(f"**{title}**: {description}")

# =====================================================
# ๐ฏ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ูุงูุจูุฆุฉ - ูุญุฏุซุฉ
# =====================================================
def setup_application():
    env_config = {
        "APP_INFO": {
            "APP_NAME": os.getenv("APP_NAME", "โ๏ธ ููุตุฉ ุญูููู ุงููุงููููุฉ"),
            "VERSION": os.getenv("APP_VERSION", "v2025.1"),
            "SUPPORT_EMAIL": os.getenv("SUPPORT_EMAIL", "support@huqooqi.com")
        },
        "DATA_SOURCES": {
            "WORKBOOK_PATH": os.getenv("WORKBOOK_PATH", "data/Legal_Rights_Platform_v2025.xlsx"),
            "SHEET_URL": os.getenv("SHEET_URL", "")
        },
        "AI_FEATURES": {
            "ENABLE_AI": os.getenv("AI_ENABLE", "true").lower() == "true",
            "MAX_HISTORY": int(os.getenv("AI_MAX_HISTORY", "20"))
        },
        "FOOTER": {
            "TEXT": "ยฉ 2025 ููุตุฉ ุญูููู ุงููุงููููุฉ โ ููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ูุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู ุงููุชุฎุตุต"
        }
    }
    
    # ูุญุงูุงุฉ SettingsManager ุฅุฐุง ูู ููู ูุชููุฑุงู
    class SimpleSettingsManager:
        def __init__(self):
            self.settings = env_config
        
        def update(self, new_settings):
            self.settings.update(new_settings)
    
    settings_manager = SimpleSettingsManager()
    return settings_manager

settings_manager = setup_application()
config = st.session_state.get("config", settings_manager.settings)

# ุฅุนุฏุงุฏ ุตูุญุฉ Streamlit - ุชุตููู ูุงุชุญ ููุท
st.set_page_config(
    page_title=config.get("APP_INFO", {}).get("APP_NAME", "ููุตุฉ ุญูููู ุงููุงููููุฉ"),
    page_icon="โ๏ธ",
    layout="wide",
    initial_sidebar_state="expanded"
)

# =====================================================
# ๐จ ุชุญููู ุงูุชุตููู - ุชุตููู ูุงุชุญ ููุท
# =====================================================
def load_custom_css():
    st.markdown("""
    <style>
    /* ุชุตููู ูุงุชุญ ููุท - ุฅุฒุงูุฉ ุฌููุน ุนูุงุตุฑ ุงูุชุตููู ุงููุธูู */
    .main-header { 
        background: linear-gradient(135deg, #1E3A8A 0%, #2563EB 50%, #1E40AF 100%); 
        color: white; 
        padding: 2rem; 
        border-radius: 20px; 
        text-align: center; 
        margin-bottom: 2rem; 
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    .feature-card { 
        background: white; 
        padding: 1.5rem; 
        border-radius: 15px; 
        box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
        margin: 1rem 0; 
        transition: all 0.3s ease; 
        border: 1px solid #e0e0e0;
    }
    .feature-card:hover { 
        transform: translateY(-5px); 
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    .info-card {
        background: #f8f9fa;
        padding: 1rem;
        border-radius: 10px;
        border-right: 4px solid #2563EB;
        margin: 0.5rem 0;
    }
    .emergency-card {
        background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 15px;
        margin: 1rem 0;
    }
    .success-card {
        background: linear-gradient(135deg, #059669 0%, #10B981 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 15px;
        margin: 1rem 0;
    }
    .law-article {
        background: #f0f9ff;
        padding: 1.5rem;
        border-radius: 10px;
        border-left: 4px solid #1E40AF;
        margin: 1rem 0;
    }
    .research-tool {
        background: linear-gradient(135deg, #7C3AED 0%, #8B5CF6 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 15px;
        margin: 1rem 0;
    }
    
    /* ุฅุฒุงูุฉ ุฃู ุนูุงุตุฑ ูุฑุชุจุทุฉ ุจุงููุถุน ุงููุธูู */
    .stApp {
        background-color: #ffffff;
    }
    
    /* ุชุญุณููุงุช ูููุงุฌูุฉ ุงููุงุชุญุฉ */
    .stButton>button {
        background-color: #2563EB;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 0.5rem 1rem;
        font-weight: 500;
    }
    
    .stButton>button:hover {
        background-color: #1E40AF;
        color: white;
    }
    </style>
    """, unsafe_allow_html=True)

load_custom_css()

# ==========================
# ๐ค ุชููุฆุฉ ุงูููููุงุช ุงูุฐููุฉ ูุน ุญูุงูุฉ ูู ุงูุฃุฎุทุงุก
# ==========================
ai_assistant = None
try:
    workbook_path = config.get("DATA_SOURCES", {}).get("WORKBOOK_PATH", "")
    if workbook_path and os.path.exists(workbook_path):
        # ูุญุงูุงุฉ MiniLegalAI ุฅุฐุง ูู ููู ูุชููุฑุงู
        class MockMiniLegalAI:
            def advanced_search(self, query, top_n=3):
                return [
                    {
                        'text': "ุงููุงุฏุฉ 74: ุชุณุชุญู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ููุนุงูู ุฅุฐุง ุฃูููุช ุฎุฏูุงุชู ูุฃู ุณุจุจ ุนุฏุง ุงูุงุณุชูุงูุฉ.",
                        'example': "ุนุงูู ุนูู ููุฏุฉ 7 ุณููุงุช ุจุฑุงุชุจ 500 ุฏููุงุฑุ ูุณุชุญู ููุงูุฃุฉ ูุฏุฑูุง 1800 ุฏููุงุฑ.",
                        'reference': "ูุงููู ุงูุนูู ุงูุฃุฑุฏูู - ุงููุงุฏุฉ 74",
                        'score': 92.5
                    },
                    {
                        'text': "ุงููุงุฏุฉ 55: ูุฌุจ ุตุฑู ุงูุฃุฌุฑ ูู ููุงู ุงูุนูู ููู ููุนุฏ ูุง ูุชุฌุงูุฒ ุงูููู ุงูุณุงุจุน ูู ุงูุดูุฑ ุงูุชุงูู.",
                        'example': "ุฅุฐุง ุชุฃุฎุฑ ุตุฑู ุงูุฑุงุชุจ ุฃูุซุฑ ูู 7 ุฃูุงูุ ูุญู ููุนุงูู ุงููุทุงูุจุฉ ุจุชุนููุถ.",
                        'reference': "ูุงููู ุงูุนูู ุงูุฃุฑุฏูู - ุงููุงุฏุฉ 55",
                        'score': 88.3
                    }
                ]
        
        ai_assistant = MockMiniLegalAI()
    else:
        st.warning("โ๏ธ ููู ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุ ุณูุชู ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ.")
except Exception as e:
    st.warning(f"โ๏ธ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญููู AI: {e}")

# ูุญุงูุงุฉ role_selector ุฅุฐุง ูู ููู ูุชููุฑุงู
def role_selector():
    roles = ["ุนุงูู", "ุตุงุญุจ ุนูู", "ุจุงุญุซ ูุงูููู", "ููุชู ุจุงููุนุฑูุฉ"]
    return st.radio("ุงุฎุชุฑ ุฏูุฑู:", roles, horizontal=True)

# ูุญุงูุงุฉ smart_recommender ุฅุฐุง ูู ููู ูุชููุฑุงู
def smart_recommender(selected_role, show_header=True):
    if show_header:
        st.markdown(f"### ๐ฏ ุชูุตูุงุช ูุฎุตุตุฉ ูู {selected_role}")
    
    recommendations = {
        "ุนุงูู": [
            "๐งฎ ุงุณุชุฎุฏู ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
            "๐ ุชุนุฑู ุนูู ููููุฉ ุชูุฏูู ุงูุดููู",
            "๐ ุงุนุฑู ุญูููู ุงููุงููุฉ ูู ุงูุนูู"
        ],
        "ุตุงุญุจ ุนูู": [
            "๐ ุชุฃูุฏ ูู ุงูุชุฒุงูู ุจุงูููุงููู",
            "๐ ุงุญุณุจ ูุณุชุญูุงุช ุงูุนุงูููู ุจุฏูุฉ",
            "โ๏ธ ุชุนุฑู ุนูู ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ"
        ],
        "ุจุงุญุซ ูุงูููู": [
            "๐ ุงุณุชุฎุฏู ุงูุจุญุซ ุงููุชูุฏู ูู ุงูููุงููู",
            "๐ ุงุทูุน ุนูู ุฃุญุฏุซ ุงูุชุนุฏููุงุช",
            "๐ผ ุงุณุชูุฏ ูู ุงูููุชุจุฉ ุงููุงููููุฉ"
        ],
        "ููุชู ุจุงููุนุฑูุฉ": [
            "๐ ุงุทูุน ุนูู ุงูููุงุฏ ุงููุงููููุฉ",
            "๐งฎ ุงุณุชุฎุฏู ุงูุญุงุณุจุงุช ุงูุชูุงุนููุฉ",
            "๐๏ธ ุชุนุฑู ุนูู ุงูุฌูุงุช ุงููุฎุชุตุฉ"
        ]
    }
    
    for rec in recommendations.get(selected_role, []):
        st.write(f"โข {rec}")

# =====================================================
# ๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงููุญุณูุฉ - ุจุฏูู ูุนูููุงุช ุดุฎุตูุฉ
# =====================================================
def show_home_page():
    st.markdown(f"""
    <div class="main-header">
        <h1 style="margin:0; font-size: 3rem;">{config.get("APP_INFO", {}).get("APP_NAME", "โ๏ธ ููุตุฉ ุญูููู ุงููุงููููุฉ")}</h1>
        <p style="font-size: 1.2rem; margin: 1rem 0 0 0; opacity: 0.9;">
        ููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ุดุงููุฉ ููุชุนุฑูู ุจุญููู ููุงุฌุจุงุช ุงูุนูู ูู ุงูุฃุฑุฏู
        </p>
    </div>
    """, unsafe_allow_html=True)
    
    # ุชูููู ููู
    st.warning("""
    **โ๏ธ ุชูููู ููู:** ูุฐู ุงูููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ููุท ููุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู ุงููุชุฎุตุต. 
    ุงููุนูููุงุช ุงูููุฏูุฉ ูุฃุบุฑุงุถ ุงูุชุนูู ูุงููุนุฑูุฉ ุงูุนุงูุฉ.
    """)
    
    # ุงูุฅุญุตุงุฆูุงุช ุงูุญูููุฉ - ุจุฏูู ูุนูููุงุช ุดุฎุตูุฉ
    col1, col2, col3, col4 = st.columns(4)
    with col1: 
        st.metric("๐ ุงูููุงุฏ ุงููุงููููุฉ", "150+", "ูุญุฏุซุฉ 2025")
    with col2: 
        st.metric("๐ฅ ุงูุฎุฏูุงุช ุงูููุฏูุฉ", "12+", "ุฎุฏูุฉ ูุชุฎุตุตุฉ")
    with col3: 
        st.metric("โ๏ธ ุงููุญุงูุธุงุช", "12", "ูุบุทุงุฉ ุจุงููุงูู")
    with col4: 
        st.metric("๐ผ ุงูุชุญุฏูุซุงุช", "ุดูุฑูุฉ", "ุขุฎุฑ ุชุญุฏูุซ 2025")
    
    st.markdown("<br>", unsafe_allow_html=True)
    
    # ุงูุชูุตูุงุช ุงูุฐููุฉ
    st.markdown("### ๐ฏ ุงูุชูุตูุงุช ุงูุฐููุฉ ุงููุฎุตุตุฉ")
    try:
        selected_role = role_selector()
        smart_recommender(selected_role, show_header=False)
    except Exception as e:
        st.warning(f"โ๏ธ ูุง ูููู ุนุฑุถ ุงูุชูุตูุงุช ุงูุฐููุฉ: {e}")
    
    # ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ - ูุนุงุฏ ุชุฑุชูุจูุง
    st.markdown("### ๐ ุฎุฏูุงุชูุง ุงูุฑุฆูุณูุฉ")
    features = [
        {
            "icon": "๐งฎ", 
            "title": "ุงูุญุงุณุจุงุช ุงููุงููููุฉ", 
            "description": "ุญุณุงุจ ุฏููู ูููุณุชุญูุงุช ุงููุงููุฉ ููู ุงููุงููู ุงูุฃุฑุฏูู", 
            "features": ["ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ"],
            "link": "ุงูุญุงุณุจุงุช ุงููุงููููุฉ"
        },
        {
            "icon": "๐", 
            "title": "ูุญุงูู ุงูุดููู ุงูุฐูู", 
            "description": "ุชุญููู ุงูุงูุชูุงูุงุช ูุชูุฏูู ุงูุฅุฌุฑุงุกุงุช ุงููุงููููุฉ ุงูููุงุณุจุฉ", 
            "features": ["ุชุญููู ุขูู", "ุชูุตูุงุช ูุฎุตุตุฉ", "ููุงุฐุฌ ุฌุงูุฒุฉ"],
            "link": "ูุญุงูู ุงูุดููู"
        },
        {
            "icon": "๐ท", 
            "title": "ุฏููู ุงูุนุงูู", 
            "description": "ุฏููู ุดุงูู ูุญููู ููุงุฌุจุงุช ุงูุนุงูู ูู ุงููุงููู ุงูุฃุฑุฏูู", 
            "features": ["ุญููู ุงูุนุงูู", "ุงูุงูุชูุงูุงุช ุงูุดุงุฆุนุฉ", "ููููุฉ ุงููุทุงูุจุฉ"],
            "link": "ุงูุนูุงู"
        },
        {
            "icon": "๐", 
            "title": "ุฏููู ุตุงุญุจ ุงูุนูู", 
            "description": "ุฏููู ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ูุฃุตุญุงุจ ุงูุนูู", 
            "features": ["ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ", "ููุงุฐุฌ ุนููุฏ", "ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ"],
            "link": "ุฃุตุญุงุจ ุงูุนูู"
        },
        {
            "icon": "๐ฌ", 
            "title": "ุงูุจุญุซ ุงููุงูููู", 
            "description": "ููุตุฉ ุจุญุซูุฉ ุดุงููุฉ ููุจุงุญุซูู ูุงูููุชููู", 
            "features": ["ุชุดุฑูุนุงุช ูุงููุฉ", "ุณูุงุจู ูุถุงุฆูุฉ", "ุฏุฑุงุณุงุช ุจุญุซูุฉ"],
            "link": "ุงูุจุงุญุซูู"
        },
        {
            "icon": "๐๏ธ", 
            "title": "ุงูุฌูุงุช ุงููุฎุชุตุฉ", 
            "description": "ุฏููู ุดุงูู ููุฌูุงุช ุงูุฑุณููุฉ ูู ุฌููุน ุงููุญุงูุธุงุช", 
            "features": ["ุนููุงู ุฏููู", "ูุนูููุงุช ุงุชุตุงู", "ุฃููุงุช ุงูุนูู"],
            "link": "ุงูุฌูุงุช ุงููุฎุชุตุฉ"
        },
    ]
    
    # ุนุฑุถ ุงูููุฒุงุช ูู ุดุจูุฉ 2x3
    cols = st.columns(2)
    for idx, feature in enumerate(features):
        with cols[idx % 2]:
            st.markdown(f"""
            <div class="feature-card">
                <div style="font-size: 2.5rem; text-align: center; margin-bottom: 1rem;">{feature['icon']}</div>
                <h3 style="text-align: center;">{feature['title']}</h3>
                <p style="text-align: center; color: #666;">{feature['description']}</p>
                <div style="text-align: center;">
                    {" โข ".join([f"<span style='background: #E3F2FD; padding: 0.2rem 0.5rem; border-radius: 12px; font-size: 0.8rem; margin: 0.1rem; display: inline-block;'>{f}</span>" for f in feature['features']])}
                </div>
            </div>
            """, unsafe_allow_html=True)
            if st.button(f"ุงูุชูู ุฅูู {feature['title']}", key=f"btn_{idx}", use_container_width=True):
                st.session_state.selected_page = feature['link']
    
    # ุขุฎุฑ ุงูุฃุฎุจุงุฑ ูุงูุชุญุฏูุซุงุช
    st.markdown("### ๐ข ุขุฎุฑ ุงูุชุญุฏูุซุงุช ุงููุงููููุฉ")
    news_cols = st.columns(2)
    
    with news_cols[0]:
        with st.expander("๐ ุชุญุฏูุซุงุช ูุงููููุฉ 2025", expanded=True):
            st.write("""
            - **ุชุญุฏูุซ ูุงููู ุงูุนูู 2025**: ุชุนุฏููุงุช ุฌุฏูุฏุฉ ุชุดูู:
              - **ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ**: 290 ุฏููุงุฑ ุจุฏูุงู ูู 260 ุฏููุงุฑ
              - **ุชุญุณููุงุช ูู ุญูุงูุฉ ุงูุนุงูู**: ุชุนุฒูุฒ ุญููู ุงูุนุงูููู
              - **ุชุญุฏูุซ ุฃูุธูุฉ ุงูุณูุงูุฉ ุงูููููุฉ**: ูุชุทูุจุงุช ุฌุฏูุฏุฉ ููุตุญุฉ ูุงูุณูุงูุฉ
            - **ูุฑุงุฑุงุช ูุฒุงุฑุฉ ุงูุนูู**: ุชุญุฏูุซุงุช ูู ุชูุธูู ุณุงุนุงุช ุงูุนูู
            - **ุชุญุฏูุซ ุงูุฃูุธูุฉ**: ุชุญุณููุงุช ูู ูุธุงู ุงูุชูุชูุด ุงูุนูู
            """)
    
    with news_cols[1]:
        with st.expander("๐ ูุตุงุฏุฑ ููุฑุงุฌุน ููุซููุฉ", expanded=True):
            st.write("""
            **ุงููุฑุงุฌุน ุงููุนุชูุฏุฉ:**
            - ๐ ูุงููู ุงูุนูู ุงูุฃุฑุฏูู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู
            - ๐ ูุธุงู ุงูุนูู ุงูุฃุฑุฏูู ูุชุนุฏููุงุชู
            - ๐ ูุฑุงุฑุงุช ูุฒุงุฑุฉ ุงูุนูู ุงูุฑุณููุฉ
            - ๐ ุงููููุน ุงูุฑุณูู ููุฒุงุฑุฉ ุงูุนูู
            - ๐ ุงูุฏููุงู ุงูุฑุณูู ููุชุดุฑูุน ูุงูุฑุฃู
            
            **ุชุญุฏูุซุงุช ูุณุชูุฑุฉ ุญุณุจ ุขุฎุฑ ุงูุชุนุฏููุงุช ุงูุชุดุฑูุนูุฉ**
            """)

# =====================================================
# โ๏ธ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช ุงููุญุฏุซุฉ - ุจุฏูู ูุนูููุงุช ุดุฎุตูุฉ
# =====================================================
def show_settings_page():
    st.markdown("### โ๏ธ ุงูุฅุนุฏุงุฏุงุช ูุงูุชููุฆุฉ")
    
    settings_tabs = st.tabs(["๐๏ธ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู", "๐ ุงูุฅุดุนุงุฑุงุช", "๐ก๏ธ ุงูุฎุตูุตูุฉ ูุงูุฃูุงู"])
    
    with settings_tabs[0]:
        st.markdown("### ๐๏ธ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ุงูุนุงูุฉ")
        
        col1, col2 = st.columns(2)
        
        with col1:
            app_language = st.selectbox("ูุบุฉ ุงูุชุทุจูู", ["ุงูุนุฑุจูุฉ", "English"])
            theme_mode = st.radio("ุงููุถุน ุงููููู", ["ูุงุชุญ"])  # ุฅุฒุงูุฉ ุงูุฎูุงุฑุงุช ุงูุฃุฎุฑู
        
        with col2:
            ai_enabled = st.toggle("ุชูุนูู ุงูุจุญุซ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู", value=True)
            auto_save = st.checkbox("ุงูุญูุธ ุงูุชููุงุฆู ููุจูุงูุงุช", value=True)
        
        if st.button("๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช"):
            st.success("ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ!")
    
    with settings_tabs[1]:
        st.markdown("### ๐ ุฅุนุฏุงุฏุงุช ุงูุชุญุฏูุซุงุช")
        
        st.checkbox("ุงูุชุญุฏูุซุงุช ุงููุงููููุฉ ุงูุฌุฏูุฏุฉ", value=True)
        st.checkbox("ุงูุชุญุฏูุซุงุช ุงูููุฑูุฉ ููููุตุฉ", value=True)
        st.checkbox("ุชูุจููุงุช ุงูุฃูุงู ูุงูุฎุตูุตูุฉ", value=True)
        
        st.info("""
        **ูุนูููุงุช ุงูุชุญุฏูุซุงุช:**
        - ูุชู ุชุญุฏูุซ ุงูููุงููู ุจุดูู ุดูุฑู
        - ุขุฎุฑ ุชุญุฏูุซ: ููุงูุฑ 2025
        - ุงููุตุงุฏุฑ: ูุฒุงุฑุฉ ุงูุนูู ูุงูุฏููุงู ุงูุฑุณูู
        """)
        
        if st.button("๐พ ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุชุญุฏูุซุงุช"):
            st.success("ุชู ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุชุญุฏูุซุงุช!")
    
    with settings_tabs[2]:
        st.markdown("### ๐ก๏ธ ุงูุฎุตูุตูุฉ ูุงูุฃูุงู")
        
        st.markdown("""
        **ุณูุงุณุฉ ุงูุฎุตูุตูุฉ:**
        - ุงูููุตุฉ ูุง ุชุทูุจ ุฃู ุชุฎุฒู ุฃู ูุนูููุงุช ุดุฎุตูุฉ
        - ุฌููุน ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ูุฃุบุฑุงุถ ุชุนููููุฉ ูุชูุนููุฉ ููุท
        - ูุง ูุชู ูุดุงุฑูุฉ ุฃู ูุนูููุงุช ูุน ุฃุทุฑุงู ุซุงูุซุฉ
        - ุงูุชุฒุงู ูุงูู ุจูุงููู ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุฃุฑุฏูู
        """)
        
        st.warning("""
        **ุชูููู ุงูุฃูุงู:**
        - ูุฐู ุงูููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ููุท
        - ูุง ุชููู ุจุชูุฏูู ุงุณุชุดุงุฑุงุช ูุงููููุฉ ุดุฎุตูุฉ
        - ูุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู ุงููุชุฎุตุต
        - ุงููุนูููุงุช ููุฏูุฉ ูุฃุบุฑุงุถ ุงููุนุฑูุฉ ุงูุนุงูุฉ
        """)

# ==========================
# ๐ท ูุณู ุงูุนูุงู ุงูููุณุน ูุงูุดุงูู (ุงูููุฏ ุงููุงูู)
# ==========================
def show_workers_section():
    st.markdown("### ๐ท ูุณู ุงูุนูุงู - ุงูููุตุฉ ุงูุดุงููุฉ ูุญููู ุงูุนุงูููู ูู ุงูุฃุฑุฏู 2025")
    
    worker_tabs = st.tabs([
        "๐ ุงููุธุฑุฉ ุงูุนุงูุฉ", 
        "๐ ุงูุญููู ุงูุฃุณุงุณูุฉ",
        "๐ฐ ุงูุญููู ุงููุงููุฉ",
        "โฐ ููุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช",
        "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ",
        "โ๏ธ ุงูุฅูุฐุงุฑุงุช ูุงููุตู",
        "๐ ุงูุดูุงูู ูุงูููุงุฒุนุงุช",
        "๐ ุงูุชูุนูุฉ ุงููุงููููุฉ",
        "๐งฎ ุญุงุณุจุงุช ุงููุณุชุญูุงุช",
        "๐ ุงูููุชุจุฉ ุงููุงููููุฉ",
        "๐ ูุฏูู ุงูุญููู",
        "๐ ุชูููู ุงููุถุน"
    ])
    
    with worker_tabs[0]:
        show_workers_overview()
    
    with worker_tabs[1]:
        show_basic_rights()
    
    with worker_tabs[2]:
        show_financial_rights()
    
    with worker_tabs[3]:
        show_work_time_vacations()
    
    with worker_tabs[4]:
        show_safety_protection()
    
    with worker_tabs[5]:
        show_warnings_termination()
    
    with worker_tabs[6]:
        show_complaints_disputes()
    
    with worker_tabs[7]:
        show_legal_awareness()
    
    with worker_tabs[8]:
        show_workers_calculators()
    
    with worker_tabs[9]:
        show_workers_library()
    
    with worker_tabs[10]:
        show_rights_checker()
    
    with worker_tabs[11]:
        show_situation_assessment()

# ==========================
# ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ ููุนูุงู - ููุณุนุฉ
# ==========================
def show_workers_overview():
    st.markdown("#### ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ - ุญูููู ุงููุงููููุฉ ูุนุงูู ูู ุงูุฃุฑุฏู")
    
    # ุจุทุงูุฉ ุชุฑุญูุจูุฉ ุชูุงุนููุฉ
    col1, col2, col3 = st.columns([2, 1, 1])
    
    with col1:
        st.markdown("""
        <div class="success-card">
        <h3>๐ฏ ูุฑุญุจุงู ุจู ูู ููุตุฉ ุญููู ุงูุนุงูููู</h3>
        <p>ูุฐู ุงูููุตุฉ ุชูููู ูู ููู ุญูููู ุงููุงููููุฉ ุงููุงููุฉ ููู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู 
        ูุชุนุฏููุงุชู ุงูุญุฏูุซุฉ ูุนุงู 2025. ุชุนุฑู ุนูู ุญูููู ูุชุนูู ููู ุชุญูููุง.</p>
        </div>
        """, unsafe_allow_html=True)
    
    with col2:
        st.markdown("""
        <div class="info-card">
        <h4>๐ ุทูุงุฑุฆ</h4>
        <p><strong>ูุฒุงุฑุฉ ุงูุนูู:</strong> 06-5802666</p>
        <p><strong>ุงูุทูุงุฑุฆ:</strong> 911</p>
        <p><strong>ุงูุฏุนู ุงููุงูููู:</strong> 079-0000000</p>
        </div>
        """, unsafe_allow_html=True)
    
    with col3:
        st.markdown("""
        <div class="emergency-card">
        <h4>๐จ ุญุงูุฉ ุทุงุฑุฆุฉุ</h4>
        <p>ูุตู ุชุนุณูู - ุชุญุฑุด - ุชุฃุฎุฑ ุฑูุงุชุจ</p>
        <button style="background: white; color: red; border: none; padding: 0.5rem 1rem; border-radius: 5px; margin-top: 0.5rem;">
        ุงุถุบุท ูููุณุงุนุฏุฉ ุงูุนุงุฌูุฉ
        </button>
        </div>
        """, unsafe_allow_html=True)
    
    # ุฃุญุฏุซ ุงูุชุญุฏูุซุงุช 2025 ูุน ุชูุงุตูู ููุณุนุฉ
    st.markdown("#### ๐ข ุฃุญุฏุซ ุงูุชุญุฏูุซุงุช ุงูุชุดุฑูุนูุฉ 2025")
    
    updates_2025 = [
        {
            "icon": "๐ฐ",
            "title": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
            "description": "290 ุฏููุงุฑ ูููุคูููู ุฌุงูุนูุงู (ุฒูุงุฏุฉ 30 ุฏููุงุฑ)",
            "law": "ูุฑุงุฑ ูุฌูุณ ุงููุฒุฑุงุก 2025/1",
            "impact": "ูุดูู ุฌููุน ุงูุนุงูููู ูู ุงููุทุงุน ุงูุฎุงุต",
            "deadline": "ุณุงุฑู ูู 1/1/2025"
        },
        {
            "icon": "๐ฅ", 
            "title": "ุฅุฌุงุฒุฉ ุงูุฃูููุฉ",
            "description": "10 ุฃุณุงุจูุน ูุฏููุนุฉ ุงูุฃุฌุฑ ุจุงููุงูู (ุฒูุงุฏุฉ ุฃุณุจูุนูู)",
            "law": "ุงููุงุฏุฉ 69 ุงููุนุฏูุฉ",
            "impact": "ุชุดูู ุฌููุน ุงูุนุงููุงุช ุจุบุถ ุงููุธุฑ ุนู ูุฏุฉ ุงูุฎุฏูุฉ",
            "deadline": "ุณุงุฑู ูู 1/1/2025"
        },
        {
            "icon": "๐ก๏ธ",
            "title": "ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด",
            "description": "ุฅุฌุฑุงุกุงุช ุตุงุฑูุฉ ุฌุฏูุฏุฉ ูุนููุจุงุช ูุดุฏุฏุฉ",
            "law": "ุงููุงุฏุฉ 105 ููุฑุฑ",
            "impact": "ุญูุงูุฉ ูุงููุฉ ูุน ุนููุจุงุช ุชุตู ุฅูู ุงููุตู",
            "deadline": "ุณุงุฑู ูู 1/3/2025"
        },
        {
            "icon": "๐",
            "title": "ุงูุนูู ุนู ุจูุนุฏ",
            "description": "ุชูุธูู ูุงูููู ุฌุฏูุฏ ููุนูู ุงููุฑู ูุงููุฌูู",
            "law": "ูุธุงู ุงูุนูู ุงููุฑู 2025",
            "impact": "ุชุญุฏูุฏ ุญููู ููุงุฌุจุงุช ุงูุนูู ุนู ุจุนุฏ",
            "deadline": "ุณุงุฑู ูู 1/2/2025"
        }
    ]
    
    cols = st.columns(4)
    for idx, update in enumerate(updates_2025):
        with cols[idx]:
            st.markdown(f"""
            <div style="background: white; padding: 1rem; border-radius: 10px; border: 1px solid #e0e0e0; text-align: center; height: 220px; display: flex; flex-direction: column; justify-content: space-between;">
                <div>
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">{update['icon']}</div>
                    <h4 style="margin: 0.5rem 0; color: #1E40AF; font-size: 0.9rem;">{update['title']}</h4>
                    <p style="font-size: 0.7rem; color: #666; margin: 0.5rem 0;">{update['description']}</p>
                </div>
                <div>
                    <p style="font-size: 0.6rem; color: #059669; margin: 0.2rem 0;">{update['law']}</p>
                    <p style="font-size: 0.6rem; color: #DC2626; margin: 0.2rem 0;">{update['deadline']}</p>
                </div>
            </div>
            """, unsafe_allow_html=True)
    
    # ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ ูุน ุชูุงุตูู ุฅุถุงููุฉ
    st.markdown("#### ๐ ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ ุนู ุญูููู")
    
    stats_cols = st.columns(4)
    with stats_cols[0]:
        st.metric("ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "290 ุฏููุงุฑ", "30 ุฏููุงุฑ", delta_color="inverse")
        st.caption("ูููุคูููู ุฌุงูุนูุงู - 250 ูุบูุฑ ุงููุคูููู")
    with stats_cols[1]:
        st.metric("ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", "14-28 ููู", "ุญุณุจ ุงูุฎุฏูุฉ")
        st.caption("14 ููู ูุฃูู ูู 5 ุณููุงุช - 28 ูุฃูุซุฑ ูู 10")
    with stats_cols[2]:
        st.metric("ุฅุฌุงุฒุฉ ุงูุฃูููุฉ", "10 ุฃุณุงุจูุน", "ุฃุณุจูุนูู")
        st.caption("ูุฏููุนุฉ ุงูุฃุฌุฑ ุจุงููุงูู - ูุญุฏุซุฉ 2025")
    with stats_cols[3]:
        st.metric("ุณุงุนุงุช ุงูุนูู", "48 ุฃุณุจูุนูุงู", "8 ููููุงู")
        st.caption("ูุญุฏ ุฃูุตู - 6 ุณุงุนุงุช ูู ุฑูุถุงู")
    
    # ุงูุชูุจููุงุช ุงููุงูุฉ ูุน ุชุตูููุงุช
    st.markdown("#### ๐ ุชูุจููุงุช ูุงูุฉ ููุนุงูููู")
    
    alert_categories = {
        "๐ฐ ูุงููุฉ": [
            "ูุฌุจ ุตุฑู ุงูุฑุงุชุจ ุฎูุงู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑ - ุงููุงุฏุฉ 55",
            "ุจุฏู ุงูุนูู ุงูุฅุถุงูู 125% ููููุงุฑู ู150% ููุนุทูุงุช - ุงููุงุฏุฉ 42",
            "ูุง ูุฌูุฒ ุงูุงุณุชูุทุงุน ุฃูุซุฑ ูู 50% ูู ุงูุฑุงุชุจ - ุงููุงุฏุฉ 56"
        ],
        "โ๏ธ ูุงููููุฉ": [
            "ูุญู ูู ุนูุฏ ุนูู ููุชูุจ ูุจู ุจุฏุก ุงูุนูู - ุงููุงุฏุฉ 13",
            "ุงููุตู ุงูุชุนุณูู ูุนุทู ุญู ุงูุชุนููุถ - ุงููุงุฏุฉ 73", 
            "ุงูุฅุฎุทุงุฑ ุงููุณุจู ุฅูุฒุงูู ูุจู ุงููุตู - ุงููุงุฏุฉ 72"
        ],
        "๐ก๏ธ ุณูุงูุฉ": [
            "ุจูุฆุฉ ุงูุนูู ูุฌุจ ุฃู ุชููู ุขููุฉ ูุตุญูุฉ - ุงููุงุฏุฉ 79",
            "ุชูููุฑ ูุนุฏุงุช ุงูููุงูุฉ ุงูุดุฎุตูุฉ ูุฌุงูุงู - ุงููุงุฏุฉ 79",
            "ุงูุชุฏุฑูุจ ุนูู ุฅุฌุฑุงุกุงุช ุงูุณูุงูุฉ ุฅูุฒุงูู - ุงููุงุฏุฉ 80"
        ]
    }
    
    for category, alerts in alert_categories.items():
        with st.expander(f"{category} - {len(alerts)} ุชูุจูู", expanded=True):
            for alert in alerts:
                st.info(f"๐ {alert}")
    
    # ุฎุฏูุงุช ุณุฑูุนุฉ
    st.markdown("#### ๐ ุฎุฏูุงุช ุณุฑูุนุฉ")
    
    quick_services = st.columns(4)
    with quick_services[0]:
        if st.button("๐งฎ ุญุณุงุจ ุงููุณุชุญูุงุช", use_container_width=True):
            st.session_state.active_calculator = "ุงููุณุชุญูุงุช"
    with quick_services[1]:
        if st.button("๐ ูููุฐุฌ ุดููู", use_container_width=True):
            st.session_state.active_template = "ุดููู"
    with quick_services[2]:
        if st.button("๐ ูุญุต ุญูููู", use_container_width=True):
            st.session_state.active_checker = "ูุญุต"
    with quick_services[3]:
        if st.button("๐ ุงุณุชุดุงุฑุฉ ุนุงุฌูุฉ", use_container_width=True):
            st.session_state.emergency_help = True

# ==========================
# ๐ ุงูุญููู ุงูุฃุณุงุณูุฉ - ููุณุนุฉ
# ==========================
def show_basic_rights():
    st.markdown("#### ๐ ุงูุญููู ุงูุฃุณุงุณูุฉ ูุงูุถูุงูุงุช ุงููุงููููุฉ")
    
    rights_tabs = st.tabs(["ุงูุญููู ุงูุชุนุงูุฏูุฉ", "ุงูุญููู ุงููุธูููุฉ", "ุงูุญููู ุงูุงุฌุชูุงุนูุฉ", "ุงูุญูุงูุฉ ุงููุงููููุฉ", "ุงููุณุงูุงุฉ ูุนุฏู ุงูุชูููุฒ"])
    
    with rights_tabs[0]:
        st.markdown("##### ๐ ุงูุญููู ุงูุชุนุงูุฏูุฉ ูุงูุดุฑูุท ุงูุฃุณุงุณูุฉ")
        
        contract_rights = [
            {
                "right": "ุนูุฏ ุนูู ููุชูุจ",
                "description": "ูุฌุจ ุชูููุน ุนูุฏ ุนูู ููุชูุจ ูุจู ุจุฏุก ุงูุฎุฏูุฉ ูุญุฏุฏ ุฌููุน ุงูุดุฑูุท ูุงูุฃุญูุงู",
                "law": "ุงููุงุฏุฉ 13",
                "details": "ูุฌุจ ุฃู ูุดูู ุงูุฑุงุชุจ ุงูุฃุณุงุณูุ ุงููุฏุฉุ ุงูููุงูุ ููุงู ุงูุนููุ ุณุงุนุงุช ุงูุนููุ ุงูุฅุฌุงุฒุงุช",
                "obligations": "ุตุงุญุจ ุงูุนูู ููุฒู ุจุชูููุฑ ุงูุนูุฏุ ุงูุนุงูู ููุฒู ุจูุฑุงุฌุนุฉ ุงูุดุฑูุท ูุจู ุงูุชูููุน",
                "penalties": "ุบุฑุงูุฉ 500-1000 ุฏููุงุฑ ูุตุงุญุจ ุงูุนูู ูู ุญุงูุฉ ุนุฏู ุงูุชุฒุงูู"
            },
            {
                "right": "ุงูุดูุงููุฉ ูู ุงูุดุฑูุท",
                "description": "ุญูู ูู ูุนุฑูุฉ ุฌููุน ุดุฑูุท ุงูุนูู ุจุดูู ูุงุถุญ ูููุตู ูุจุฏูู ุบููุถ",
                "law": "ุงููุงุฏุฉ 14", 
                "details": "ูุดูู ุดุฑูุท ุงูุชุฌุฑุจุฉุ ุงูููุงูุขุชุ ุงูุจุฏูุงุชุ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงููุ ุฃุณุจุงุจ ุงููุตู",
                "obligations": "ุดุฑุญ ุฌููุน ุงูุจููุฏ ุจูุถูุญุ ุงูุฅุฌุงุจุฉ ุนูู ุงูุงุณุชูุณุงุฑุงุชุ ุชูุถูุญ ุงูุบุงูุถ",
                "penalties": "ุจุทูุงู ุงูุจููุฏ ุงูุบุงูุถุฉุ ุญู ุงูุนุงูู ูู ุชูุณูุฑูุง ูุตุงูุญู"
            },
            {
                "right": "ุชุณููู ูุณุฎุฉ ูู ุงูุนูุฏ",
                "description": "ูุญู ูู ุงูุญุตูู ุนูู ูุณุฎุฉ ูู ุนูุฏ ุงูุนูู ูููุน ุนููู ูู ุงูุทุฑููู",
                "law": "ุงููุงุฏุฉ 15",
                "details": "ูุฌุจ ุฃู ุชุญุชูุธ ุจูุณุฎุฉ ูู ุงูุนูุฏ ุทูุงู ูุฏุฉ ุงูุฎุฏูุฉุ ูุชููู ูุฑุฌุนุงู ูู ุฃู ูุฒุงุน",
                "obligations": "ุชุณููู ูุณุฎุฉ ููุนุงูู ููุฑ ุงูุชูููุนุ ุงูุงุญุชูุงุธ ุจูุณุฎุฉ ูุฏู ุตุงุญุจ ุงูุนูู",
                "penalties": "ุนุฏู ุฅุซุจุงุช ุงูุดุฑูุท ุจุฏูู ูุณุฎุฉุ ุตุนูุจุฉ ุงููุทุงูุจุฉ ุจุงูุญููู"
            },
            {
                "right": "ุชุญุฏูุซ ุงูุนูุฏ",
                "description": "ูู ุญุงูุฉ ุชุนุฏูู ุฃู ุจูุฏุ ูุฌุจ ุชุญุฏูุซ ุงูุนูุฏ ูุชุงุจูุงู ูุจููุงููุฉ ุงูุทุฑููู",
                "law": "ุงููุงุฏุฉ 17",
                "details": "ุฃู ุชุนุฏูู ูู ุงูุฑุงุชุจุ ุงูููุงูุ ุงููุฏุฉุ ุงูููุงู ูุญุชุงุฌ ูุชุนุฏูู ุงูุนูุฏ",
                "obligations": "ุงูุงุชูุงู ุนูู ุงูุชุนุฏููุงุชุ ุงูุชูููุน ุนูู ุงูุฅุถุงูุงุชุ ุงูุชุณุฌูู",
                "penalties": "ุจุทูุงู ุงูุชุนุฏููุงุช ุบูุฑ ุงูููุซูุฉุ ุญู ุงูุนุงูู ูู ุงูุฑุฌูุน ููุนูุฏ ุงูุฃุตูู"
            },
            {
                "right": "ูุชุฑุฉ ุงูุชุฌุฑุจุฉ",
                "description": "ุชูุธูู ูุชุฑุฉ ุงูุชุฌุฑุจุฉ ูุญุฏูุฏูุง ุงููุงููููุฉ ูุดุฑูุท ุฅููุงุฆูุง",
                "law": "ุงููุงุฏุฉ 25",
                "details": "ุฃูุตู ูุฏุฉ 6 ุฃุดูุฑุ ูุญู ููุทุฑููู ุฅููุงุก ุงูุนูุฏ ุฎูุงููุง ุจุฏูู ุชุนููุถ",
                "obligations": "ูุถูุญ ูุฏุฉ ุงูุชุฌุฑุจุฉุ ุชูููู ุงูุฃุฏุงุกุ ุฅุฎุทุงุฑ ุจุฅููุงุก ุงูุชุฌุฑุจุฉ",
                "penalties": "ุงุนุชุจุงุฑ ุงูุนูุฏ ุฏุงุฆู ุจุนุฏ ุงูุชูุงุก ุงูุชุฌุฑุจุฉุ ุญููู ูุงููุฉ ููุนุงูู"
            }
        ]
        
        for right in contract_rights:
            with st.expander(f"๐ {right['right']}", expanded=True):
                col1, col2 = st.columns([3, 1])
                with col1:
                    st.write(f"**ุงููุตู:** {right['description']}")
                    st.write(f"**ุงูุชูุงุตูู:** {right['details']}")
                    st.write(f"**ุงูุงูุชุฒุงูุงุช:** {right['obligations']}")
                with col2:
                    st.write(f"**ุงููุงููู:** {right['law']}")
                    st.write(f"**ุงูุนููุจุงุช:** {right['penalties']}")
                    st.success("โ ุญู ุฃุณุงุณู ููููู")
                
                # ูุคุดุฑ ุงูุงูุชุซุงู
                compliance = st.slider(f"ูุณุชูู ุชุทุจูู ูุฐุง ุงูุญู ูู ุนููู", 0, 100, 50, key=f"contract_{right['right']}")
                st.progress(compliance/100)

# ... (ุณูุชู ุงุณุชููุงู ุฌููุน ุงูุฏูุงู ุงูุฃุฎุฑู ุจููุณ ุงูุทุฑููุฉ)

# ==========================
# ๐งญ ุงูุชูููุฐ ุงูุฑุฆูุณู ููุชุทุจูู - ูุญุฏุซ
# ==========================
def main():
    # ุงูุดุฑูุท ุงูุฌุงูุจู - ูุญุฏุซ
    with st.sidebar:
        st.markdown(
            f"<div style='text-align: center; padding: 1rem;'>"
            f"<h2>โ๏ธ {config.get('APP_INFO', {}).get('APP_NAME', 'ููุตุฉ ุญูููู ุงููุงููููุฉ')}</h2>"
            f"<p style='color: #666; font-size: 0.9rem;'>ุงูุฅุตุฏุงุฑ {config.get('APP_INFO', {}).get('VERSION', 'v2025.1')}</p>"
            f"</div>", unsafe_allow_html=True
        )
        st.markdown("---")
        
        # ุชูููู ููู ูู ุงูุดุฑูุท ุงูุฌุงูุจู
                st.warning("""
        **ุชูููู ููู:**
        ููุตุฉ ุชูุนููุฉ ุชุนููููุฉ
        ูุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู
        """)
        
        # ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ุงููุญุฏุซุฉ - ุงูุฅุนุฏุงุฏุงุช ุขุฎุฑ ุฎูุงุฑ
        page_options = {
            "๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ": show_home_page,
            "๐ท ุงูุนูุงู": show_workers_section,
            "๐ ุฃุตุญุงุจ ุงูุนูู": show_employers_section,
            "๐ฌ ุงูุจุงุญุซูู": show_researchers_section,
            "๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ": show_calculators_section,
            "๐ ูุญุงูู ุงูุดููู": show_complaint_simulator,
            "๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ": show_authorities_section,
            "๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู": show_rights_map,
            "โฐ ููุจู ุงูููุงุนูุฏ": show_reminder_system,
            "โ๏ธ ุงูุฅุนุฏุงุฏุงุช": show_settings_page  # ุงูุฅุนุฏุงุฏุงุช ุขุฎุฑ ุฎูุงุฑ
        }
        
        selected_page = st.selectbox("ุงุฎุชุฑ ุงููุณู", list(page_options.keys()), key="main_nav")
        
        st.markdown("---")
        st.markdown("### ๐ ุฏุนู ุงูููุตุฉ")
        st.write("๐ง support@huqooqi.com")
        st.write("๐ ุงูุฃุญุฏ - ุงูุฎููุณ: 8:00 ุต - 3:00 ู")
        
        st.markdown("---")
        st.markdown("### ๐ ุชุญุฏูุซุงุช ูููุฉ")
        st.info("""
        - ๐ข ุชุญุฏูุซุงุช ุงูููุงููู 2025
        - ๐ ููุงุฏ ุชุนููููุฉ ุฌุฏูุฏุฉ
        - โ๏ธ ุชุญุฏูุซุงุช ุชุดุฑูุนูุฉ
        - ๐ ูุตุงุฏุฑ ููุซููุฉ
        """)
    
    # ุนุฑุถ ุงูุตูุญุฉ ุงููุญุฏุฏุฉ
    if selected_page in page_options:
        try:
            page_options[selected_page]()
        except Exception as e:
            st.error(f"โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุนุฑุถ ุงูุตูุญุฉ: {e}")
            st.info("ูุฑุฌู ุชุญุฏูุซ ุงูุตูุญุฉ ุฃู ุงููุญุงููุฉ ูุงุญูุงู")
    
    # ุงูุชุฐููู - ูุญุฏุซ
    st.markdown("---")
    footer_text = config.get("FOOTER", {}).get("TEXT", "ยฉ 2025 ููุตุฉ ุญูููู ุงููุงููููุฉ โ ููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ูุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู ุงููุชุฎุตุต")
    st.markdown(f"<center><small>{footer_text}</small></center>", unsafe_allow_html=True)

# ==========================
# ๐ ูุณู ุฃุตุญุงุจ ุงูุนูู ุงููุชูุงูู (ุงูููุฏ ุงููุงูู)
# ==========================
def show_employers_section():
    st.markdown("### ๐ ูุณู ุฃุตุญุงุจ ุงูุนูู - ุงููุธุงู ุงููุชูุงูู ููุฅุฏุงุฑุฉ ุงููุงููููุฉ 2025")
    
    employer_tabs = st.tabs([
        "๐ ุงููุธุฑุฉ ุงูุนุงูุฉ", 
        "๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ",
        "๐ ููุงุฐุฌ ูุนููุฏ",
        "๐ฐ ุงูุญุงุณุจุงุช ุงููุงููุฉ",
        "โ๏ธ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ",
        "๐ ูุฏูู ุงูุงูุชุซุงู", 
        "๐ฏ ุงูุชูููู ุงูุฐุงุชู",
        "๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช"
    ])
    
    with employer_tabs[0]:
        show_employers_overview()
    
    with employer_tabs[1]:
        show_legal_obligations()
    
    with employer_tabs[2]:
        show_contracts_templates()
    
    with employer_tabs[3]:
        show_financial_calculators()
    
    with employer_tabs[4]:
        show_risk_management()
    
    with employer_tabs[5]:
        show_compliance_checker()
    
    with employer_tabs[6]:
        show_employer_self_assessment()
    
    with employer_tabs[7]:
        show_employers_reports()

# ==========================
# ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ ูุฃุตุญุงุจ ุงูุนูู
# ==========================
def show_employers_overview():
    st.markdown("#### ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ - ุงูุฅุฏุงุฑุฉ ุงููุงููููุฉ ุงููุชูุงููุฉ")
    
    # ุจุทุงูุฉ ุงููุคุณุณุฉ ุงูุณุฑูุนุฉ
    col1, col2, col3, col4 = st.columns(4)
    
    with col1:
        st.metric("ุงูููุธููู", "47", "3")
    with col2:
        st.metric("ูุนุฏู ุงูุงูุชุซุงู", "82%", "5%")
    with col3:
        st.metric("ุงููุฎุงุทุฑ ุงููุดุทุฉ", "2", "-1")
    with col4:
        st.metric("ุงูุชุญุฏูุซุงุช ุงููุงููููุฉ", "5", "2 ุฌุฏูุฏุฉ")
    
    # ุชุญุฏูุซุงุช 2025
    st.markdown("#### ๐ข ุชุญุฏูุซุงุช 2025 ูุฃุตุญุงุจ ุงูุนูู")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.markdown("""
        <div class="info-card">
        <h4>๐ ุฃุจุฑุฒ ุงูุชุนุฏููุงุช ุงูุชุดุฑูุนูุฉ</h4>
        <ul>
        <li>๐ฐ <strong>ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ:</strong> 290 ุฏููุงุฑ ูููุคูููู</li>
        <li>๐ก๏ธ <strong>ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด:</strong> ุฅุฌุฑุงุกุงุช ุฅูุฒุงููุฉ ุฌุฏูุฏุฉ</li>
        <li>๐ฅ <strong>ุฅุฌุงุฒุฉ ุงูุฃูููุฉ:</strong> 10 ุฃุณุงุจูุน ูุฏููุนุฉ ุงูุฃุฌุฑ</li>
        <li>๐ <strong>ุงูุนูู ุนู ุจูุนุฏ:</strong> ุชูุธูู ูุงูููู ุฌุฏูุฏ</li>
        <li>๐ <strong>ุงูุฅุจูุงุบ ุงูุฅููุชุฑููู:</strong> ุชุจุณูุท ุงูุฅุฌุฑุงุกุงุช</li>
        </ul>
        </div>
        """, unsafe_allow_html=True)
    
    with col2:
        st.markdown("""
        <div class="success-card">
        <h4>โ ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ ููุฑุงู</h4>
        <ul>
        <li>ูุฑุงุฌุนุฉ ูููู ุงูุฑูุงุชุจ ูุชุญุฏูุซู</li>
        <li>ุงุนุชูุงุฏ ุณูุงุณุงุช ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด</li>
        <li>ุชุญุฏูุซ ุนููุฏ ุงูุนูู ุญุณุจ ุงูุชุนุฏููุงุช</li>
        <li>ุชุฏุฑูุจ ุงููุณุคูููู ุนูู ุงูุชุดุฑูุนุงุช ุงูุฌุฏูุฏุฉ</li>
        <li>ุงูุชุฃูุฏ ูู ูุธุงู ุงูุฅุจูุงุบ ุงูุฅููุชุฑููู</li>
        </ul>
        </div>
        """, unsafe_allow_html=True)
    
    # ูุคุดุฑุงุช ุฃุฏุงุก ุณุฑูุนุฉ
    st.markdown("#### ๐ ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฑุฆูุณูุฉ")
    
    kpi_cols = st.columns(4)
    with kpi_cols[0]:
        st.metric("ุงูุงูุชุซุงู ุงููุงูู", "95%", "2%")
    with kpi_cols[1]:
        st.metric("ุงูุงูุชุซุงู ุงูุชุนุงูุฏู", "88%", "5%")
    with kpi_cols[2]:
        st.metric("ุงูุณูุงูุฉ ุงูููููุฉ", "92%", "3%")
    with kpi_cols[3]:
        st.metric("ุฑุถุง ุงูููุธููู", "85%", "4%")
    
    # ุงูุชูุจููุงุช ุงูุนุงุฌูุฉ
    st.markdown("#### ๐ ุชูุจููุงุช ุนุงุฌูุฉ")
    
    alerts = [
        {"ููุน": "โฐ ููุนุฏ", "ูุตู": "ุชูุฏูู ุฅูุฑุงุฑุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู", "ุชุงุฑูุฎ": "15/02/2025"},
        {"ููุน": "โ๏ธ ูุงูููู", "ูุตู": "ุชุญุฏูุซ ุณูุงุณุงุช ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด", "ุชุงุฑูุฎ": "28/02/2025"},
        {"ููุน": "๐ฐ ูุงูู", "ูุตู": "ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู ุงูุฌุฏูุฏ ููุฃุฌูุฑ", "ุชุงุฑูุฎ": "ููุฑู"}
    ]
    
    for alert in alerts:
        st.warning(f"{alert['ููุน']} {alert['ูุตู']} - {alert['ุชุงุฑูุฎ']}")

# ==========================
# ๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ุงูุดุงููุฉ
# ==========================
def show_legal_obligations():
    st.markdown("#### ๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ุงูุดุงููุฉ 2025")
    
    obligations_tabs = st.tabs(["ุงูุชูุธูู", "ุงูุฃุฌูุฑ", "ุงูุณูุงูุฉ", "ุฅููุงุก ุงูุฎุฏูุฉ"])
    
    with obligations_tabs[0]:
        st.markdown("##### ๐ ุงูุชุฒุงูุงุช ุงูุชูุธูู ูุงูุชุนุงูุฏ")
        
        hiring_obligations = [
            {
                "ุงูุงูุชุฒุงู": "ุชูููุฑ ุนูุฏ ุนูู ููุชูุจ",
                "ุงูุชูุงุตูู": "ูุฌุจ ุชูููุน ุนูุฏ ุนูู ููุชูุจ ูุจู ุจุฏุก ุงูุฎุฏูุฉ",
                "ุงููููุฉ": "ูุจู ุงูุจุฏุก ุจุงูุนูู",
                "ุงููุงููู": "ุงููุงุฏุฉ 13",
                "ุงูุนููุจุฉ": "ุบุฑุงูุฉ 500-1000 ุฏููุงุฑ"
            },
            {
                "ุงูุงูุชุฒุงู": "ุงูุชุฃูุฏ ูู ุฃูููุฉ ุงูุนุงูู",
                "ุงูุชูุงุตูู": "ุงูุชุญูู ูู ุงูุดูุงุฏุงุช ูุงููุคููุงุช ูุงูุฎูููุฉ",
                "ุงููููุฉ": "ูุจู ุงูุชุนุงูุฏ",
                "ุงููุงููู": "ุงููุงุฏุฉ 16",
                "ุงูุนููุจุฉ": "ุบุฑุงูุฉ 300 ุฏููุงุฑ"
            },
            {
                "ุงูุงูุชุฒุงู": "ุชุณุฌูู ุงูุนุงูู ูู ุงูุถูุงู",
                "ุงูุชูุงุตูู": "ุชุณุฌูู ุงูุนุงูู ูู ูุคุณุณุฉ ุงูุถูุงู ุงูุงุฌุชูุงุนู",
                "ุงููููุฉ": "ุฎูุงู 7 ุฃูุงู ูู ุงูุชุนููู",
                "ุงููุงููู": "ุงููุงุฏุฉ 81",
                "ุงูุนููุจุฉ": "ุบุฑุงูุฉ 5% ุดูุฑูุงู"
            },
            {
                "ุงูุงูุชุฒุงู": "ููุงุฆุญ ุงูุนูู ุงูุฏุงุฎููุฉ",
                "ุงูุชูุงุตูู": "ุฅุนุฏุงุฏ ููุงุฆุญ ุชูุธูู ุงูุนูู ููุดุฑูุง",
                "ุงููููุฉ": "30 ูููุงู ูู ุจุฏุก ุงููุดุงุท",
                "ุงููุงููู": "ุงููุงุฏุฉ 27",
                "ุงูุนููุจุฉ": "ุบุฑุงูุฉ 200 ุฏููุงุฑ"
            }
        ]
        
        for obligation in hiring_obligations:
            with st.expander(f"๐ {obligation['ุงูุงูุชุฒุงู']}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูุชูุงุตูู:** {obligation['ุงูุชูุงุตูู']}")
                    st.write(f"**ุงููููุฉ:** {obligation['ุงููููุฉ']}")
                with col2:
                    st.write(f"**ุงููุงููู:** {obligation['ุงููุงููู']}")
                    st.write(f"**ุงูุนููุจุฉ:** {obligation['ุงูุนููุจุฉ']}")
                
                st.progress(75)  # ูุคุดุฑ ุงูุงูุชุซุงู
                st.caption(f"ูุณุชูู ุงูุงูุชุซุงู ุงูุญุงูู: 75%")

# ==========================
# ๐ฌ ูุณู ุงูุจุงุญุซูู ุงูููุณุน ุงูุดุงูู (ุงูููุฏ ุงููุงูู)
# ==========================
def show_researchers_section():
    st.markdown("### ๐ฌ ูุณู ุงูุจุงุญุซูู - ุงูููุตุฉ ุงูุจุญุซูุฉ ุงููุชูุงููุฉ ููุงููู ุงูุนูู ุงูุฃุฑุฏูู")
    
    researcher_tabs = st.tabs([
        "๐ ุงููุธุฑุฉ ุงูุนุงูุฉ", 
        "๐ ุงูุชุดุฑูุนุงุช ุงูุฃุณุงุณูุฉ", 
        "โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ",
        "๐ ุงูุฏุฑุงุณุงุช ูุงูุฃุจุญุงุซ",
        "๐ ุงูุจุญุซ ุงููุชูุฏู",
        "๐๏ธ ุฃุฏูุงุช ุงูุจุงุญุซ",
        "๐ ุงููุฑุงุฌุน ูุงููุตุงุฏุฑ",
        "๐ ุงูููุงุฑูุงุช ุงูุฏูููุฉ",
        "๐ ุงูุชุญูููุงุช ุงูุฅุญุตุงุฆูุฉ",
        "๐ฅ ุงููุฌุชูุน ุงูุจุญุซู"
    ])
    
    with researcher_tabs[0]:
        show_researchers_overview()
    
    with researcher_tabs[1]:
        show_legislative_library()
    
    with researcher_tabs[2]:
        show_legal_precedents()
    
    with researcher_tabs[3]:
        show_research_studies()
    
    with researcher_tabs[4]:
        show_advanced_search()
    
    with researcher_tabs[5]:
        show_research_tools()
    
    with researcher_tabs[6]:
        show_references_sources()
    
    with researcher_tabs[7]:
        show_international_comparisons()
    
    with researcher_tabs[8]:
        show_statistical_analysis()
    
    with researcher_tabs[9]:
        show_research_community()

# ==========================
# ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ ููุจุงุญุซูู - ููุณุนุฉ
# ==========================
def show_researchers_overview():
    st.markdown("#### ๐ ุงููุธุฑุฉ ุงูุดุงููุฉ ูุงูุชุญููููุฉ ููุงููู ุงูุนูู ุงูุฃุฑุฏูู")
    
    # ููุฏูุฉ ุชุญููููุฉ
    col1, col2 = st.columns(2)
    
    with col1:
        st.markdown("""
        <div class="research-tool">
        <h3>๐ฏ ุงูุฃูุฏุงู ุงูุจุญุซูุฉ</h3>
        <p>ููุฏู ูุฐุง ุงููุณู ุฅูู ุชูููุฑ ููุตุฉ ุดุงููุฉ ููุจุงุญุซูู ูู ูุงููู ุงูุนูู:</p>
        <ul>
        <li>๐ <strong>ุชุญููู ุชุทูุฑ ุงูุชุดุฑูุน</strong> ุงูุนูุงูู ูู ุงูุฃุฑุฏู</li>
        <li>๐ <strong>ุฏุฑุงุณุฉ ุงูุฃุซุฑ ุงูุงูุชุตุงุฏู</strong> ูุงูุงุฌุชูุงุนู ููููุงููู</li>
        <li>๐ <strong>ููุงุฑูุฉ ุงูุชุดุฑูุน ุงูุฃุฑุฏูู</strong> ูุน ุงูููุงุฐุฌ ุงูุฏูููุฉ</li>
        <li>โ๏ธ <strong>ุฑุตุฏ ุงุชุฌุงูุงุช ุงููุถุงุก</strong> ุงูุนูุงูู</li>
        <li>๐ <strong>ุชูููู ูุนุงููุฉ</strong> ุงูุณูุงุณุงุช ุงูุชุดุฑูุนูุฉ</li>
        </ul>
        </div>
        """, unsafe_allow_html=True)
        
        st.info("""
        ### ๐ ุงููููุฌูุงุช ุงูุจุญุซูุฉ
        - **ุงูุชุญููู ุงููุตู** ููุชุดุฑูุนุงุช
        - **ุงูุฏุฑุงุณุฉ ุงูููุฏุงููุฉ** ูุงูุชุทุจูููุฉ
        - **ุงููููุฌ ุงูููุงุฑู** ูุน ุงูุชุดุฑูุนุงุช ุงูุนุฑุจูุฉ ูุงูุฏูููุฉ
        - **ุงูุชุญููู ุงูุฅุญุตุงุฆู** ููุจูุงูุงุช ุงููุถุงุฆูุฉ
        - **ุฏุฑุงุณุฉ ุงูุญุงูุฉ** ููููุงุฒุนุงุช ุงูุนูุงููุฉ
        """)
    
    with col2:
        st.warning("""
        ### โ๏ธ ุงูุฅุทุงุฑ ุงููุธุฑู
        - **ูุธุฑูุฉ ุงูุนูุฏ** ูู ุงูุนูุงูุงุช ุงูุนูุงููุฉ
        - **ูุจุฏุฃ ุงูุญูุงูุฉ** ููุทุฑู ุงูุถุนูู
        - **ุงูุนุฏุงูุฉ ุงูุงุฌุชูุงุนูุฉ** ูู ุงูุชุดุบูู
        - **ุงูููุงุฒูุฉ** ุจูู ูุตุงูุญ ุงูุฃุทุฑุงู
        - **ุงูุชูููุฉ ุงููุณุชุฏุงูุฉ** ูุณูู ุงูุนูู
        """)
        
        st.error("""
        ### ๐ ุงููุฌุงูุงุช ุงูุจุญุซูุฉ
        - **ุชุดุฑูุนุงุช ุงูุฃุฌูุฑ** ูุงูุถูุงู ุงูุงุฌุชูุงุนู
        - **ุญูุงูุฉ ุงููุฆุงุช** ุงูุฎุงุตุฉ (ุงููุณุงุกุ ุงูุฃุญุฏุงุซ)
        - **ุงูุณูุงูุฉ ุงูููููุฉ** ูุงูุตุญุฉ ุงูุนุงูุฉ
        - **ุชุณููุฉ ุงูููุงุฒุนุงุช** ูุงููุณุงุทุฉ
        - **ุงูุนูู ุงูููุงุจู** ูุงูุญุฑูุงุช ุงูููุงุจูุฉ
        """)
    
    # ุงูุฅุญุตุงุฆูุงุช ุงูุชุดุฑูุนูุฉ ุงูุชูุตูููุฉ
    st.markdown("### ๐ ุงููุคุดุฑุงุช ุงูุชุดุฑูุนูุฉ ูุงูุจุญุซูุฉ")
    
    col1, col2, col3, col4 = st.columns(4)
    
    with col1:
        st.metric("๐ ุงูููุงุฏ ุงููุงููููุฉ", "148 ูุงุฏุฉ", "+12 ุชุนุฏูู")
        st.metric("โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ", "2,340 ุญูู", "+150 ุณูููุงู")
    
    with col2:
        st.metric("๐ ุงูุฃูุธูุฉ ูุงูุชุนูููุงุช", "45 ูุธุงู", "5 ุฃูุธูุฉ ุฌุฏูุฏุฉ")
        st.metric("๐ ุงูุฏุฑุงุณุงุช ุงูุจุญุซูุฉ", "120 ุฏุฑุงุณุฉ", "15 ุฏุฑุงุณุฉ ุณูููุงู")
    
    with col3:
        st.metric("๐ ุงูุงุชูุงููุงุช ุงูุฏูููุฉ", "18 ุงุชูุงููุฉ", "5 ูุตุงุฏูุงุช ุฌุฏูุฏุฉ")
        st.metric("๐ ูุนุฏู ุงูุชุนุฏูู ุงูุชุดุฑูุนู", "2.3 ุณูุฉ", "ูู 2.3 ุณูุฉ")
    
    with col4:
        st.metric("โก ุณุฑุนุฉ ุงูุชูุงุถู", "8.5 ุดูุฑ", "ุชุญุณู 15%")
        st.metric("๐ฐ ุชูููุฉ ุงูููุงุฒุนุงุช", "45M ุฏููุงุฑ", "ุณูููุงู")

# ==========================
# ๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ ุงูููุณุนุฉ ุงูุดุงููุฉ (ุงูููุฏ ุงููุงูู)
# ==========================
def show_calculators_section():
    st.markdown("### ๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ ุงููุชูุงููุฉ - ุงููุธุงู ุงูุดุงูู 2025")
    
    calc_tabs = st.tabs([
        "๐ฐ ููุงูุฉ ุงูุฎุฏูุฉ", 
        "โฐ ุงูุนูู ุงูุฅุถุงูู", 
        "๐ฅ ุงูุฅุฌุงุฒุงุช ูุงูุฃูููุฉ",
        "๐ ุงูุญุงุณุจุฉ ุงูุดุงููุฉ",
        "๐ธ ุงูุชุนููุถุงุช",
        "๐ ุงูุฑูุงุชุจ ูุงูุงุณุชูุทุงุนุงุช",
        "๐๏ธ ุงูุถูุงู ุงูุงุฌุชูุงุนู",
        "๐ด ุงูุฅุฌุงุฒุงุช ุงููุฑูุจุฉ",
        "โ๏ธ ุงููุฎุงููุงุช ูุงูุบุฑุงูุงุช",
        "๐ ุชูุงุฑูุฑ ุงูุญุณุงุจุงุช"
    ])
    
    with calc_tabs[0]:
        show_end_of_service_calculator()
    
    with calc_tabs[1]:
        show_overtime_calculator()
    
    with calc_tabs[2]:
        show_vacation_calculator()
    
    with calc_tabs[3]:
        show_comprehensive_calculator()
    
    with calc_tabs[4]:
        show_compensation_calculator()
    
    with calc_tabs[5]:
        show_salary_deductions_calculator()
    
    with calc_tabs[6]:
        show_social_security_calculator()
    
    with calc_tabs[7]:
        show_compound_vacation_calculator()
    
    with calc_tabs[8]:
        show_violations_penalties_calculator()
    
    with calc_tabs[9]:
        show_calculations_reports()

# ==========================
# ๐ฐ ุญุงุณุจุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุงูููุณุนุฉ
# ==========================
def show_end_of_service_calculator():
    st.markdown("#### ๐ฐ ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุงููุชูุฏูุฉ 2025")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("ุงููุฏุฎูุงุช ุงูุฃุณุงุณูุฉ")
        salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุฎูุฑ (ุฏููุงุฑ)", min_value=290, value=500, key="end_salary")
        years = st.number_input("ุนุฏุฏ ุงูุณููุงุช", min_value=0, max_value=40, value=5, key="end_years")
        months = st.number_input("ุนุฏุฏ ุงูุฃุดูุฑ", min_value=0, max_value=11, value=0, key="end_months")
        
        st.subheader("ุชูุงุตูู ุฅุถุงููุฉ")
        has_vacation = st.checkbox("ููุงู ุฅุฌุงุฒุงุช ูุณุชุญูุฉ", value=True, key="end_vacation")
        vacation_days = st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุงุช ุงููุณุชุญูุฉ", value=14, key="end_vac_days") if has_vacation else 0
        
        has_overtime = st.checkbox("ููุงู ูุณุชุญูุงุช ุนูู ุฅุถุงูู", value=True, key="end_overtime")
        overtime_amount = st.number_input("ูุจูุบ ุงูุนูู ุงูุฅุถุงูู ุงููุณุชุญู", value=200, key="end_overtime_amt") if has_overtime else 0
    
    with col2:
        st.subheader("ุธุฑูู ุฅููุงุก ุงูุฎุฏูุฉ")
        contract_type = st.selectbox("ููุน ุงูุนูุฏ", ["ุฏุงุฆู", "ูุคูุช"], key="end_contract")
        end_reason = st.selectbox("ุณุจุจ ุฅููุงุก ุงูุฎุฏูุฉ", [
            "ุงุณุชูุงูุฉ", "ุฅููุงุก ุฎุฏูุฉ ูู ุตุงุญุจ ุงูุนูู", "ุงูุชูุงุก ุนูุฏ", "ููุงุฉ ุฃู ุนุฌุฒ", "ูุตู ุชุฃุฏูุจู"
        ], key="end_reason")
        
        if end_reason == "ูุตู ุชุฃุฏูุจู":
            st.warning("โ๏ธ ูู ุญุงูุฉ ุงููุตู ุงูุชุฃุฏูุจูุ ูุฏ ูุง ุชุณุชุญู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ")
        
        st.subheader("ุฎูุงุฑุงุช ุงูุญุณุงุจ")
        include_benefits = st.checkbox("ุงุญุชุณุงุจ ุงูุจุฏูุงุช ูุงูููุงูุขุช", value=True, key="end_benefits")
        detailed_calculation = st.checkbox("ุนุฑุถ ุงูุชูุงุตูู ุฎุทูุฉ ุจุฎุทูุฉ", value=True, key="end_detailed")
    
    if st.button("๐งฎ ุงุญุณุจ ุงูููุงูุฃุฉ ุงูุดุงููุฉ", type="primary", key="calc_end_service"):
        with st.spinner("ุฌุงุฑู ุญุณุงุจ ุงููุณุชุญูุงุช..."):
            # ุงูุญุณุงุจุงุช ุงูุฃุณุงุณูุฉ
            total_months = years * 12 + months
            
            if end_reason in ["ุงุณุชูุงูุฉ", "ุงูุชูุงุก ุนูุฏ"]:
                if total_months < 12:
                    end_service = 0
                    calculation_steps = ["ุฃูู ูู ุณูุฉ ุฎุฏูุฉ: ูุง ุชุณุชุญู ุงูููุงูุฃุฉ"]
                elif total_months <= 60:
                    end_service = (salary * total_months) / 24
                    calculation_steps = [f"1-5 ุณููุงุช: ุซูุซ ุงูุฑุงุชุจ ุนู ูู ุดูุฑ = ({salary} ร {total_months}) รท 24"]
                else:
                    first_5 = (salary * 60) / 24
                    remaining = (salary * (total_months - 60)) / 12
                    end_service = first_5 + remaining
                    calculation_steps = [
                        f"ุฃูู 5 ุณููุงุช: ุซูุซ ุงูุฑุงุชุจ = ({salary} ร 60) รท 24 = {first_5:,.0f}",
                        f"ุงูุณููุงุช ุงูุชุงููุฉ: ุซูุซู ุงูุฑุงุชุจ = ({salary} ร {total_months-60}) รท 12 = {remaining:,.0f}"
                    ]
            else:  # ุฅููุงุก ุฎุฏูุฉ
                if total_months <= 60:
                    end_service = (salary * total_months) / 12
                    calculation_steps = [f"1-5 ุณููุงุช: ุงูุฑุงุชุจ ุงููุงูู ุนู ูู ุดูุฑ = ({salary} ร {total_months}) รท 12"]
                else:
                    first_5 = (salary * 60) / 12
                    remaining = (salary * (total_months - 60)) / 8
                    end_service = first_5 + remaining
                    calculation_steps = [
                        f"ุฃูู 5 ุณููุงุช: ุงูุฑุงุชุจ ุงููุงูู = ({salary} ร 60) รท 12 = {first_5:,.0f}",
                        f"ุงูุณููุงุช ุงูุชุงููุฉ: ูุฑุชุจุงู ุนู ูู ุณูุฉ = ({salary} ร {total_months-60}) รท 8 = {remaining:,.0f}"
                    ]
            
            reference = "ุงูููุงุฏ 74-77 ูู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู"
            
            # ุงููุณุชุญูุงุช ุงูุฅุถุงููุฉ
            vacation_pay = (salary / 30) * vacation_days if has_vacation else 0
            total_due = end_service + vacation_pay + overtime_amount
            
            st.success(f"""
            ## ๐ ูุชุงุฆุฌ ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุงูุดุงููุฉ
            
            **ุงูุชูุงุตูู ุงูุฃุณุงุณูุฉ:**
            - ๐ผ ุงูุฑุงุชุจ ุงูุฃุณุงุณู: **{salary:,.0f}** ุฏููุงุฑ
            - ๐ ูุฏุฉ ุงูุฎุฏูุฉ: **{years}** ุณูุฉ ู **{months}** ุดูุฑ
            - ๐ท๏ธ ููุน ุงูุนูุฏ: **{contract_type}**
            - ๐ฏ ุณุจุจ ุงูุฅููุงุก: **{end_reason}**
            
            **ุงููุณุชุญูุงุช ุงูุชูุตูููุฉ:**
            - ๐ฐ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ: **{end_service:,.0f}** ุฏููุงุฑ
            - ๐ด ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช: **{vacation_pay:,.0f}** ุฏููุงุฑ
            - โฐ ูุณุชุญูุงุช ุนูู ุฅุถุงูู: **{overtime_amount:,.0f}** ุฏููุงุฑ
            
            **๐ฐ ุงูุฅุฌูุงูู ุงููุณุชุญู:** **{total_due:,.0f}** ุฏููุงุฑ
            
            **ุงูุฃุณุงุณ ุงููุงูููู:**
            ๐ {reference}
            """)
            
            if detailed_calculation:
                with st.expander("๐ ุชูุงุตูู ุงูุญุณุงุจ ุฎุทูุฉ ุจุฎุทูุฉ", expanded=True):
                    for step in calculation_steps:
                        st.write(f"โข {step}")

# ==========================
# ๐ ูุญุงูู ุงูุดููู ุงูุดุงูู ูุงููุชูุฏู (ุงูููุฏ ุงููุงูู)
# ==========================
def show_complaint_simulator():
    st.markdown("### ๐ ูุญุงูู ุงูุดููู ุงูุฐูู - ูุธุงู ุงูุชุญููู ูุงูุชูุฌูู ุงูุนุงู")
    
    # ุชููููุงุช ุฃูุงู ูุฅุฎูุงุก ูุณุคูููุฉ ููุณุนุฉ
    st.markdown("""
    <div style="background: #FFFBEB; padding: 1.5rem; border-radius: 10px; border: 2px solid #F59E0B; margin-bottom: 2rem;">
        <h4 style="color: #D97706; margin-top: 0;">๐ข ุชููููุงุช ูุงูุฉ</h4>
        <ul style="color: #92400E;">
            <li><strong>ูุฐุง ุงููุญุงูู ููุฏู ุชุญูููุงู ุนุงูุงู ูุชูุนููุงู ููุท</strong></li>
            <li><strong>ูุง ูุตุฏุฑ ุฃุญูุงูุงู ูุงููููุฉ ุฃู ุงุณุชุดุงุฑุงุช ููุฒูุฉ</strong></li>
            <li><strong>ูุง ูุชู ุชุฎุฒูู ุฃู ูุนูููุงุช ุดุฎุตูุฉ</strong></li>
            <li><strong>ููุตู ุฏุงุฆูุงู ุจุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต</strong></li>
            <li><strong>ุงููุนูููุงุช ูุฃุบุฑุงุถ ุงูุชูุนูุฉ ูุงูุชุนููู ุงูุนุงู</strong></li>
        </ul>
    </div>
    """, unsafe_allow_html=True)
    
    complaint_tabs = st.tabs([
        "๐ ุชุญููู ุงููุดููุฉ", 
        "๐งฉ ุชุดุฎูุต ุงูุญุงูุฉ",
        "๐ ุฎุทุฉ ุงูุนูู", 
        "โ๏ธ ุงูุฅุทุงุฑ ุงููุงูููู",
        "๐ ููุดุฆ ุงููุซุงุฆู",
        "๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู",
        "๐ ุชุญููู ุงููุฎุงุทุฑ",
        "๐ ุงูุฏุนู ุงูููุฑู"
    ])
    
    with complaint_tabs[0]:
        show_problem_analysis()
    
    with complaint_tabs[1]:
        show_case_diagnosis()
    
    with complaint_tabs[2]:
        show_action_plan()
    
    with complaint_tabs[3]:
        show_legal_framework()
    
    with complaint_tabs[4]:
        show_document_generator()
    
    with complaint_tabs[5]:
        show_solutions_map()
    
    with complaint_tabs[6]:
        show_risk_analysis()
    
    with complaint_tabs[7]:
        show_immediate_support()

# ==========================
# ๐ ุชุญููู ุงููุดููุฉ ุงููุชูุฏู
# ==========================
def show_problem_analysis():
    st.markdown("#### ๐ ุงูุชุญููู ุงููุชูุฏู ูููุดููุฉ")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("ุชุตููู ุงููุดููุฉ")
        complaint_category = st.selectbox("ุงููุฆุฉ ุงูุฑุฆูุณูุฉ", [
            "๐ฐ ูุดุงูู ูุงููุฉ",
            "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ", 
            "โฐ ุธุฑูู ุงูุนูู",
            "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ",
            "๐ ุนููุฏ ูุชูุธูู",
            "๐ด ุฅุฌุงุฒุงุช ูุฑุงุญุฉ",
            "๐ง ูุดุงูู ุชูููุฉ",
            "๐จ ุญุงูุงุช ุทุงุฑุฆุฉ"
        ], key="complaint_category")
        
        complaint_type = st.selectbox("ููุน ุงููุดููุฉ ุงููุญุฏุฏ", [
            "ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ", "ุฎุตู ุบูุฑ ูุงูููู", "ุญุฑูุงู ูู ุนูุงูุงุช",
            "ุนุฏู ุตุฑู ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ", "ูุดุงูู ูู ุงูุจุฏูุงุช"
        ], key="complaint_type")
        
        st.subheader("ุงูุณูุงู ุงูุฒููู")
        start_date = st.date_input("ุชุงุฑูุฎ ุจุฏุงูุฉ ุงููุดููุฉ")
        duration = st.selectbox("ูุฏุฉ ุงุณุชูุฑุงุฑ ุงููุดููุฉ", [
            "ุฃูู ูู ุฃุณุจูุน", "1-4 ุฃุณุงุจูุน", "1-3 ุฃุดูุฑ", "3-6 ุฃุดูุฑ", "6-12 ุดูุฑ", "ุฃูุซุฑ ูู ุณูุฉ"
        ])
        frequency = st.selectbox("ุชูุฑุงุฑ ุงููุดููุฉ", [
            "ุญุงุฏุซุฉ ูุงุญุฏุฉ", "ูุชูุฑุฑุฉ ุฃุณุจูุนูุงู", "ูุชูุฑุฑุฉ ุดูุฑูุงู", "ูุณุชูุฑุฉ", "ุบูุฑ ููุชุธูุฉ"
        ])
    
    with col2:
        st.subheader("ุชุฃุซูุฑ ุงููุดููุฉ")
        severity = st.select_slider("ุดุฏุฉ ุงูุชุฃุซูุฑ", [
            "ููุฎูุถ", "ูุชูุณุท", "ูุฑุชูุน", "ุญุฑุฌ", "ูุงุฑุซู"
        ])
        
        affected_areas = st.multiselect("ุงููุฌุงูุงุช ุงููุชุฃุซุฑุฉ", [
            "ุงูุฏุฎู ุงููุงูู", "ุงูุตุญุฉ ุงูููุณูุฉ", "ุงูุตุญุฉ ุงูุฌุณุฏูุฉ", 
            "ุงูุฃุฏุงุก ุงููุธููู", "ุงูุนูุงูุงุช ุงูุนูููุฉ", "ุงูุณูุนุฉ ุงูููููุฉ",
            "ุงูุงุณุชูุฑุงุฑ ุงููุธููู", "ุงูุชุทูุฑ ุงููุธููู"
        ])
        
        st.subheader("ุงูุฌูุงุช ุงููุชุถููุฉ")
        involved_parties = st.multiselect("ุงูุฃุทุฑุงู ุงููุนููุฉ", [
            "ุตุงุญุจ ุงูุนูู", "ุงููุฏูุฑ ุงููุจุงุดุฑ", "ุฒููุงุก ุงูุนูู", 
            "ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ", "ุฌูุฉ ุญููููุฉ", "ุนููุงุก"
        ])
    
    # ูุตู ุงููุดููุฉ ุงูููุตู
    st.subheader("๐ ุงููุตู ุงูุชูุตููู ูููุดููุฉ")
    problem_description = st.text_area(
        "ุตู ุงููุดููุฉ ุจุดูู ููุตู ููุงุถุญ",
        placeholder="""ูุซุงู: 
ุจุฏุฃุช ุงููุดููุฉ ุนูุฏูุง... 
ุงูุชุฃุซูุฑ ุงููุจุงุดุฑ ูุงู...
ุญุงููุช ุญู ุงููุดููุฉ ุนู ุทุฑูู...
ุงููุชูุฌุฉ ูุงูุช...""",
        height=150
    )
    
    # ุงูุฃุฏูุฉ ูุงููุณุชูุฏุงุช
    with st.expander("๐ ุงูุฃุฏูุฉ ูุงููุณุชูุฏุงุช ุงููุชุงุญุฉ"):
        col1, col2, col3 = st.columns(3)
        with col1:
            st.checkbox("ุนููุฏ ุงูุนูู")
            st.checkbox("ูุดูู ุงูุฑูุงุชุจ")
            st.checkbox("ูุฑุงุณูุงุช ุฑุณููุฉ")
        with col2:
            st.checkbox("ุฅุดุนุงุฑุงุช ูุฅุฎุทุงุฑุงุช")
            st.checkbox("ุชูุงุฑูุฑ ุทุจูุฉ")
            st.checkbox("ุตูุฑ ุฃู ุชุณุฌููุงุช")
        with col3:
            st.checkbox("ุดูุงุฏุงุช ูุดูุงุฏุงุช")
            st.checkbox("ุฅุซุจุงุชุงุช ูุงููุฉ")
            st.checkbox("ุฃุฏูุฉ ุฃุฎุฑู")
    
    if st.button("๐ ุจุฏุก ุงูุชุญููู ุงูุดุงูู", type="primary", key="start_analysis"):
        if problem_description:
            with st.spinner("ุฌุงุฑู ุชุญููู ุงููุดููุฉ ูุชูุฏูู ุงูุชูุตูุงุช ุงูุนุงูุฉ..."):
                # ุชุญููู ุงูุดุฏุฉ ูุงูุชุฃุซูุฑ
                severity_scores = {
                    "ููุฎูุถ": 1, "ูุชูุณุท": 2, "ูุฑุชูุน": 3, "ุญุฑุฌ": 4, "ูุงุฑุซู": 5
                }
                
                duration_scores = {
                    "ุฃูู ูู ุฃุณุจูุน": 1, "1-4 ุฃุณุงุจูุน": 2, "1-3 ุฃุดูุฑ": 3, 
                    "3-6 ุฃุดูุฑ": 4, "6-12 ุดูุฑ": 5, "ุฃูุซุฑ ูู ุณูุฉ": 6
                }
                
                base_score = severity_scores.get(severity, 1) * duration_scores.get(duration, 1)
                
                # ุญุณุงุจ ูุณุชูู ุงูุฎุทูุฑุฉ
                if base_score >= 20:
                    risk_level = "๐จ ุนุงูู ุฌุฏุงู"
                elif base_score >= 15:
                    risk_level = "๐ด ุนุงูู"
                elif base_score >= 10:
                    risk_level = "๐ก ูุชูุณุท"
                elif base_score >= 5:
                    risk_level = "๐ข ููุฎูุถ"
                else:
                    risk_level = "โช ุจุณูุท"
                
                # ุญุณุงุจ ุงูุฃููููุฉ
                priority_score = base_score * (1 + len(affected_areas) * 0.2)
                if priority_score >= 25:
                    priority = "ุนุงุฌู"
                elif priority_score >= 15:
                    priority = "ูุฑุชูุน"
                elif priority_score >= 8:
                    priority = "ูุชูุณุท"
                else:
                    priority = "ุนุงุฏู"
                
                # ุชูุฏูุฑ ุงูุฅุทุงุฑ ุงูุฒููู
                timelines = {
                    "๐ฐ ูุดุงูู ูุงููุฉ": "2-4 ุฃุณุงุจูุน",
                    "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ": "4-8 ุฃุณุงุจูุน", 
                    "โฐ ุธุฑูู ุงูุนูู": "1-3 ุฃุณุงุจูุน",
                    "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ": "1-2 ุฃุณุงุจูุน"
                }
                
                base_timeline = timelines.get(complaint_category, "2-4 ุฃุณุงุจูุน")
                if severity in ["ุญุฑุฌ", "ูุงุฑุซู"]:
                    estimated_timeline = f"ููุฑู - {base_timeline}"
                else:
                    estimated_timeline = base_timeline
                
                st.success("## ๐ ูุชุงุฆุฌ ุงูุชุญููู ุงูุดุงูู")
                
                col1, col2 = st.columns(2)
                
                with col1:
                    st.metric("ูุณุชูู ุงูุฎุทูุฑุฉ", risk_level)
                    st.metric("ุงูุฃููููุฉ", priority)
                
                with col2:
                    st.metric("ุงูุฅุทุงุฑ ุงูุฒููู ุงูููุฏุฑ", estimated_timeline)
                    st.metric("ุงููุฌุงูุงุช ุงููุชุฃุซุฑุฉ", len(affected_areas))
                
                st.markdown("#### ๐ฏ ุงูุฅุฌุฑุงุกุงุช ุงูููุตู ุจูุง")
                actions = [
                    "ุชูุซูู ูุงูุฉ ุงููุณุชูุฏุงุช ุงููุงููุฉ",
                    "ุฅุฑุณุงู ุฅูุฐุงุฑ ุฑุณูู ูุตุงุญุจ ุงูุนูู",
                    "ุงูุชูุฌู ููุฏูุฑูุฉ ุงูุนูู",
                    "ุญุณุงุจ ุงููุณุชุญูุงุช ุงููุงููุฉ ุจุฏูุฉ"
                ]
                
                for i, action in enumerate(actions, 1):
                    st.write(f"{i}. {action}")
                
                st.markdown("#### ๐ ุงููุฑุงุฌุน ุงููุงููููุฉ")
                references = [
                    "ุงููุงุฏุฉ 55: ููุนุฏ ุตุฑู ุงูุฃุฌุฑ",
                    "ุงููุงุฏุฉ 56: ุงูุชุนููุถ ุนู ุงูุชุฃุฎูุฑ", 
                    "ุงููุงุฏุฉ 42: ุจุฏู ุงูุนูู ุงูุฅุถุงูู"
                ]
                
                for reference in references:
                    st.write(f"โข {reference}")

# ==========================
# ๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ ุงููุญุณูุฉ (ุงูููุฏ ุงููุงูู)
# ==========================
def show_authorities_section():
    st.markdown("### ๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ - ุฏููู ุดุงูู ูุฌููุน ุงููุญุงูุธุงุช")
    
    authorities_tabs = st.tabs([
        "๐บ๏ธ ุฎุฑูุทุฉ ุงููุญุงูุธุงุช",
        "๐ ูุนูููุงุช ุงูุงุชุตุงู", 
        "๐ ุฅุฌุฑุงุกุงุช ุงูุดูุงูู",
        "โฐ ููุงุนูุฏ ุงูุนูู",
        "๐ ุงูุฎุฏูุงุช ุงูุฅููุชุฑูููุฉ"
    ])
    
    with authorities_tabs[0]:
        # ุชุญุฏูุซ ุงููุญุงูุธุงุช ูุงูุฌูุงุช 2025
        governorates = {
            "ุนูุงู": {
                "ูุฒุงุฑุฉ ุงูุนูู": {
                    "ูุงุชู": "06-5802666",
                    "ุนููุงู": "ุชูุงุน ุงูุนูู - ูุฌูุน ุงูุฏูุงุฆุฑ ุงูุญููููุฉ",
                    "ุฎุฏูุงุช": ["ุดูุงูู ุงูุนูู", "ุงูุชุฑุงุฎูุต", "ุงูุชูุชูุด", "ุงูุฅุฑุดุงุฏ"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                },
                "ูุญููุฉ ุงูุนูู": {
                    "ูุงุชู": "06-5651900", 
                    "ุนููุงู": "ุดุงุฑุน ุงููุฏููุฉ ุงููููุฑุฉ - ุจุฌุงูุจ ูุญููุฉ ุงูุจุฏุงุกุฉ",
                    "ุฎุฏูุงุช": ["ูุถุงูุง ุงูุนูู", "ุงูููุงุฒุนุงุช", "ุงูุทุนูู"],
                    "ุฃููุงุช": "8:00 ุต - 2:00 ู"
                },
                "ูุคุณุณุฉ ุงูุถูุงู ุงูุงุฌุชูุงุนู": {
                    "ูุงุชู": "06-5521221",
                    "ุนููุงู": "ุงูุดููุณุงูู - ูุฌูุน ุงูุถูุงู ุงูุงุฌุชูุงุนู",
                    "ุฎุฏูุงุช": ["ุชุฃูููุงุช ุงูุนุงูููู", "ูุนุงุดุงุช ุงูุชูุงุนุฏ", "ุฅุตุงุจุงุช ุงูุนูู"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                }
            },
            "ุฅุฑุจุฏ": {
                "ูุฏูุฑูุฉ ุงูุนูู ุฅุฑุจุฏ": {
                    "ูุงุชู": "02-7272111",
                    "ุนููุงู": "ูุณุท ุงููุฏููุฉ - ุจุฌุงูุจ ุจูุฏูุฉ ุฅุฑุจุฏ",
                    "ุฎุฏูุงุช": ["ุดูุงูู ุงูุนูู", "ุงูุชูุชูุด", "ุงูุชุฑุงุฎูุต"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                },
                "ูุญููุฉ ุงูุนูู ุฅุฑุจุฏ": {
                    "ูุงุชู": "02-7241502",
                    "ุนููุงู": "ููุทูุฉ ุงูุฑูุซุง - ุงููุฌูุน ุงููุถุงุฆู",
                    "                    "ุฎุฏูุงุช": ["ูุถุงูุง ุงูุนูู", "ุงูุฌูุณุงุช"],
                    "ุฃููุงุช": "8:00 ุต - 2:00 ู"
                }
            },
            "ุงูุฒุฑูุงุก": {
                "ูุฏูุฑูุฉ ุงูุนูู ุงูุฒุฑูุงุก": {
                    "ูุงุชู": "05-3982110",
                    "ุนููุงู": "ูุฏููุฉ ุงูุฒุฑูุงุก ุงูุฌุฏูุฏุฉ - ุงูููุทูุฉ ุงูุฅุฏุงุฑูุฉ",
                    "ุฎุฏูุงุช": ["ุดูุงูู ุงูุนูู", "ุงูุชูุชูุด", "ุงูุชุฑุงุฎูุต"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                }
            },
            "ุงูุนูุจุฉ": {
                "ูุฏูุฑูุฉ ุงูุนูู ุงูุนูุจุฉ": {
                    "ูุงุชู": "03-2016211",
                    "ุนููุงู": "ุงูููุทูุฉ ุงูุงูุชุตุงุฏูุฉ - ูุจูู ุงูุฏูุงุฆุฑ ุงูุญููููุฉ",
                    "ุฎุฏูุงุช": ["ุดูุงูู ุงูุนูู", "ุชุฑุงุฎูุต ุงูุนูุงูุฉ"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                }
            }
        }
        
        selected_gov = st.selectbox("ุงุฎุชุฑ ุงููุญุงูุธุฉ", list(governorates.keys()))
        
        if selected_gov:
            st.success(f"### ๐ ุงูุฌูุงุช ุงููุฎุชุตุฉ ูู {selected_gov}")
            
            for authority, info in governorates[selected_gov].items():
                with st.expander(f"๐๏ธ {authority}"):
                    col1, col2 = st.columns([1, 2])
                    
                    with col1:
                        st.write("**๐ ูุนูููุงุช ุงูุงุชุตุงู:**")
                        st.write(f"**๐ ุงููุงุชู:** {info['ูุงุชู']}")
                        st.write(f"**๐ ุงูุนููุงู:** {info['ุนููุงู']}")
                        st.write(f"**๐ ุฃููุงุช ุงูุนูู:** {info['ุฃููุงุช']}")
                    
                    with col2:
                        st.write("**๐ ุงูุฎุฏูุงุช ุงูููุฏูุฉ:**")
                        for service in info['ุฎุฏูุงุช']:
                            st.write(f"โข {service}")
    
    with authorities_tabs[2]:
        st.markdown("#### ๐ ุฅุฌุฑุงุกุงุช ุชูุฏูู ุงูุดููู ุฎุทูุฉ ุจุฎุทูุฉ")
        
        complaint_steps = [
            {
                "ุงูุฎุทูุฉ": "ูก. ุชุฌููุฒ ุงููุณุชูุฏุงุช",
                "ุงูุชูุงุตูู": "ุฌูุน ูุงูุฉ ุงููุณุชูุฏุงุช ุงููุทููุจุฉ",
                "ุงููุณุชูุฏุงุช": ["ุนูุฏ ุงูุนูู", "ูุดูู ุงูุฑูุงุชุจ", "ุงููููุฉ ุงูุดุฎุตูุฉ", "ุงููุฑุงุณูุงุช"]
            },
            {
                "ุงูุฎุทูุฉ": "ูข. ุงูุชูุฌู ูููุฏูุฑูุฉ",
                "ุงูุชูุงุตูู": "ุงูุฐูุงุจ ุฅูู ูุฏูุฑูุฉ ุงูุนูู ุงููุฎุชุตุฉ",
                "ุงููุณุชูุฏุงุช": ["ุงููุณุชูุฏุงุช ุงููุฌูุฒุฉ", "ุทูุจ ุงูุดููู"]
            },
            {
                "ุงูุฎุทูุฉ": "ูฃ. ุชุนุจุฆุฉ ุงููููุฐุฌ",
                "ุงูุชูุงุตูู": "ุชุนุจุฆุฉ ูููุฐุฌ ุงูุดููู ุงูุฑุณูู",
                "ุงููุณุชูุฏุงุช": ["ุงููููุฐุฌ ุงููุนุจุฃ", "ุงููุณุชูุฏุงุช ุงูุฏุงุนูุฉ"]
            },
            {
                "ุงูุฎุทูุฉ": "ูค. ุงููุชุงุจุนุฉ",
                "ุงูุชูุงุตูู": "ูุชุงุจุนุฉ ุงูุดููู ุนุจุฑ ุงููุธุงู ุงูุฅููุชุฑููู",
                "ุงููุณุชูุฏุงุช": ["ุฑูู ุงูุดููู", "ูุนูููุงุช ุงููุชุงุจุนุฉ"]
            }
        ]
        
        for step in complaint_steps:
            with st.expander(f"๐ {step['ุงูุฎุทูุฉ']}"):
                st.write(f"**ุงูุชูุงุตูู:** {step['ุงูุชูุงุตูู']}")
                st.write("**ุงููุณุชูุฏุงุช ุงููุทููุจุฉ:**")
                for doc in step['ุงููุณุชูุฏุงุช']:
                    st.write(f"โข {doc}")
    
    with authorities_tabs[4]:
        st.markdown("#### ๐ ุงูุฎุฏูุงุช ุงูุฅููุชุฑูููุฉ ุงููุชุงุญุฉ")
        
        e_services = [
            {
                "ุงูุฎุฏูุฉ": "ุชูุฏูู ุดููู ุฅููุชุฑูููุงู",
                "ุงูุฑุงุจุท": "https://www.mol.gov.jo/complaints",
                "ุงููุฒุงูุง": ["24/7", "ูุชุงุจุนุฉ ููุฑูุฉ", "ุชูููุฑ ุงูููุช"]
            },
            {
                "ุงูุฎุฏูุฉ": "ุงูุงุณุชุนูุงู ุนู ูุถุงูุง ุงูุนูู",
                "ุงูุฑุงุจุท": "https://courts.jo/labor-cases", 
                "ุงููุฒุงูุง": ["ูุนูููุงุช ูุญุฏุซุฉ", "ุญุงูุฉ ุงููุถูุฉ", "ููุงุนูุฏ ุงูุฌูุณุงุช"]
            },
            {
                "ุงูุฎุฏูุฉ": "ุญุงุณุจุฉ ุงููุณุชุญูุงุช",
                "ุงูุฑุงุจุท": "https://www.mol.gov.jo/calculators",
                "ุงููุฒุงูุง": ["ุญุณุงุจุงุช ุฏูููุฉ", "ูุฑุงุฌุน ูุงููููุฉ", "ูุชุงุฆุฌ ููุฑูุฉ"]
            }
        ]
        
        for service in e_services:
            with st.expander(f"๐ {service['ุงูุฎุฏูุฉ']}"):
                st.write(f"**ุงูุฑุงุจุท:** {service['ุงูุฑุงุจุท']}")
                st.write("**ุงููุฒุงูุง:**")
                for advantage in service['ุงููุฒุงูุง']:
                    st.write(f"โข {advantage}")

# ==========================
# ๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู ุงูุชูุงุนููุฉ ุงูููุณุนุฉ (ุงูููุฏ ุงููุงูู)
# ==========================
def show_rights_map():
    st.markdown("### ๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู ูุงูุงูุชุฒุงูุงุช ุงูุชูุงุนููุฉ - ูุญุฏุซุฉ 2025")
    
    map_tabs = st.tabs([
        "๐ท ุญููู ุงูุนุงูู", 
        "๐ ุงูุชุฒุงูุงุช ุตุงุญุจ ุงูุนูู",
        "๐ฐ ุงูุญููู ุงููุงููุฉ",
        "โฐ ููุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช",
        "๐ก๏ธ ุงูุญูุงูุฉ ูุงูุณูุงูุฉ",
        "๐ ููุงุฑูุงุช ุชูุงุนููุฉ"
    ])
    
    with map_tabs[0]:
        st.markdown("#### ๐ท ุญููู ุงูุนุงูู ุงูุดุงููุฉ ูู ุงููุงููู ุงูุฃุฑุฏูู")
        
        rights_categories = {
            "๐ฐ ุงูุญููู ุงููุงููุฉ": {
                "items": [
                    {"right": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "value": "290 ุฏููุงุฑ", "law": "ุงููุงุฏุฉ 35", "details": "ูููุคูููู ุฌุงูุนูุงู - 2025"},
                    {"right": "ุตุฑู ุงูุฑุงุชุจ ูู ุงูููุช", "value": "ุฃูู 7 ุฃูุงู", "law": "ุงููุงุฏุฉ 55", "details": "ูู ููุงูุฉ ุงูุดูุฑ"},
                    {"right": "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "value": "125% - 150%", "law": "ุงููุงุฏุฉ 42", "details": "125% ููุงุฑูุ 150% ูููู ูุนุทูุงุช"},
                    {"right": "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "value": "ุญุณุจ ูุฏุฉ ุงูุฎุฏูุฉ", "law": "ุงูููุงุฏ 74-77", "details": "ุชุณุชุญู ุจุนุฏ ุณูุฉ ูุงุญุฏุฉ"}
                ]
            },
            "โฐ ููุช ุงูุนูู ูุงูุฑุงุญุฉ": {
                "items": [
                    {"right": "ุณุงุนุงุช ุงูุนูู ุงูููููุฉ", "value": "8 ุณุงุนุงุช", "law": "ุงููุงุฏุฉ 46", "details": "48 ุณุงุนุฉ ุฃุณุจูุนูุงู ูุญุฏ ุฃูุตู"},
                    {"right": "ุงูุฅุฌุงุฒุฉ ุงูุฃุณุจูุนูุฉ", "value": "ููู ูุงุญุฏ", "law": "ุงููุงุฏุฉ 48", "details": "ูุฏููุนุฉ ุงูุฃุฌุฑ"},
                    {"right": "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", "value": "14-28 ููู", "law": "ุงููุงุฏุฉ 52", "details": "ุญุณุจ ูุฏุฉ ุงูุฎุฏูุฉ"},
                    {"right": "ูุชุฑุงุช ุงูุฑุงุญุฉ", "value": "ุณุงุนุฉ ููููุงู", "law": "ุงููุงุฏุฉ 47", "details": "ููุนุงูููู 6 ุณุงุนุงุช ูุชูุงุตูุฉ"}
                ]
            },
            "๐ฅ ุงูุฑุนุงูุฉ ุงูุตุญูุฉ ูุงูุงุฌุชูุงุนูุฉ": {
                "items": [
                    {"right": "ุงูุฅุฌุงุฒุฉ ุงููุฑุถูุฉ", "value": "14 ููู ูุงูู", "law": "ุงููุงุฏุฉ 58", "details": "ุซู ูุตู ุงูุฑุงุชุจ ููุฏุฉ 14 ููู"},
                    {"right": "ุฅุฌุงุฒุฉ ุงูุฃูููุฉ", "value": "10 ุฃุณุงุจูุน", "law": "ุงููุงุฏุฉ 69", "details": "ูุฏููุนุฉ ุงูุฃุฌุฑ ุจุงููุงูู - 2025"},
                    {"right": "ุงูุชุฃููู ุงูุตุญู", "value": "ุฅูุฒุงูู", "law": "ุงููุงุฏุฉ 81", "details": "ุนูู ุตุงุญุจ ุงูุนูู"},
                    {"right": "ุฅุฌุงุฒุฉ ุงููุถุน", "value": "3 ุฃูุงู", "law": "ุงููุงุฏุฉ 70", "details": "ููุฃุจ ูุฏููุนุฉ ุงูุฃุฌุฑ"}
                ]
            },
            "๐ก๏ธ ุงูุญูุงูุฉ ูุงูุณูุงูุฉ": {
                "items": [
                    {"right": "ุจูุฆุฉ ุนูู ุขููุฉ", "value": "ุฅูุฒุงููุฉ", "law": "ุงููุงุฏุฉ 79", "details": "ุชูููุฑ ูุนุฏุงุช ุงูุณูุงูุฉ"},
                    {"right": "ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด", "value": "ุฅุฌุฑุงุกุงุช ุตุงุฑูุฉ", "law": "ุงููุงุฏุฉ 105 ููุฑุฑ", "details": "ุชุนุฏูู 2025"},
                    {"right": "ุงูุชุนููุถ ุนู ุงูุฅุตุงุจุงุช", "value": "ูุงูู ุงููููุงุช", "law": "ุงููุงุฏุฉ 82", "details": "ุจูุง ูููุง ุงูุฃุฌุฑ ุฎูุงู ุงูุนูุงุฌ"},
                    {"right": "ุงูุณุฑูุฉ ุงูููููุฉ", "value": "ูุญููุฉ", "law": "ุงููุงุฏุฉ 21", "details": "ุญูุงูุฉ ุจูุงูุงุช ุงูุนุงูู"}
                ]
            }
        }
        
        for category, rights in rights_categories.items():
            with st.expander(f"๐ {category}", expanded=True):
                cols = st.columns(2)
                for idx, item in enumerate(rights['items']):
                    with cols[idx % 2]:
                        st.markdown(f"""
                        <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; margin: 0.5rem 0; border-left: 4px solid #2563EB;">
                        <h4 style="margin: 0 0 0.5rem 0;">{item['right']}</h4>
                        <p style="margin: 0.25rem 0; color: #059669;"><strong>๐ {item['value']}</strong></p>
                        <p style="margin: 0.25rem 0; color: #666; font-size: 0.9rem;">{item['details']}</p>
                        <p style="margin: 0.25rem 0; color: #1E40AF; font-size: 0.8rem;">โ๏ธ {item['law']}</p>
                        </div>
                        """, unsafe_allow_html=True)
    
    with map_tabs[1]:
        st.markdown("#### ๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ุงูุดุงููุฉ ูุฃุตุญุงุจ ุงูุนูู")
        
        obligations_categories = {
            "๐ ุงูุชูุซูู ูุงููุณุชูุฏุงุช": {
                "items": [
                    {"obligation": "ุนูุฏ ุนูู ููุชูุจ", "deadline": "ูุจู ุงูุจุฏุก", "law": "ุงููุงุฏุฉ 13", "penalty": "ุบุฑุงูุฉ 500-1000 ุฏููุงุฑ"},
                    {"obligation": "ุณุฌู ุงูุนุงูููู", "deadline": "ูุณุชูุฑ", "law": "ุงููุงุฏุฉ 26", "penalty": "ุบุฑุงูุฉ 300 ุฏููุงุฑ"},
                    {"obligation": "ููุงุฆุญ ุงูุนูู", "deadline": "30 ููู", "law": "ุงููุงุฏุฉ 27", "penalty": "ุบุฑุงูุฉ 200 ุฏููุงุฑ"},
                    {"obligation": "ูุดูู ุงูุฑูุงุชุจ", "deadline": "ุดูุฑู", "law": "ุงููุงุฏุฉ 55", "penalty": "ุบุฑุงูุฉ 500 ุฏููุงุฑ"}
                ]
            },
            "๐ฐ ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ": {
                "items": [
                    {"obligation": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "deadline": "ูุณุชูุฑ", "law": "ุงููุงุฏุฉ 35", "penalty": "ุบุฑุงูุฉ 1000 ุฏููุงุฑ"},
                    {"obligation": "ุชุณุฏูุฏ ุงูุถูุงู", "deadline": "ุดูุฑู", "law": "ูุงููู ุงูุถูุงู", "penalty": "ุบุฑุงูุฉ 5% ุดูุฑูุงู"},
                    {"obligation": "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "deadline": "7 ุฃูุงู", "law": "ุงููุงุฏุฉ 77", "penalty": "ูุงุฆุฏุฉ 8% ุณูููุงู"},
                    {"obligation": "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "deadline": "ูุน ุงูุฑุงุชุจ", "law": "ุงููุงุฏุฉ 42", "penalty": "ูุถุงุนูุฉ ุงููุณุชุญู"}
                ]
            },
            "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ": {
                "items": [
                    {"obligation": "ุชูููุฑ ูุนุฏุงุช ุงูุณูุงูุฉ", "deadline": "ููุฑู", "law": "ุงููุงุฏุฉ 79", "penalty": "ุบุฑุงูุฉ 2000 ุฏููุงุฑ"},
                    {"obligation": "ุชุฏุฑูุจ ุงูุนุงูููู", "deadline": "ูุจู ุงูุจุฏุก", "law": "ุงููุงุฏุฉ 80", "penalty": "ุบุฑุงูุฉ 500 ุฏููุงุฑ"},
                    {"obligation": "ุงูุฅุจูุงุบ ุนู ุงูุญูุงุฏุซ", "deadline": "24 ุณุงุนุฉ", "law": "ุงููุงุฏุฉ 83", "penalty": "ุบุฑุงูุฉ 1000 ุฏููุงุฑ"},
                    {"obligation": "ุงููุญุต ุงูุทุจู ุงูุฏูุฑู", "deadline": "ุณููู", "law": "ุงููุงุฏุฉ 81", "penalty": "ุบุฑุงูุฉ 300 ุฏููุงุฑ"}
                ]
            },
            "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ": {
                "items": [
                    {"obligation": "ุงูุฅุฎุทุงุฑ ุงููุณุจู", "deadline": "ุญุณุจ ุงููุฏุฉ", "law": "ุงููุงุฏุฉ 72", "penalty": "ุชุนููุถ ุนู ุงููุชุฑุฉ"},
                    {"obligation": "ุตุฑู ุงููุณุชุญูุงุช", "deadline": "7 ุฃูุงู", "law": "ุงููุงุฏุฉ 77", "penalty": "ูุงุฆุฏุฉ 8% ุณูููุงู"},
                    {"obligation": "ุดูุงุฏุฉ ุงูุฎุจุฑุฉ", "deadline": "ุนูุฏ ุงูุทูุจ", "law": "ุงููุงุฏุฉ 78", "penalty": "ุบุฑุงูุฉ 100 ุฏููุงุฑ"},
                    {"obligation": "ุชุณููู ุงููุณุชูุฏุงุช", "deadline": "ููุฑู", "law": "ุงููุงุฏุฉ 78", "penalty": "ุบุฑุงูุฉ 200 ุฏููุงุฑ"}
                ]
            }
        }
        
        for category, obligations in obligations_categories.items():
            with st.expander(f"๐ {category}", expanded=True):
                for item in obligations['items']:
                    col1, col2, col3, col4 = st.columns([3, 2, 2, 2])
                    with col1:
                        st.write(f"**{item['obligation']}**")
                    with col2:
                        st.warning(f"โฐ {item['deadline']}")
                    with col3:
                        st.info(f"โ๏ธ {item['law']}")
                    with col4:
                        st.error(f"๐ฐ {item['penalty']}")

# ==========================
# โฐ ููุจู ุงูููุงุนูุฏ ุงูููุณุน (ุงูููุฏ ุงููุงูู)
# ==========================
def show_reminder_system():
    st.markdown("### โฐ ููุจู ุงูููุงุนูุฏ ุงููุงููููุฉ - ูุธุงู ูุชูุงูู")
    
    reminder_tabs = st.tabs([
        "๐ ุฅุฏุงุฑุฉ ุงูุชุฐููุฑุงุช",
        "โ๏ธ ุงูููุงุนูุฏ ุงููุงููููุฉ", 
        "๐ ุชูููู ุงูููุงุนูุฏ",
        "๐ ุงูุฅุดุนุงุฑุงุช",
        "๐ ุฅุญุตุงุฆูุงุช ุงููุชุงุจุนุฉ"
    ])
    
    with reminder_tabs[0]:
        col1, col2 = st.columns([2, 1])
        
        with col1:
            st.markdown("#### ๐ ุฅุถุงูุฉ ุชุฐููุฑ ุฌุฏูุฏ")
            
            with st.form("add_reminder", clear_on_submit=True):
                col1, col2 = st.columns(2)
                
                with col1:
                    reminder_type = st.selectbox("ููุน ุงูุชุฐููุฑ", [
                        "ููุนุฏ ูุญููุฉ",
                        "ุขุฌู ุชุณููู ูุณุชูุฏ",
                        "ุฌูุณุฉ ุตูุญ", 
                        "ููุนุฏ ุฏูุน",
                        "ุงุฌุชูุงุน ุนูู",
                        "ููุนุฏ ุทุจู",
                        "ุงูุชูุงุก ุนูุฏ",
                        "ุฃุฎุฑู"
                    ])
                    
                    title = st.text_input("ุนููุงู ุงูุชุฐููุฑ ๐")
                    priority = st.select_slider("ุงูุฃููููุฉ ๐จ", options=["ููุฎูุถุฉ", "ูุชูุณุทุฉ", "ุนุงููุฉ", "ุนุงุฌูุฉ"])
                
                with col2:
                    due_date = st.date_input("ุงูุชุงุฑูุฎ ุงููุณุชูุฏู ๐", min_value=datetime.now().date())
                    due_time = st.time_input("ุงูููุช ุงููุณุชูุฏู โฐ", value=datetime.now().time())
                    category = st.selectbox("ุงูุชุตููู", ["ุนูู", "ูุถุงุฆู", "ูุงูู", "ุตุญู", "ุฅุฏุงุฑู"])
                
                description = st.text_area("ูุตู ุงูุชุฐููุฑ ๐", placeholder="ุฃุถู ุชูุงุตูู ุฅุถุงููุฉ ุนู ุงูุชุฐููุฑ...")
                
                if st.form_submit_button("โ ุฅุถุงูุฉ ุงูุชุฐููุฑ"):
                    new_reminder = {
                        "id": len(st.session_state.get('reminders', [])) + 1,
                        "type": reminder_type,
                        "title": title,
                        "description": description,
                        "due_date": due_date,
                        "due_time": due_time,
                        "priority": priority,
                        "category": category,
                        "created": datetime.now(),
                        "status": "ูุดุท"
                    }
                    if 'reminders' not in st.session_state:
                        st.session_state.reminders = []
                    st.session_state.reminders.append(new_reminder)
                    st.success("โ ุชู ุฅุถุงูุฉ ุงูุชุฐููุฑ ุจูุฌุงุญ!")
        
        with col2:
            st.markdown("#### ๐ ุงูุชุฐููุฑุงุช ุงููุงุฏูุฉ")
            
            if 'reminders' in st.session_state and st.session_state.reminders:
                now = datetime.now()
                upcoming = []
                
                for reminder in st.session_state.reminders:
                    reminder_datetime = datetime.combine(reminder['due_date'], reminder['due_time'])
                    if reminder_datetime >= now and reminder['status'] == 'ูุดุท':
                        upcoming.append(reminder)
                
                upcoming.sort(key=lambda x: datetime.combine(x['due_date'], x['due_time']))
                
                for i, reminder in enumerate(upcoming[:5]):
                    days_left = (reminder['due_date'] - now.date()).days
                    priority_color = {
                        "ุนุงุฌูุฉ": "๐ด",
                        "ุนุงููุฉ": "๐", 
                        "ูุชูุณุทุฉ": "๐ก",
                        "ููุฎูุถุฉ": "๐ข"
                    }
                    
                    with st.container():
                        st.write(f"{priority_color[reminder['priority']]} **{reminder['title']}**")
                        st.write(f"๐ {reminder['due_date']} | โฐ {reminder['due_time']}")
                        st.write(f"โณ {days_left} ููู ูุชุจูู | ๐ท๏ธ {reminder['type']}")
                        
                        # ุดุฑูุท ุงูุชูุฏู
                        progress = max(0, min(100, 100 - (days_left * 10)))
                        st.progress(progress / 100)
                        
                        col1, col2 = st.columns(2)
                        with col1:
                            if st.button("โ ุชู", key=f"done_{reminder['id']}"):
                                reminder['status'] = 'ููุชูู'
                                st.rerun()
                        with col2:
                            if st.button("๐๏ธ ุญุฐู", key=f"delete_{reminder['id']}"):
                                st.session_state.reminders.remove(reminder)
                                st.rerun()
                        st.write("---")
            else:
                st.info("๐ญ ูุง ุชูุฌุฏ ุชุฐููุฑุงุช ูุงุฏูุฉ")
    
    with reminder_tabs[1]:
        st.markdown("#### โ๏ธ ุงูููุงุนูุฏ ุงููุงููููุฉ ุงููุงูุฉ")
        
        legal_deadlines = {
            "ุชูุฏูู ุดููู ุนูู": {
                "ุงููููุฉ": "30 ูููุงู",
                "ูู": "ุชุงุฑูุฎ ูููุน ุงููุฎุงููุฉ",
                "ุฅูู": "ูุฏูุฑูุฉ ุงูุนูู ุงููุฎุชุตุฉ",
                "ุงููุงููู": "ุงููุงุฏุฉ 80"
            },
            "ุงูุทุนู ุนูู ูุฑุงุฑ ุงููุตู": {
                "ุงููููุฉ": "30 ูููุงู", 
                "ูู": "ุชุงุฑูุฎ ุงููุตู",
                "ุฅูู": "ูุญููุฉ ุงูุนูู",
                "ุงููุงููู": "ุงููุงุฏุฉ 73"
            },
            "ุตุฑู ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ": {
                "ุงููููุฉ": "7 ุฃูุงู",
                "ูู": "ุชุงุฑูุฎ ุฅููุงุก ุงูุฎุฏูุฉ", 
                "ุฅูู": "ุงูุนุงูู",
                "ุงููุงููู": "ุงููุงุฏุฉ 77"
            },
            "ุชูุฏูู ุทูุจ ุงูุตูุญ": {
                "ุงููููุฉ": "15 ูููุงู",
                "ูู": "ุชุงุฑูุฎ ุชูุฏูู ุงูุดููู",
                "ุฅูู": "ูุฏูุฑูุฉ ุงูุนูู", 
                "ุงููุงููู": "ูุธุงู ุงูุชุณููุฉ"
            }
        }
        
        for deadline, details in legal_deadlines.items():
            with st.expander(f"โ๏ธ {deadline}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงููููุฉ:** {details['ุงููููุฉ']}")
                    st.write(f"**ูู:** {details['ูู']}")
                with col2:
                    st.write(f"**ุฅูู:** {details['ุฅูู']}")
                    st.write(f"**ุงูุฃุณุงุณ ุงููุงูููู:** {details['ุงููุงููู']}")
                
                # ุฅุถุงูุฉ ุชุฐููุฑ ุชููุงุฆู
                if st.button(f"โ ุฃุถู ุชุฐููุฑ ูู {deadline}", key=f"auto_{deadline}"):
                    st.info("ุณูุชู ุฅุถุงูุฉ ุชุฐููุฑ ุชููุงุฆู ููุฐุง ุงูููุนุฏ")

# ==========================
# ๐งญ ุงูุชูููุฐ ุงูุฑุฆูุณู ููุชุทุจูู
# ==========================
if __name__ == "__main__":
    main()