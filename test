import streamlit as st
import os
import pandas as pd
from datetime import datetime
from dotenv import load_dotenv

# ==========================
# ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ
# ==========================
load_dotenv()

# ==========================
# ุงุณุชูุฑุงุฏ ุงูููููุงุช ุงููุณุงุนุฏุฉ
# ==========================
try:
    from helpers.smart_recommender import smart_recommender, role_selector
    from helpers.mini_ai_smart import MiniLegalAI
    from helpers.settings_manager import SettingsManager
    from helpers.data_loader import DataLoader
except ImportError as e:
    st.warning(f"โ๏ธ ุจุนุถ ุงูููููุงุช ุงููุณุงุนุฏุฉ ุบูุฑ ูุชููุฑุฉ: {e}")

# ==========================
# ุชุนุฑูู ููููุงุช UI ูุญูููุง ูุชุฌูุจ ูุดุงูู ุงูุงุณุชูุฑุงุฏ
# ==========================
def section_header(title, subtitle=""):
    st.markdown(f"### {title}\n**{subtitle}**")

def message_bubble(text, sender="system"):
    st.write(f"{sender}: {text}")

def info_card(title, content):
    st.info(f"**{title}**\n{content}")

def mini_card(title, content):
    st.write(f"**{title}**: {content}")

def feature_highlight(title, description):
    st.write(f"**{title}**: {description}")

# =====================================================
# ๐ฏ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ูุงูุจูุฆุฉ - ูุญุฏุซุฉ
# =====================================================
def setup_application():
    env_config = {
        "APP_INFO": {
            "APP_NAME": os.getenv("APP_NAME", "โ๏ธ ููุตุฉ ุญูููู ุงููุงููููุฉ"),
            "VERSION": os.getenv("APP_VERSION", "v2025.1"),
            "SUPPORT_EMAIL": os.getenv("SUPPORT_EMAIL", "support@huqooqi.com")
        },
        "DATA_SOURCES": {
            "WORKBOOK_PATH": os.getenv("WORKBOOK_PATH", "data/Legal_Rights_Platform_v2025.xlsx"),
            "SHEET_URL": os.getenv("SHEET_URL", "")
        },
        "AI_FEATURES": {
            "ENABLE_AI": os.getenv("AI_ENABLE", "true").lower() == "true",
            "MAX_HISTORY": int(os.getenv("AI_MAX_HISTORY", "20"))
        },
        "FOOTER": {
            "TEXT": "ยฉ 2025 ููุตุฉ ุญูููู ุงููุงููููุฉ โ ููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ูุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู ุงููุชุฎุตุต"
        }
    }

    # ูุญุงูุงุฉ SettingsManager ุฅุฐุง ูู ููู ูุชููุฑุงู
    class SimpleSettingsManager:
        def __init__(self):
            self.settings = env_config

        def update(self, new_settings):
            self.settings.update(new_settings)

    settings_manager = SimpleSettingsManager()
    return settings_manager

settings_manager = setup_application()
config = st.session_state.get("config", settings_manager.settings)

# ุฅุนุฏุงุฏ ุตูุญุฉ Streamlit - ุชุตููู ูุงุชุญ ููุท
st.set_page_config(
    page_title=config.get("APP_INFO", {}).get("APP_NAME", "ููุตุฉ ุญูููู ุงููุงููููุฉ"),
    page_icon="โ๏ธ",
    layout="wide",
    initial_sidebar_state="expanded"
)

# =====================================================
# ๐จ ุชุญููู ุงูุชุตููู - ุชุตููู ูุงุชุญ ููุท
# =====================================================
def load_custom_css():
    st.markdown("""
    <style>
    /* ุชุตููู ูุงุชุญ ููุท - ุฅุฒุงูุฉ ุฌููุน ุนูุงุตุฑ ุงูุชุตููู ุงููุธูู */
    .main-header { 
        background: linear-gradient(135deg, #1E3A8A 0%, #2563EB 50%, #1E40AF 100%); 
        color: white; 
        padding: 2rem; 
        border-radius: 20px; 
        text-align: center; 
        margin-bottom: 2rem; 
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    .feature-card { 
        background: white; 
        padding: 1.5rem; 
        border-radius: 15px; 
        box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
        margin: 1rem 0; 
        transition: all 0.3s ease; 
        border: 1px solid #e0e0e0;
    }
    .feature-card:hover { 
        transform: translateY(-5px); 
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    .info-card {
        background: #f8f9fa;
        padding: 1rem;
        border-radius: 10px;
        border-right: 4px solid #2563EB;
        margin: 0.5rem 0;
    }
    .emergency-card {
        background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 15px;
        margin: 1rem 0;
    }
    .success-card {
        background: linear-gradient(135deg, #059669 0%, #10B981 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 15px;
        margin: 1rem 0;
    }
    .law-article {
        background: #f0f9ff;
        padding: 1.5rem;
        border-radius: 10px;
        border-left: 4px solid #1E40AF;
        margin: 1rem 0;
    }
    .research-tool {
        background: linear-gradient(135deg, #7C3AED 0%, #8B5CF6 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 15px;
        margin: 1rem 0;
    }
    
    /* ุฅุฒุงูุฉ ุฃู ุนูุงุตุฑ ูุฑุชุจุทุฉ ุจุงููุถุน ุงููุธูู */
    .stApp {
        background-color: #ffffff;
    }
    
    /* ุชุญุณููุงุช ูููุงุฌูุฉ ุงููุงุชุญุฉ */
    .stButton>button {
        background-color: #2563EB;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 0.5rem 1rem;
        font-weight: 500;
    }
    
    .stButton>button:hover {
        background-color: #1E40AF;
        color: white;
    }
    </style>
    """, unsafe_allow_html=True)

load_custom_css()

# =====================================================
# ๐ค ุชููุฆุฉ ุงูููููุงุช ุงูุฐููุฉ ูุน ุญูุงูุฉ ูู ุงูุฃุฎุทุงุก
# =====================================================
ai_assistant = None
try:
    workbook_path = config.get("DATA_SOURCES", {}).get("WORKBOOK_PATH", "")
    if workbook_path and os.path.exists(workbook_path):
        # ูุญุงูุงุฉ MiniLegalAI ุฅุฐุง ูู ููู ูุชููุฑุงู
        class MockMiniLegalAI:
            def advanced_search(self, query, top_n=3):
                return [
                    {
                        'text': "ุงููุงุฏุฉ 74: ุชุณุชุญู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ููุนุงูู ุฅุฐุง ุฃูููุช ุฎุฏูุงุชู ูุฃู ุณุจุจ ุนุฏุง ุงูุงุณุชูุงูุฉ.",
                        'example': "ุนุงูู ุนูู ููุฏุฉ 7 ุณููุงุช ุจุฑุงุชุจ 500 ุฏููุงุฑุ ูุณุชุญู ููุงูุฃุฉ ูุฏุฑูุง 1800 ุฏููุงุฑ.",
                        'reference': "ูุงููู ุงูุนูู ุงูุฃุฑุฏูู - ุงููุงุฏุฉ 74",
                        'score': 92.5
                    },
                    {
                        'text': "ุงููุงุฏุฉ 55: ูุฌุจ ุตุฑู ุงูุฃุฌุฑ ูู ููุงู ุงูุนูู ููู ููุนุฏ ูุง ูุชุฌุงูุฒ ุงูููู ุงูุณุงุจุน ูู ุงูุดูุฑ ุงูุชุงูู.",
                        'example': "ุฅุฐุง ุชุฃุฎุฑ ุตุฑู ุงูุฑุงุชุจ ุฃูุซุฑ ูู 7 ุฃูุงูุ ูุญู ููุนุงูู ุงููุทุงูุจุฉ ุจุชุนููุถ.",
                        'reference': "ูุงููู ุงูุนูู ุงูุฃุฑุฏูู - ุงููุงุฏุฉ 55",
                        'score': 88.3
                    }
                ]

        ai_assistant = MockMiniLegalAI()
    else:
        st.warning("โ๏ธ ููู ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุ ุณูุชู ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ.")
except Exception as e:
    st.warning(f"โ๏ธ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญููู AI: {e}")

# ูุญุงูุงุฉ role_selector ุฅุฐุง ูู ููู ูุชููุฑุงู
def role_selector():
    roles = ["ุนุงูู", "ุตุงุญุจ ุนูู", "ุจุงุญุซ ูุงูููู", "ููุชู ุจุงููุนุฑูุฉ"]
    return st.radio("ุงุฎุชุฑ ุฏูุฑู:", roles, horizontal=True)

# ูุญุงูุงุฉ smart_recommender ุฅุฐุง ูู ููู ูุชููุฑุงู
def smart_recommender(selected_role, show_header=True):
    if show_header:
        st.markdown(f"### ๐ฏ ุชูุตูุงุช ูุฎุตุตุฉ ูู {selected_role}")

    recommendations = {
        "ุนุงูู": [
            "๐งฎ ุงุณุชุฎุฏู ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
            "๐ ุชุนุฑู ุนูู ููููุฉ ุชูุฏูู ุงูุดููู",
            "๐ ุงุนุฑู ุญูููู ุงููุงููุฉ ูู ุงูุนูู"
        ],
        "ุตุงุญุจ ุนูู": [
            "๐ ุชุฃูุฏ ูู ุงูุชุฒุงูู ุจุงูููุงููู",
            "๐ ุงุญุณุจ ูุณุชุญูุงุช ุงูุนุงูููู ุจุฏูุฉ",
            "โ๏ธ ุชุนุฑู ุนูู ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ"
        ],
        "ุจุงุญุซ ูุงูููู": [
            "๐ ุงุณุชุฎุฏู ุงูุจุญุซ ุงููุชูุฏู ูู ุงูููุงููู",
            "๐ ุงุทูุน ุนูู ุฃุญุฏุซ ุงูุชุนุฏููุงุช",
            "๐ผ ุงุณุชูุฏ ูู ุงูููุชุจุฉ ุงููุงููููุฉ"
        ],
        "ููุชู ุจุงููุนุฑูุฉ": [
            "๐ ุงุทูุน ุนูู ุงูููุงุฏ ุงููุงููููุฉ",
            "๐งฎ ุงุณุชุฎุฏู ุงูุญุงุณุจุงุช ุงูุชูุงุนููุฉ",
            "๐๏ธ ุชุนุฑู ุนูู ุงูุฌูุงุช ุงููุฎุชุตุฉ"
        ]
    }

    for rec in recommendations.get(selected_role, []):
        st.write(f"โข {rec}")

# =====================================================
# ๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงููุญุณูุฉ - ุจุฏูู ูุนูููุงุช ุดุฎุตูุฉ
# =====================================================
def show_home_page():
    st.markdown(f"""
    <div class="main-header">
        <h1 style="margin:0; font-size: 3rem;">{config.get("APP_INFO", {}).get("APP_NAME", "โ๏ธ ููุตุฉ ุญูููู ุงููุงููููุฉ")}</h1>
        <p style="font-size: 1.2rem; margin: 1rem 0 0 0; opacity: 0.9;">
        ููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ุดุงููุฉ ููุชุนุฑูู ุจุญููู ููุงุฌุจุงุช ุงูุนูู ูู ุงูุฃุฑุฏู
        </p>
    </div>
    """, unsafe_allow_html=True)

    # ุชูููู ููู
    st.warning("""
    **โ๏ธ ุชูููู ููู:** ูุฐู ุงูููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ููุท ููุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู ุงููุชุฎุตุต. 
    ุงููุนูููุงุช ุงูููุฏูุฉ ูุฃุบุฑุงุถ ุงูุชุนูู ูุงููุนุฑูุฉ ุงูุนุงูุฉ.
    """)

    # ุงูุฅุญุตุงุฆูุงุช ุงูุญูููุฉ - ุจุฏูู ูุนูููุงุช ุดุฎุตูุฉ
    col1, col2, col3, col4 = st.columns(4)
    with col1: 
        st.metric("๐ ุงูููุงุฏ ุงููุงููููุฉ", "150+", "ูุญุฏุซุฉ 2025")
    with col2: 
        st.metric("๐ฅ ุงูุฎุฏูุงุช ุงูููุฏูุฉ", "12+", "ุฎุฏูุฉ ูุชุฎุตุตุฉ")
    with col3: 
        st.metric("โ๏ธ ุงููุญุงูุธุงุช", "12", "ูุบุทุงุฉ ุจุงููุงูู")
    with col4: 
        st.metric("๐ผ ุงูุชุญุฏูุซุงุช", "ุดูุฑูุฉ", "ุขุฎุฑ ุชุญุฏูุซ 2025")

    st.markdown("<br>", unsafe_allow_html=True)

    # ุงูุชูุตูุงุช ุงูุฐููุฉ
    st.markdown("### ๐ฏ ุงูุชูุตูุงุช ุงูุฐููุฉ ุงููุฎุตุตุฉ")
    try:
        selected_role = role_selector()
        smart_recommender(selected_role, show_header=False)
    except Exception as e:
        st.warning(f"โ๏ธ ูุง ูููู ุนุฑุถ ุงูุชูุตูุงุช ุงูุฐููุฉ: {e}")

    # ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ - ูุนุงุฏ ุชุฑุชูุจูุง
    st.markdown("### ๐ ุฎุฏูุงุชูุง ุงูุฑุฆูุณูุฉ")
    features = [
        {
            "icon": "๐งฎ", 
            "title": "ุงูุญุงุณุจุงุช ุงููุงููููุฉ", 
            "description": "ุญุณุงุจ ุฏููู ูููุณุชุญูุงุช ุงููุงููุฉ ููู ุงููุงููู ุงูุฃุฑุฏูู", 
            "features": ["ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ"],
            "link": "ุงูุญุงุณุจุงุช ุงููุงููููุฉ"
        },
        {
            "icon": "๐", 
            "title": "ูุญุงูู ุงูุดููู ุงูุฐูู", 
            "description": "ุชุญููู ุงูุงูุชูุงูุงุช ูุชูุฏูู ุงูุฅุฌุฑุงุกุงุช ุงููุงููููุฉ ุงูููุงุณุจุฉ", 
            "features": ["ุชุญููู ุขูู", "ุชูุตูุงุช ูุฎุตุตุฉ", "ููุงุฐุฌ ุฌุงูุฒุฉ"],
            "link": "ูุญุงูู ุงูุดููู"
        },
        {
            "icon": "๐ท", 
            "title": "ุฏููู ุงูุนุงูู", 
            "description": "ุฏููู ุดุงูู ูุญููู ููุงุฌุจุงุช ุงูุนุงูู ูู ุงููุงููู ุงูุฃุฑุฏูู", 
            "features": ["ุญููู ุงูุนุงูู", "ุงูุงูุชูุงูุงุช ุงูุดุงุฆุนุฉ", "ููููุฉ ุงููุทุงูุจุฉ"],
            "link": "ุงูุนูุงู"
        },
        {
            "icon": "๐", 
            "title": "ุฏููู ุตุงุญุจ ุงูุนูู", 
            "description": "ุฏููู ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ูุฃุตุญุงุจ ุงูุนูู", 
            "features": ["ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ", "ููุงุฐุฌ ุนููุฏ", "ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ"],
            "link": "ุฃุตุญุงุจ ุงูุนูู"
        },
        {
            "icon": "๐ฌ", 
            "title": "ุงูุจุญุซ ุงููุงูููู", 
            "description": "ููุตุฉ ุจุญุซูุฉ ุดุงููุฉ ููุจุงุญุซูู ูุงูููุชููู", 
            "features": ["ุชุดุฑูุนุงุช ูุงููุฉ", "ุณูุงุจู ูุถุงุฆูุฉ", "ุฏุฑุงุณุงุช ุจุญุซูุฉ"],
            "link": "ุงูุจุงุญุซูู"
        },
        {
            "icon": "๐๏ธ", 
            "title": "ุงูุฌูุงุช ุงููุฎุชุตุฉ", 
            "description": "ุฏููู ุดุงูู ููุฌูุงุช ุงูุฑุณููุฉ ูู ุฌููุน ุงููุญุงูุธุงุช", 
            "features": ["ุนููุงู ุฏููู", "ูุนูููุงุช ุงุชุตุงู", "ุฃููุงุช ุงูุนูู"],
            "link": "ุงูุฌูุงุช ุงููุฎุชุตุฉ"
        },
    ]

    # ุนุฑุถ ุงูููุฒุงุช ูู ุดุจูุฉ 2x3
    cols = st.columns(2)
    for idx, feature in enumerate(features):
        with cols[idx % 2]:
            st.markdown(f"""
            <div class="feature-card">
                <div style="font-size: 2.5rem; text-align: center; margin-bottom: 1rem;">{feature['icon']}</div>
                <h3 style="text-align: center;">{feature['title']}</h3>
                <p style="text-align: center; color: #666;">{feature['description']}</p>
                <div style="text-align: center;">
                    {" โข ".join([f"<span style='background: #E3F2FD; padding: 0.2rem 0.5rem; border-radius: 12px; font-size: 0.8rem; margin: 0.1rem; display: inline-block;'>{f}</span>" for f in feature['features']])}
                </div>
            </div>
            """, unsafe_allow_html=True)
            if st.button(f"ุงูุชูู ุฅูู {feature['title']}", key=f"btn_{idx}", use_container_width=True):
                st.session_state.selected_page = feature['link']

    # ุขุฎุฑ ุงูุฃุฎุจุงุฑ ูุงูุชุญุฏูุซุงุช
    st.markdown("### ๐ข ุขุฎุฑ ุงูุชุญุฏูุซุงุช ุงููุงููููุฉ")
    news_cols = st.columns(2)

    with news_cols[0]:
        with st.expander("๐ ุชุญุฏูุซุงุช ูุงููููุฉ 2025", expanded=True):
            st.write("""
            - **ุชุญุฏูุซ ูุงููู ุงูุนูู 2025**: ุชุนุฏููุงุช ุฌุฏูุฏุฉ ุชุดูู:
              - **ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ**: 290 ุฏููุงุฑ ุจุฏูุงู ูู 260 ุฏููุงุฑ
              - **ุชุญุณููุงุช ูู ุญูุงูุฉ ุงูุนุงูู**: ุชุนุฒูุฒ ุญููู ุงูุนุงูููู
              - **ุชุญุฏูุซ ุฃูุธูุฉ ุงูุณูุงูุฉ ุงูููููุฉ**: ูุชุทูุจุงุช ุฌุฏูุฏุฉ ููุตุญุฉ ูุงูุณูุงูุฉ
            - **ูุฑุงุฑุงุช ูุฒุงุฑุฉ ุงูุนูู**: ุชุญุฏูุซุงุช ูู ุชูุธูู ุณุงุนุงุช ุงูุนูู
            - **ุชุญุฏูุซ ุงูุฃูุธูุฉ**: ุชุญุณููุงุช ูู ูุธุงู ุงูุชูุชูุด ุงูุนูู
            """)

    with news_cols[1]:
        with st.expander("๐ ูุตุงุฏุฑ ููุฑุงุฌุน ููุซููุฉ", expanded=True):
            st.write("""
            **ุงููุฑุงุฌุน ุงููุนุชูุฏุฉ:**
            - ๐ ูุงููู ุงูุนูู ุงูุฃุฑุฏูู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู
            - ๐ ูุธุงู ุงูุนูู ุงูุฃุฑุฏูู ูุชุนุฏููุงุชู
            - ๐ ูุฑุงุฑุงุช ูุฒุงุฑุฉ ุงูุนูู ุงูุฑุณููุฉ
            - ๐ ุงููููุน ุงูุฑุณูู ููุฒุงุฑุฉ ุงูุนูู
            - ๐ ุงูุฏููุงู ุงูุฑุณูู ููุชุดุฑูุน ูุงูุฑุฃู
            
            **ุชุญุฏูุซุงุช ูุณุชูุฑุฉ ุญุณุจ ุขุฎุฑ ุงูุชุนุฏููุงุช ุงูุชุดุฑูุนูุฉ**
            """)

# ุจุงูู ุงูุฃูุณุงู ุณุฃููู ุจุชุญุฏูุซูุง ูู ุงููุฑุงุญู ุงููุงุฏูุฉ...
# [ูุชุจุน ุจุงูู ุงูููุฏ ูุน ุงูุชุนุฏููุงุช ุงูุชุฏุฑูุฌูุฉ]

# =====================================================
# โ๏ธ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช ุงููุญุฏุซุฉ - ุจุฏูู ูุนูููุงุช ุดุฎุตูุฉ
# =====================================================
def show_settings_page():
    st.markdown("### โ๏ธ ุงูุฅุนุฏุงุฏุงุช ูุงูุชููุฆุฉ")

    settings_tabs = st.tabs(["๐๏ธ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู", "๐ ุงูุฅุดุนุงุฑุงุช", "๐ก๏ธ ุงูุฎุตูุตูุฉ ูุงูุฃูุงู"])

    with settings_tabs[0]:
        st.markdown("### ๐๏ธ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ุงูุนุงูุฉ")

        col1, col2 = st.columns(2)

        with col1:
            app_language = st.selectbox("ูุบุฉ ุงูุชุทุจูู", ["ุงูุนุฑุจูุฉ", "English"])
            theme_mode = st.radio("ุงููุถุน ุงููููู", ["ูุงุชุญ"])  # ุฅุฒุงูุฉ ุงูุฎูุงุฑุงุช ุงูุฃุฎุฑู

        with col2:
            ai_enabled = st.toggle("ุชูุนูู ุงูุจุญุซ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู", value=True)
            auto_save = st.checkbox("ุงูุญูุธ ุงูุชููุงุฆู ููุจูุงูุงุช", value=True)

        if st.button("๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช"):
            st.success("ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ!")

    with settings_tabs[1]:
        st.markdown("### ๐ ุฅุนุฏุงุฏุงุช ุงูุชุญุฏูุซุงุช")

        st.checkbox("ุงูุชุญุฏูุซุงุช ุงููุงููููุฉ ุงูุฌุฏูุฏุฉ", value=True)
        st.checkbox("ุงูุชุญุฏูุซุงุช ุงูููุฑูุฉ ููููุตุฉ", value=True)
        st.checkbox("ุชูุจููุงุช ุงูุฃูุงู ูุงูุฎุตูุตูุฉ", value=True)

        st.info("""
        **ูุนูููุงุช ุงูุชุญุฏูุซุงุช:**
        - ูุชู ุชุญุฏูุซ ุงูููุงููู ุจุดูู ุดูุฑู
        - ุขุฎุฑ ุชุญุฏูุซ: ููุงูุฑ 2025
        - ุงููุตุงุฏุฑ: ูุฒุงุฑุฉ ุงูุนูู ูุงูุฏููุงู ุงูุฑุณูู
        """)

        if st.button("๐พ ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุชุญุฏูุซุงุช"):
            st.success("ุชู ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุชุญุฏูุซุงุช!")

    with settings_tabs[2]:
        st.markdown("### ๐ก๏ธ ุงูุฎุตูุตูุฉ ูุงูุฃูุงู")

        st.markdown("""
        **ุณูุงุณุฉ ุงูุฎุตูุตูุฉ:**
        - ุงูููุตุฉ ูุง ุชุทูุจ ุฃู ุชุฎุฒู ุฃู ูุนูููุงุช ุดุฎุตูุฉ
        - ุฌููุน ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ูุฃุบุฑุงุถ ุชุนููููุฉ ูุชูุนููุฉ ููุท
        - ูุง ูุชู ูุดุงุฑูุฉ ุฃู ูุนูููุงุช ูุน ุฃุทุฑุงู ุซุงูุซุฉ
        - ุงูุชุฒุงู ูุงูู ุจูุงููู ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุฃุฑุฏูู
        """)

        st.warning("""
        **ุชูููู ุงูุฃูุงู:**
        - ูุฐู ุงูููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ููุท
        - ูุง ุชููู ุจุชูุฏูู ุงุณุชุดุงุฑุงุช ูุงููููุฉ ุดุฎุตูุฉ
        - ูุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู ุงููุชุฎุตุต
        - ุงููุนูููุงุช ููุฏูุฉ ูุฃุบุฑุงุถ ุงููุนุฑูุฉ ุงูุนุงูุฉ
        """)

# =====================================================
# ๐งญ ุงูุชูููุฐ ุงูุฑุฆูุณู ููุชุทุจูู - ูุญุฏุซ
# =====================================================
def main():
    # ุงูุดุฑูุท ุงูุฌุงูุจู - ูุญุฏุซ
    with st.sidebar:
        st.markdown(
            f"<div style='text-align: center; padding: 1rem;'>"
            f"<h2>โ๏ธ {config.get('APP_INFO', {}).get('APP_NAME', 'ููุตุฉ ุญูููู ุงููุงููููุฉ')}</h2>"
            f"<p style='color: #666; font-size: 0.9rem;'>ุงูุฅุตุฏุงุฑ {config.get('APP_INFO', {}).get('VERSION', 'v2025.1')}</p>"
            f"</div>", unsafe_allow_html=True
        )
        st.markdown("---")

        # ุชูููู ููู ูู ุงูุดุฑูุท ุงูุฌุงูุจู
        st.warning("""
        **ุชูููู ููู:**
        ููุตุฉ ุชูุนููุฉ ุชุนููููุฉ
        ูุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู
        """)

        # ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ุงููุญุฏุซุฉ
        page_options = {
            "๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ": show_home_page,
            "๐ท ุฏููู ุงูุนุงูู": show_workers_section,
            "๐ ุฏููู ุตุงุญุจ ุงูุนูู": show_employers_section,
            "๐ฌ ุงูุจุญุซ ุงููุงูููู": show_researchers_section,
            "๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ": show_calculators_section,
            "๐ ูุญุงูู ุงูุดููู": show_complaint_simulator,
            "๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ": show_authorities_section,
            "๐ ุงูุจุญุซ ูู ุงูููุงููู": show_legal_search,
            "โ๏ธ ุงูุฅุนุฏุงุฏุงุช": show_settings_page
        }

        selected_page = st.selectbox("ุงุฎุชุฑ ุงููุณู", list(page_options.keys()), key="main_nav")

        st.markdown("---")
        st.markdown("### ๐ ุฏุนู ุงูููุตุฉ")
        st.write("๐ง support@huqooqi.com")
        st.write("๐ ุงูุฃุญุฏ - ุงูุฎููุณ: 8:00 ุต - 3:00 ู")

        st.markdown("---")
        st.markdown("### ๐ ุชุญุฏูุซุงุช ูููุฉ")
        st.info("""
        - ๐ข ุชุญุฏูุซุงุช ุงูููุงููู 2025
        - ๐ ููุงุฏ ุชุนููููุฉ ุฌุฏูุฏุฉ
        - โ๏ธ ุชุญุฏูุซุงุช ุชุดุฑูุนูุฉ
        - ๐ ูุตุงุฏุฑ ููุซููุฉ
        """)

    # ุนุฑุถ ุงูุตูุญุฉ ุงููุญุฏุฏุฉ
    if selected_page in page_options:
        try:
            page_options[selected_page]()
        except Exception as e:
            st.error(f"โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุนุฑุถ ุงูุตูุญุฉ: {e}")
            st.info("ูุฑุฌู ุชุญุฏูุซ ุงูุตูุญุฉ ุฃู ุงููุญุงููุฉ ูุงุญูุงู")

    # ุงูุชุฐููู - ูุญุฏุซ
    st.markdown("---")
    footer_text = config.get("FOOTER", {}).get("TEXT", "ยฉ 2025 ููุตุฉ ุญูููู ุงููุงููููุฉ โ ููุตุฉ ุชูุนููุฉ ุชุนููููุฉ ูุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ุงููุญุงูู ุงููุชุฎุตุต")
    st.markdown(f"<center><small>{footer_text}</small></center>", unsafe_allow_html=True)

# ==========================
# ๐ท ูุณู ุงูุนูุงู ุงูููุณุน ูุงูุดุงูู
# ==========================
def show_workers_section():
    st.markdown("### ๐ท ูุณู ุงูุนูุงู - ุงูููุตุฉ ุงูุดุงููุฉ ูุญููู ุงูุนุงูููู ูู ุงูุฃุฑุฏู 2025")

    worker_tabs = st.tabs([
        "๐ ุงููุธุฑุฉ ุงูุนุงูุฉ", 
        "๐ ุงูุญููู ุงูุฃุณุงุณูุฉ",
        "๐ฐ ุงูุญููู ุงููุงููุฉ",
        "โฐ ููุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช",
        "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ",
        "โ๏ธ ุงูุฅูุฐุงุฑุงุช ูุงููุตู",
        "๐ ุงูุดูุงูู ูุงูููุงุฒุนุงุช",
        "๐ ุงูุชูุนูุฉ ุงููุงููููุฉ",
        "๐งฎ ุญุงุณุจุงุช ุงููุณุชุญูุงุช",
        "๐ ุงูููุชุจุฉ ุงููุงููููุฉ",
        "๐ ูุฏูู ุงูุญููู",
        "๐ ุชูููู ุงููุถุน"
    ])

    with worker_tabs[0]:
        show_workers_overview()

    with worker_tabs[1]:
        show_basic_rights()

    with worker_tabs[2]:
        show_financial_rights()

    with worker_tabs[3]:
        show_work_time_vacations()

    with worker_tabs[4]:
        show_safety_protection()

    with worker_tabs[5]:
        show_warnings_termination()

    with worker_tabs[6]:
        show_complaints_disputes()

    with worker_tabs[7]:
        show_legal_awareness()

    with worker_tabs[8]:
        show_workers_calculators()

    with worker_tabs[9]:
        show_workers_library()

    with worker_tabs[10]:
        show_rights_checker()

    with worker_tabs[11]:
        show_situation_assessment()

# ==========================
# ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ ููุนูุงู - ููุณุนุฉ
# ==========================
def show_workers_overview():
    st.markdown("#### ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ - ุญูููู ุงููุงููููุฉ ูุนุงูู ูู ุงูุฃุฑุฏู")

    # ุจุทุงูุฉ ุชุฑุญูุจูุฉ ุชูุงุนููุฉ
    col1, col2, col3 = st.columns([2, 1, 1])

    with col1:
        st.markdown("""
        <div class="success-card">
        <h3>๐ฏ ูุฑุญุจุงู ุจู ูู ููุตุฉ ุญููู ุงูุนุงูููู</h3>
        <p>ูุฐู ุงูููุตุฉ ุชูููู ูู ููู ุญูููู ุงููุงููููุฉ ุงููุงููุฉ ููู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู 
        ูุชุนุฏููุงุชู ุงูุญุฏูุซุฉ ูุนุงู 2025. ุชุนุฑู ุนูู ุญูููู ูุชุนูู ููู ุชุญูููุง.</p>
        </div>
        """, unsafe_allow_html=True)

    with col2:
        st.markdown("""
        <div class="info-card">
        <h4>๐ ุทูุงุฑุฆ</h4>
        <p><strong>ูุฒุงุฑุฉ ุงูุนูู:</strong> 06-5802666</p>
        <p><strong>ุงูุทูุงุฑุฆ:</strong> 911</p>
        <p><strong>ุงูุฏุนู ุงููุงูููู:</strong> 079-0000000</p>
        </div>
        """, unsafe_allow_html=True)

    with col3:
        st.markdown("""
        <div class="emergency-card">
        <h4>๐จ ุญุงูุฉ ุทุงุฑุฆุฉุ</h4>
        <p>ูุตู ุชุนุณูู - ุชุญุฑุด - ุชุฃุฎุฑ ุฑูุงุชุจ</p>
        <button style="background: white; color: red; border: none; padding: 0.5rem 1rem; border-radius: 5px; margin-top: 0.5rem;">
        ุงุถุบุท ูููุณุงุนุฏุฉ ุงูุนุงุฌูุฉ
        </button>
        </div>
        """, unsafe_allow_html=True)

    # ุฃุญุฏุซ ุงูุชุญุฏูุซุงุช 2025 ูุน ุชูุงุตูู ููุณุนุฉ
    st.markdown("#### ๐ข ุฃุญุฏุซ ุงูุชุญุฏูุซุงุช ุงูุชุดุฑูุนูุฉ 2025")

    updates_2025 = [
        {
            "icon": "๐ฐ",
            "title": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
            "description": "290 ุฏููุงุฑ ูููุคูููู ุฌุงูุนูุงู (ุฒูุงุฏุฉ 30 ุฏููุงุฑ)",
            "law": "ูุฑุงุฑ ูุฌูุณ ุงููุฒุฑุงุก 2025/1",
            "impact": "ูุดูู ุฌููุน ุงูุนุงูููู ูู ุงููุทุงุน ุงูุฎุงุต",
            "deadline": "ุณุงุฑู ูู 1/1/2025"
        },
        {
            "icon": "๐ฅ", 
            "title": "ุฅุฌุงุฒุฉ ุงูุฃูููุฉ",
            "description": "10 ุฃุณุงุจูุน ูุฏููุนุฉ ุงูุฃุฌุฑ ุจุงููุงูู (ุฒูุงุฏุฉ ุฃุณุจูุนูู)",
            "law": "ุงููุงุฏุฉ 69 ุงููุนุฏูุฉ",
            "impact": "ุชุดูู ุฌููุน ุงูุนุงููุงุช ุจุบุถ ุงููุธุฑ ุนู ูุฏุฉ ุงูุฎุฏูุฉ",
            "deadline": "ุณุงุฑู ูู 1/1/2025"
        },
        {
            "icon": "๐ก๏ธ",
            "title": "ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด",
            "description": "ุฅุฌุฑุงุกุงุช ุตุงุฑูุฉ ุฌุฏูุฏุฉ ูุนููุจุงุช ูุดุฏุฏุฉ",
            "law": "ุงููุงุฏุฉ 105 ููุฑุฑ",
            "impact": "ุญูุงูุฉ ูุงููุฉ ูุน ุนููุจุงุช ุชุตู ุฅูู ุงููุตู",
            "deadline": "ุณุงุฑู ูู 1/3/2025"
        },
        {
            "icon": "๐",
            "title": "ุงูุนูู ุนู ุจูุนุฏ",
            "description": "ุชูุธูู ูุงูููู ุฌุฏูุฏ ููุนูู ุงููุฑู ูุงููุฌูู",
            "law": "ูุธุงู ุงูุนูู ุงููุฑู 2025",
            "impact": "ุชุญุฏูุฏ ุญููู ููุงุฌุจุงุช ุงูุนูู ุนู ุจุนุฏ",
            "deadline": "ุณุงุฑู ูู 1/2/2025"
        }
    ]

    cols = st.columns(4)
    for idx, update in enumerate(updates_2025):
        with cols[idx]:
            st.markdown(f"""
            <div style="background: white; padding: 1rem; border-radius: 10px; border: 1px solid #e0e0e0; text-align: center; height: 220px; display: flex; flex-direction: column; justify-content: space-between;">
                <div>
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">{update['icon']}</div>
                    <h4 style="margin: 0.5rem 0; color: #1E40AF; font-size: 0.9rem;">{update['title']}</h4>
                    <p style="font-size: 0.7rem; color: #666; margin: 0.5rem 0;">{update['description']}</p>
                </div>
                <div>
                    <p style="font-size: 0.6rem; color: #059669; margin: 0.2rem 0;">{update['law']}</p>
                    <p style="font-size: 0.6rem; color: #DC2626; margin: 0.2rem 0;">{update['deadline']}</p>
                </div>
            </div>
            """, unsafe_allow_html=True)

    # ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ ูุน ุชูุงุตูู ุฅุถุงููุฉ
    st.markdown("#### ๐ ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ ุนู ุญูููู")

    stats_cols = st.columns(4)
    with stats_cols[0]:
        st.metric("ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "290 ุฏููุงุฑ", "30 ุฏููุงุฑ", delta_color="inverse")
        st.caption("ูููุคูููู ุฌุงูุนูุงู - 250 ูุบูุฑ ุงููุคูููู")
    with stats_cols[1]:
        st.metric("ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", "14-28 ููู", "ุญุณุจ ุงูุฎุฏูุฉ")
        st.caption("14 ููู ูุฃูู ูู 5 ุณููุงุช - 28 ูุฃูุซุฑ ูู 10")
    with stats_cols[2]:
        st.metric("ุฅุฌุงุฒุฉ ุงูุฃูููุฉ", "10 ุฃุณุงุจูุน", "ุฃุณุจูุนูู")
        st.caption("ูุฏููุนุฉ ุงูุฃุฌุฑ ุจุงููุงูู - ูุญุฏุซุฉ 2025")
    with stats_cols[3]:
        st.metric("ุณุงุนุงุช ุงูุนูู", "48 ุฃุณุจูุนูุงู", "8 ููููุงู")
        st.caption("ูุญุฏ ุฃูุตู - 6 ุณุงุนุงุช ูู ุฑูุถุงู")

    # ุงูุชูุจููุงุช ุงููุงูุฉ ูุน ุชุตูููุงุช
    st.markdown("#### ๐ ุชูุจููุงุช ูุงูุฉ ููุนุงูููู")

    alert_categories = {
        "๐ฐ ูุงููุฉ": [
            "ูุฌุจ ุตุฑู ุงูุฑุงุชุจ ุฎูุงู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑ - ุงููุงุฏุฉ 55",
            "ุจุฏู ุงูุนูู ุงูุฅุถุงูู 125% ููููุงุฑู ู150% ููุนุทูุงุช - ุงููุงุฏุฉ 42",
            "ูุง ูุฌูุฒ ุงูุงุณุชูุทุงุน ุฃูุซุฑ ูู 50% ูู ุงูุฑุงุชุจ - ุงููุงุฏุฉ 56"
        ],
        "โ๏ธ ูุงููููุฉ": [
            "ูุญู ูู ุนูุฏ ุนูู ููุชูุจ ูุจู ุจุฏุก ุงูุนูู - ุงููุงุฏุฉ 13",
            "ุงููุตู ุงูุชุนุณูู ูุนุทู ุญู ุงูุชุนููุถ - ุงููุงุฏุฉ 73", 
            "ุงูุฅุฎุทุงุฑ ุงููุณุจู ุฅูุฒุงูู ูุจู ุงููุตู - ุงููุงุฏุฉ 72"
        ],
        "๐ก๏ธ ุณูุงูุฉ": [
            "ุจูุฆุฉ ุงูุนูู ูุฌุจ ุฃู ุชููู ุขููุฉ ูุตุญูุฉ - ุงููุงุฏุฉ 79",
            "ุชูููุฑ ูุนุฏุงุช ุงูููุงูุฉ ุงูุดุฎุตูุฉ ูุฌุงูุงู - ุงููุงุฏุฉ 79",
            "ุงูุชุฏุฑูุจ ุนูู ุฅุฌุฑุงุกุงุช ุงูุณูุงูุฉ ุฅูุฒุงูู - ุงููุงุฏุฉ 80"
        ]
    }

    for category, alerts in alert_categories.items():
        with st.expander(f"{category} - {len(alerts)} ุชูุจูู", expanded=True):
            for alert in alerts:
                st.info(f"๐ {alert}")

    # ุฎุฏูุงุช ุณุฑูุนุฉ
    st.markdown("#### ๐ ุฎุฏูุงุช ุณุฑูุนุฉ")

    quick_services = st.columns(4)
    with quick_services[0]:
        if st.button("๐งฎ ุญุณุงุจ ุงููุณุชุญูุงุช", use_container_width=True):
            st.session_state.active_calculator = "ุงููุณุชุญูุงุช"
    with quick_services[1]:
        if st.button("๐ ูููุฐุฌ ุดููู", use_container_width=True):
            st.session_state.active_template = "ุดููู"
    with quick_services[2]:
        if st.button("๐ ูุญุต ุญูููู", use_container_width=True):
            st.session_state.active_checker = "ูุญุต"
    with quick_services[3]:
        if st.button("๐ ุงุณุชุดุงุฑุฉ ุนุงุฌูุฉ", use_container_width=True):
            st.session_state.emergency_help = True

# ==========================
# ๐ ุงูุญููู ุงูุฃุณุงุณูุฉ - ููุณุนุฉ
# ==========================
def show_basic_rights():
    st.markdown("#### ๐ ุงูุญููู ุงูุฃุณุงุณูุฉ ูุงูุถูุงูุงุช ุงููุงููููุฉ")

    rights_tabs = st.tabs(["ุงูุญููู ุงูุชุนุงูุฏูุฉ", "ุงูุญููู ุงููุธูููุฉ", "ุงูุญููู ุงูุงุฌุชูุงุนูุฉ", "ุงูุญูุงูุฉ ุงููุงููููุฉ", "ุงููุณุงูุงุฉ ูุนุฏู ุงูุชูููุฒ"])

    with rights_tabs[0]:
        st.markdown("##### ๐ ุงูุญููู ุงูุชุนุงูุฏูุฉ ูุงูุดุฑูุท ุงูุฃุณุงุณูุฉ")

        contract_rights = [
            {
                "right": "ุนูุฏ ุนูู ููุชูุจ",
                "description": "ูุฌุจ ุชูููุน ุนูุฏ ุนูู ููุชูุจ ูุจู ุจุฏุก ุงูุฎุฏูุฉ ูุญุฏุฏ ุฌููุน ุงูุดุฑูุท ูุงูุฃุญูุงู",
                "law": "ุงููุงุฏุฉ 13",
                "details": "ูุฌุจ ุฃู ูุดูู ุงูุฑุงุชุจ ุงูุฃุณุงุณูุ ุงููุฏุฉุ ุงูููุงูุ ููุงู ุงูุนููุ ุณุงุนุงุช ุงูุนููุ ุงูุฅุฌุงุฒุงุช",
                "obligations": "ุตุงุญุจ ุงูุนูู ููุฒู ุจุชูููุฑ ุงูุนูุฏุ ุงูุนุงูู ููุฒู ุจูุฑุงุฌุนุฉ ุงูุดุฑูุท ูุจู ุงูุชูููุน",
                "penalties": "ุบุฑุงูุฉ 500-1000 ุฏููุงุฑ ูุตุงุญุจ ุงูุนูู ูู ุญุงูุฉ ุนุฏู ุงูุชุฒุงูู"
            },
            {
                "right": "ุงูุดูุงููุฉ ูู ุงูุดุฑูุท",
                "description": "ุญูู ูู ูุนุฑูุฉ ุฌููุน ุดุฑูุท ุงูุนูู ุจุดูู ูุงุถุญ ูููุตู ูุจุฏูู ุบููุถ",
                "law": "ุงููุงุฏุฉ 14", 
                "details": "ูุดูู ุดุฑูุท ุงูุชุฌุฑุจุฉุ ุงูููุงูุขุชุ ุงูุจุฏูุงุชุ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงููุ ุฃุณุจุงุจ ุงููุตู",
                "obligations": "ุดุฑุญ ุฌููุน ุงูุจููุฏ ุจูุถูุญุ ุงูุฅุฌุงุจุฉ ุนูู ุงูุงุณุชูุณุงุฑุงุชุ ุชูุถูุญ ุงูุบุงูุถ",
                "penalties": "ุจุทูุงู ุงูุจููุฏ ุงูุบุงูุถุฉุ ุญู ุงูุนุงูู ูู ุชูุณูุฑูุง ูุตุงูุญู"
            },
            {
                "right": "ุชุณููู ูุณุฎุฉ ูู ุงูุนูุฏ",
                "description": "ูุญู ูู ุงูุญุตูู ุนูู ูุณุฎุฉ ูู ุนูุฏ ุงูุนูู ูููุน ุนููู ูู ุงูุทุฑููู",
                "law": "ุงููุงุฏุฉ 15",
                "details": "ูุฌุจ ุฃู ุชุญุชูุธ ุจูุณุฎุฉ ูู ุงูุนูุฏ ุทูุงู ูุฏุฉ ุงูุฎุฏูุฉุ ูุชููู ูุฑุฌุนุงู ูู ุฃู ูุฒุงุน",
                "obligations": "ุชุณููู ูุณุฎุฉ ููุนุงูู ููุฑ ุงูุชูููุนุ ุงูุงุญุชูุงุธ ุจูุณุฎุฉ ูุฏู ุตุงุญุจ ุงูุนูู",
                "penalties": "ุนุฏู ุฅุซุจุงุช ุงูุดุฑูุท ุจุฏูู ูุณุฎุฉุ ุตุนูุจุฉ ุงููุทุงูุจุฉ ุจุงูุญููู"
            },
            {
                "right": "ุชุญุฏูุซ ุงูุนูุฏ",
                "description": "ูู ุญุงูุฉ ุชุนุฏูู ุฃู ุจูุฏุ ูุฌุจ ุชุญุฏูุซ ุงูุนูุฏ ูุชุงุจูุงู ูุจููุงููุฉ ุงูุทุฑููู",
                "law": "ุงููุงุฏุฉ 17",
                "details": "ุฃู ุชุนุฏูู ูู ุงูุฑุงุชุจุ ุงูููุงูุ ุงููุฏุฉุ ุงูููุงู ูุญุชุงุฌ ูุชุนุฏูู ุงูุนูุฏ",
                "obligations": "ุงูุงุชูุงู ุนูู ุงูุชุนุฏููุงุชุ ุงูุชูููุน ุนูู ุงูุฅุถุงูุงุชุ ุงูุชุณุฌูู",
                "penalties": "ุจุทูุงู ุงูุชุนุฏููุงุช ุบูุฑ ุงูููุซูุฉุ ุญู ุงูุนุงูู ูู ุงูุฑุฌูุน ููุนูุฏ ุงูุฃุตูู"
            },
            {
                "right": "ูุชุฑุฉ ุงูุชุฌุฑุจุฉ",
                "description": "ุชูุธูู ูุชุฑุฉ ุงูุชุฌุฑุจุฉ ูุญุฏูุฏูุง ุงููุงููููุฉ ูุดุฑูุท ุฅููุงุฆูุง",
                "law": "ุงููุงุฏุฉ 25",
                "details": "ุฃูุตู ูุฏุฉ 6 ุฃุดูุฑุ ูุญู ููุทุฑููู ุฅููุงุก ุงูุนูุฏ ุฎูุงููุง ุจุฏูู ุชุนููุถ",
                "obligations": "ูุถูุญ ูุฏุฉ ุงูุชุฌุฑุจุฉุ ุชูููู ุงูุฃุฏุงุกุ ุฅุฎุทุงุฑ ุจุฅููุงุก ุงูุชุฌุฑุจุฉ",
                "penalties": "ุงุนุชุจุงุฑ ุงูุนูุฏ ุฏุงุฆู ุจุนุฏ ุงูุชูุงุก ุงูุชุฌุฑุจุฉุ ุญููู ูุงููุฉ ููุนุงูู"
            }
        ]

        for right in contract_rights:
            with st.expander(f"๐ {right['right']}", expanded=True):
                col1, col2 = st.columns([3, 1])
                with col1:
                    st.write(f"**ุงููุตู:** {right['description']}")
                    st.write(f"**ุงูุชูุงุตูู:** {right['details']}")
                    st.write(f"**ุงูุงูุชุฒุงูุงุช:** {right['obligations']}")
                with col2:
                    st.write(f"**ุงููุงููู:** {right['law']}")
                    st.write(f"**ุงูุนููุจุงุช:** {right['penalties']}")
                    st.success("โ ุญู ุฃุณุงุณู ููููู")

                # ูุคุดุฑ ุงูุงูุชุซุงู
                compliance = st.slider(f"ูุณุชูู ุชุทุจูู ูุฐุง ุงูุญู ูู ุนููู", 0, 100, 50, key=f"contract_{right['right']}")
                st.progress(compliance/100)

    with rights_tabs[1]:
        st.markdown("##### ๐ผ ุงูุญููู ุงููุธูููุฉ ูุงูุชุทููุฑ ุงููููู")

        employment_rights = [
            {
                "right": "ุงููุณุงูุงุฉ ูุนุฏู ุงูุชูููุฒ",
                "description": "ูุง ูุฌูุฒ ุงูุชูููุฒ ุจูู ุงูุนุงูููู ุนูู ุฃุณุงุณ ุงูุฌูุณ ุฃู ุงูุฏูู ุฃู ุงูุนุฑู ุฃู ุงูุณู",
                "law": "ุงููุงุฏุฉ 6",
                "protection": "ุงูุญูุงูุฉ ูู ุงูุชูููุฒ ูู ุงูุฃุฌูุฑุ ุงูุชุฑููุงุชุ ุงูุชุฏุฑูุจุ ุงููุนุงููุฉ",
                "examples": "ูุณุงูุงุฉ ูู ุงูุฑูุงุชุจ ูููุณ ุงูุนููุ ูุฑุต ูุชุณุงููุฉ ูู ุงูุชุฑููุฉ"
            },
            {
                "right": "ุงูุชุฏุฑูุจ ูุงูุชุฃููู",
                "description": "ุญูู ูู ุงูุญุตูู ุนูู ุงูุชุฏุฑูุจ ุงููุงุฒู ูุฃุฏุงุก ุนููู ูุชุทููุฑ ููุงุฑุงุชู",
                "law": "ุงููุงุฏุฉ 24",
                "protection": "ุชุญุณูู ุงูููุงุฑุงุชุ ุงูุชุฃููู ุงููุณุชูุฑุ ุงูุชุทูุฑ ุงููุธููู",
                "examples": "ุฏูุฑุงุช ุชุฏุฑูุจูุฉุ ูุฑุด ุนููุ ุจุฑุงูุฌ ุชุฃูููุ ุชุจุงุฏู ุฎุจุฑุงุช"
            },
            {
                "right": "ุงูุชุฑููุฉ ูุงูุนูุงูุงุช", 
                "description": "ุงูุนุฏุงูุฉ ูู ูุฑุต ุงูุชุฑูู ูุงูุญุตูู ุนูู ุงูุนูุงูุงุช based on ุงูุฃุฏุงุก ูุงูููุงุกุฉ",
                "law": "ุงููุงุฏุฉ 37",
                "protection": "ุชูููู ุงูุฃุฏุงุก ุจุดูู ุนุงุฏู ูุดูุงูุ ูุนุงููุฑ ูุงุถุญุฉ ููุชุฑููุฉ",
                "examples": "ุชุฑููุงุช ุฏูุฑูุฉุ ุนูุงูุงุช ุฃุฏุงุกุ ุญูุงูุฒ ุฅูุชุงุฌูุฉุ ููุงูุขุช ุชููุฒ"
            },
            {
                "right": "ุงูุณุฑูุฉ ุงูููููุฉ",
                "description": "ุญูุงูุฉ ุจูุงูุงุชู ุงูุดุฎุตูุฉ ููุนูููุงุชู ุงูุฎุงุตุฉ ูู ุงูุงุณุชุฎุฏุงู ุบูุฑ ุงููุตุฑุญ",
                "law": "ุงููุงุฏุฉ 21",
                "protection": "ุนุฏู ูุดุงุฑูุฉ ูุนูููุงุชู ุงูุดุฎุตูุฉ ุจุฏูู ููุงููุชูุ ุญูุงูุฉ ุงูุฎุตูุตูุฉ",
                "examples": "ุจูุงูุงุช ุดุฎุตูุฉุ ุณุฌูุงุช ุทุจูุฉุ ูุนูููุงุช ูุงููุฉุ ูุฑุงุณูุงุช ุฎุงุตุฉ"
            },
            {
                "right": "ุญุฑูุฉ ุงูุชูุธูู",
                "description": "ุญูู ูู ุงูุงูุถูุงู ููููุงุจุงุช ูุงูุฌูุนูุงุช ุงูููููุฉ ูุงููุดุงุฑูุฉ ุงูููุงุจูุฉ",
                "law": "ุงููุงุฏุฉ 107",
                "protection": "ุงูุญู ูู ุงูุชูุธูู ุงูููุงุจูุ ุงูููุงูุถุฉ ุงูุฌูุงุนูุฉุ ุงูุชูุซูู ุงูุนูุงูู",
                "examples": "ุงูุนุถููุฉ ุงูููุงุจูุฉุ ุงููุดุงุฑูุฉ ูู ุงูุงูุชุฎุงุจุงุช ุงูููุงุจูุฉุ ุงููุดุงุท ุงูููุงุจู"
            }
        ]

        for right in employment_rights:
            with st.expander(f"๐ผ {right['right']}", expanded=True):
                st.write(f"**ุงููุตู:** {right['description']}")
                st.write(f"**ุงูุญูุงูุฉ:** {right['protection']}")
                st.write(f"**ุฃูุซูุฉ:** {right['examples']}")
                st.write(f"**ุงููุงููู:** {right['law']}")

                # ุชูููู ุงูุชุทุจูู
                col1, col2 = st.columns(2)
                with col1:
                    application = st.selectbox(
                        f"ููู ูุชู ุชุทุจูู ูุฐุง ุงูุญูุ",
                        ["ุบูุฑ ูุทุจู", "ูุทุจู ุฌุฒุฆูุงู", "ูุทุจู ุจุดูู ุฌูุฏ", "ูุทุจู ุจุดูู ููุชุงุฒ"],
                        key=f"employment_{right['right']}"
                    )
                with col2:
                    if st.button("๐ ุงูุฅุจูุงุบ ุนู ูุดููุฉ", key=f"report_{right['right']}"):
                        st.warning("ุณูุชู ุชูุฌููู ููููุฐุฌ ุงูุฅุจูุงุบ ุนู ุงููุฎุงููุงุช")

# ==========================
# ๐ฐ ุงูุญููู ุงููุงููุฉ - ููุณุนุฉ
# ==========================
def show_financial_rights():
    st.markdown("#### ๐ฐ ุงูุญููู ุงููุงููุฉ ูุงููุณุชุญูุงุช")

    financial_tabs = st.tabs(["ุงูุฃุฌูุฑ ูุงูุฑูุงุชุจ", "ุงูููุงูุขุช ูุงูุญูุงูุฒ", "ุงูุจุฏูุงุช ูุงูุนูุงูุงุช", "ุงููุณุชุญูุงุช ุงููุชุฃุฎุฑุฉ", "ุงูุงุณุชูุทุงุนุงุช ุงููุณููุญุฉ"])

    with financial_tabs[0]:
        st.markdown("##### ๐ต ูุธุงู ุงูุฃุฌูุฑ ูุงูุฑูุงุชุจ")

        salary_rights = [
            {
                "right": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                "amount": "290 ุฏููุงุฑ",
                "description": "ูููุคูููู ุฌุงูุนูุงูุ 250 ุฏููุงุฑ ูุบูุฑ ุงููุคูููู - ูุญุฏุซ 2025",
                "law": "ุงููุงุฏุฉ 35",
                "update": "๐ 2025",
                "conditions": "ูุดูู ุงูุฑุงุชุจ ุงูุฃุณุงุณู ุจุฏูู ุงูุจุฏูุงุชุ ูููุคูููู ุฎุฑูุฌู ุงูุฌุงูุนุงุช",
                "exceptions": "ุงููุชุฏุฑุจููุ ุฐูู ุงูุฅุนุงูุฉุ ุงูุนูุงูุฉ ุงูููุณููุฉ ุจุดุฑูุท"
            },
            {
                "right": "ููุนุฏ ุตุฑู ุงูุฑุงุชุจ", 
                "amount": "ุฃูู 7 ุฃูุงู",
                "description": "ูุฌุจ ุตุฑู ุงูุฑุงุชุจ ุฎูุงู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑ ุจุดูู ููุชุธู",
                "law": "ุงููุงุฏุฉ 55",
                "update": "โ ุณุงุฑู",
                "conditions": "ูู ุงูููุงู ูุงูุฒูุงู ุงููุญุฏุฏููุ ุจุดูู ููุฏู ุฃู ุนุจุฑ ุงูุญุณุงุจ ุงูุจููู",
                "exceptions": "ูู ุงูุนุทูุงุช ุงูุฑุณููุฉ ูููู ุชุฃุฌูู ุงูุตุฑู ูููู ุงูุนูู ุงูุชุงูู"
            },
            {
                "right": "ุงูุงุณุชูุทุงุนุงุช ุงููุณููุญุฉ",
                "amount": "ุญุฏ ุฃูุตู 50%",
                "description": "ุดุฑูุทุฉ ุฃูุง ููู ุงูุตุงูู ุนู 50% ูู ุงูุฑุงุชุจ ุงูุฃุณุงุณู ุงูุดูุฑู",
                "law": "ุงููุงุฏุฉ 56", 
                "update": "โ ุณุงุฑู",
                "conditions": "ุงุณุชูุทุงุนุงุช ูุงููููุฉ ููุท (ุถูุงู ุงุฌุชูุงุนูุ ุถุฑุงุฆุจุ ุณูู ูุณุฏุฏุฉ)",
                "exceptions": "ูู ุญุงูุงุช ุงูุณูู ุงููุจูุฑุฉ ูููู ุงุณุชูุทุงุน ุฃูุซุฑ ุจููุงููุฉ ุงูุนุงูู"
            },
            {
                "right": "ุงูุฑูุงุชุจ ุงูุนุงููุฉ",
                "amount": "ูุงุฆุฏุฉ 8% ุณูููุงู",
                "description": "ูู ุญุงูุฉ ุชุฃุฎุฑ ุตุฑู ุงูุฑุงุชุจุ ุชุณุชุญู ูุงุฆุฏุฉ 8% ุณูููุงู ุนูู ุงููุจูุบ ุงููุชุฃุฎุฑ",
                "law": "ุงููุงุฏุฉ 56",
                "update": "โ ุณุงุฑู",
                "conditions": "ุชุญุณุจ ูู ุชุงุฑูุฎ ุงูุงุณุชุญูุงูุ ุชุชุฑุงูู ุดูุฑูุงู ุญุชู ุงูุณุฏุงุฏ",
                "exceptions": "ูู ุญุงูุงุช ุงูููุฉ ุงููุงูุฑุฉ ุงูุชู ุชููุน ุงูุตุฑู ุจุดูู ูุคูุช"
            },
            {
                "right": "ุฃุฌุฑ ุงูุฅุฌุงุฒุงุช",
                "amount": "ุงูุฑุงุชุจ ุงููุงูู",
                "description": "ุตุฑู ูุงูู ุงูุฑุงุชุจ ุฎูุงู ูุชุฑุงุช ุงูุฅุฌุงุฒุงุช ุงูุณูููุฉ ูุงููุฑุถูุฉ ูุงูุฃูููุฉ",
                "law": "ุงูููุงุฏ 52-69",
                "update": "โ ุณุงุฑู", 
                "conditions": "ูุดูู ุงูุฑุงุชุจ ุงูุฃุณุงุณู ูุงูุจุฏูุงุช ุงูุซุงุจุชุฉุ ูุฏูุน ููุฏูุงู ููุฅุฌุงุฒุงุช",
                "exceptions": "ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ ุจุนุฏ 14 ููู ุชุตุฑู ุจูุตู ุงูุฑุงุชุจ"
            }
        ]

        for right in salary_rights:
            with st.expander(f"๐ต {right['right']}", expanded=True):
                col1, col2 = st.columns([2, 1])
                with col1:
                    st.write(f"**ุงููุตู:** {right['description']}")
                    st.write(f"**ุงูุดุฑูุท:** {right['conditions']}")
                    if right['exceptions']:
                        st.write(f"**ุงูุงุณุชุซูุงุกุงุช:** {right['exceptions']}")
                with col2:
                    st.write(f"**ุงููุจูุบ/ุงููุฏุฉ:** {right['amount']}")
                    st.write(f"**ุงููุงููู:** {right['law']}")
                    st.write(f"**ุงูุญุงูุฉ:** {right['update']}")

                # ุญุงุณุจุฉ ุณุฑูุนุฉ
                if "ุฑุงุชุจ" in right['right']:
                    col1, col2 = st.columns(2)
                    with col1:
                        basic_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู", value=500, key=f"calc_{right['right']}")
                    with col2:
                        if st.button("ุงุญุณุจ ุงููุณุชุญู", key=f"btn_{right['right']}"):
                            if "ูุงุฆุฏุฉ" in right['right']:
                                st.info(f"ุงููุงุฆุฏุฉ ุงูุดูุฑูุฉ: {basic_salary * 0.08 / 12:.2f} ุฏููุงุฑ")

    with financial_tabs[1]:
        st.markdown("##### ๐ ูุธุงู ุงูููุงูุขุช ูุงูุญูุงูุฒ")

        bonus_systems = [
            {
                "type": "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
                "calculation": "ุญุณุจ ูุฏุฉ ุงูุฎุฏูุฉ ูุณุจุจ ุงูุฅููุงุก",
                "details": """
                - ุงูุงุณุชูุงูุฉ (1-5 ุณููุงุช): ุซูุซ ุงูุฑุงุชุจ ุนู ูู ุดูุฑ
                - ุงูุงุณุชูุงูุฉ (ุฃูุซุฑ ูู 5 ุณููุงุช): ุซูุซ ุงูุฑุงุชุจ ุนู ุฃูู 5 ุณููุงุช + ุซูุซู ุงูุฑุงุชุจ ุนู ุงูุจุงูู
                - ุงููุตู: ุฑุงุชุจ ูุงูู ุนู ูู ุดูุฑ ูู ูุฏุฉ ุงูุฎุฏูุฉ
                - ุงูููุงุฉ ุฃู ุงูุนุฌุฒ: ุฑุงุชุจ ูุงูู ุนู ูู ุดูุฑ
                """,
                "law": "ุงูููุงุฏ 74-77",
                "examples": "ุนุงูู ุจุฑุงุชุจ 500 ุฏููุงุฑ ุฎุฏู 3 ุณููุงุช ูุงุณุชูุงู: (500ร36)/24 = 750 ุฏููุงุฑ"
            },
            {
                "type": "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", 
                "calculation": "125% ููุณุงุนุงุช ุงูููุงุฑูุฉุ 150% ููุนุทูุงุช ูุงูููู",
                "details": """
                - ุงูููุงุฑู (8 ุต - 4 ู): 125% ูู ุฃุฌุฑ ุงูุณุงุนุฉ
                - ุงููููู (4 ู - 8 ุต): 150% ูู ุฃุฌุฑ ุงูุณุงุนุฉ  
                - ุงูุนุทูุงุช ุงูุฑุณููุฉ: 150% ูู ุฃุฌุฑ ุงูุณุงุนุฉ
                - ุงูุญุฏ ุงูุฃูุตู: ุณุงุนุชูู ููููุงู
                """,
                "law": "ุงููุงุฏุฉ 42",
                "examples": "ุณุงุนุฉ ุนูู ุฅุถุงูู ููุงุฑู ูููุธู ุจุฑุงุชุจ 500: (500/30/8)ร1.25 = 2.6 ุฏููุงุฑ"
            },
            {
                "type": "ุงูุนูุงูุงุช ุงูุฏูุฑูุฉ",
                "calculation": "ุญุณุจ ุณูุงุณุฉ ุงููุคุณุณุฉ ูุงูุฃุฏุงุก ูุงูููุงุกุฉ",
                "details": """
                - ุนูุงูุงุช ุณูููุฉ: ูุฑุชุจุทุฉ ุจุชูููู ุงูุฃุฏุงุก
                - ุนูุงูุงุช ุฏูุฑูุฉ: ูู 3-5 ุณููุงุช ุฎุฏูุฉ
                - ุนูุงูุงุช ุทุจูุนุฉ ุนูู: ููููู ุงูุฎุทุฑุฉ ุฃู ุงูุดุงูุฉ
                - ุนูุงูุงุช ูุคููุงุช: ููุดูุงุฏุงุช ูุงูููุงุฑุงุช ุงูุฅุถุงููุฉ
                """,
                "law": "ุงููุงุฏุฉ 37",
                "examples": "ุนูุงูุฉ 5% ุณูููุฉุ ุนูุงูุฉ 10% ููู 5 ุณููุงุช ุฎุฏูุฉ"
            },
            {
                "type": "ููุงูุฃุฉ ุงูุฅูุชุงุฌูุฉ",
                "calculation": "ุญุณุจ ุงูุฅูุฌุงุฒ ูุงูุฃุฏุงุก ูุงููุชุงุฆุฌ",
                "details": """
                - ููุงูุขุช ูุฑุฏูุฉ: based on ุฅูุฌุงุฒ ุงููุฑุฏ
                - ููุงูุขุช ุฌูุงุนูุฉ: based on ุฅูุฌุงุฒ ุงููุฑูู  
                - ููุงูุขุช ุชุญููู ุฃูุฏุงู: ุนูุฏ ุจููุบ ุฃูุฏุงู ูุญุฏุฏุฉ
                - ููุงูุขุช ุฃููุงุฑ ูุชุญุณููุงุช: ูููุจุงุฏุฑุงุช ูุงูุงุจุชูุงุฑุงุช
                """,
                "law": "ุงููุงุฏุฉ 38", 
                "examples": "ููุงูุฃุฉ 100 ุฏููุงุฑ ูุชุญููู ูุฏู ูุจูุนุงุชุ 50 ุฏููุงุฑ ูููุฑุฉ ุชุญุณูู"
            }
        ]

        for system in bonus_systems:
            with st.expander(f"๐ {system['type']}", expanded=True):
                st.write(f"**ุทุฑููุฉ ุงูุญุณุงุจ:** {system['calculation']}")
                st.write(f"**ุงูุชูุงุตูู:** {system['details']}")
                st.write(f"**ุฃูุซูุฉ:** {system['examples']}")
                st.write(f"**ุงููุงููู:** {system['law']}")

                # ุญุงุณุจุฉ ุชูุงุนููุฉ
                if st.button(f"๐งฎ ูุชุญ ุญุงุณุจุฉ {system['type']}", key=f"calc_{system['type']}"):
                    st.session_state.active_calculator = system['type']

# ==========================
# โฐ ููุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช - ููุณุนุฉ
# ==========================
def show_work_time_vacations():
    st.markdown("#### โฐ ูุธุงู ููุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช")

    time_tabs = st.tabs(["ุณุงุนุงุช ุงูุนูู", "ุงูุฅุฌุงุฒุงุช ุงูุณูููุฉ", "ุงูุฅุฌุงุฒุงุช ุงูุฎุงุตุฉ", "ูุชุฑุงุช ุงูุฑุงุญุฉ", "ุงูุนูู ุงูุฅุถุงูู"])

    with time_tabs[0]:
        st.markdown("##### ๐ ูุธุงู ุณุงุนุงุช ุงูุนูู")

        work_hours_system = [
            {
                "period": "ุงููููู ุงููุธุงูู",
                "hours": "8 ุณุงุนุงุช",
                "details": "ูุญุฏ ุฃูุตูุ ูููู ุชูุฒูุนูุง ุจุดูู ูุฑู ุจูู 6 ุตุจุงุญุงู ู10 ูุณุงุกู",
                "law": "ุงููุงุฏุฉ 46",
                "breaks": "ุณุงุนุฉ ุฑุงุญุฉ ุจุนุฏ 5 ุณุงุนุงุช ุนูู ูุชูุงุตูุฉ ุนูู ุงูุฃูู",
                "flexibility": "ูููู ุชูุฒูุน ุงูุณุงุนุงุช ุนูู 5-6 ุฃูุงู ุฃุณุจูุนูุงู"
            },
            {
                "period": "ุงูุฃุณุจูุนู ุงูุฅุฌูุงูู", 
                "hours": "48 ุณุงุนุฉ", 
                "details": "ูุญุฏ ุฃูุตูุ ุจูุง ูู ุฐูู ุงูุนูู ุงูุฅุถุงูู ุงููุณููุญ ุจู",
                "law": "ุงููุงุฏุฉ 46",
                "breaks": "ููู ุฑุงุญุฉ ุฃุณุจูุนู ูุฏููุน ุงูุฃุฌุฑ ุนูู ุงูุฃูู",
                "flexibility": "ูููู ุฒูุงุฏุฉ ุงูุณุงุนุงุช ูู ุฃุณุงุจูุน ูุชูููููุง ูู ุฃุฎุฑู"
            },
            {
                "period": "ุดูุฑ ุฑูุถุงู",
                "hours": "6 ุณุงุนุงุช",
                "details": "ุชูููู ุณุงุนุงุช ุงูุนูู ูู ุดูุฑ ุฑูุถุงู ูุน ุญูุธ ุงูุญููู ูุงููุฉ",
                "law": "ุงููุงุฏุฉ 46",
                "breaks": "ุชูุฒูุน ููุงุณุจ ูุฑุถู ุงุญุชูุงุฌุงุช ุงูุตูุงู",
                "flexibility": "ูููู ุงูุงุชูุงู ุนูู ุนูู ุณุงุนุงุช ุฅุถุงููุฉ ุจููุณ ุงูุดุฑูุท"
            },
            {
                "period": "ุงูุนูู ุงููููู",
                "hours": "7 ุณุงุนุงุช",
                "details": "ููุนูู ุจูู ุงูุณุงุนุฉ 8 ูุณุงุกู ู6 ุตุจุงุญุงูุ ูุน ุจุฏูุงุช ุฎุงุตุฉ",
                "law": "ุงููุงุฏุฉ 44",
                "breaks": "ูุชุฑุงุช ุฑุงุญุฉ ุฅุถุงููุฉุ ุธุฑูู ุนูู ููุงุณุจุฉ",
                "flexibility": "ุชูุงูุจ ุงูููุงูุจุงุชุ ูุชุฑุงุช ุฑุงุญุฉ ูุงููุฉ ุจูู ุงูููุงูุจุงุช"
            }
        ]

        for period in work_hours_system:
            with st.expander(f"๐ {period['period']}", expanded=True):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูุณุงุนุงุช:** {period['hours']}")
                    st.write(f"**ุงูุชูุงุตูู:** {period['details']}")
                    st.write(f"**ูุชุฑุงุช ุงูุฑุงุญุฉ:** {period['breaks']}")
                with col2:
                    st.write(f"**ุงููุฑููุฉ:** {period['flexibility']}")
                    st.write(f"**ุงููุงููู:** {period['law']}")

                # ุชุณุฌูู ุณุงุนุงุช ุงูุนูู
                if st.button(f"๐ ุชุณุฌูู ุณุงุนุงุช {period['period']}", key=f"log_{period['period']}"):
                    with st.form(f"hours_form_{period['period']}"):
                        date = st.date_input("ุงูุชุงุฑูุฎ")
                        start_time = st.time_input("ููุช ุงูุจุฏุก")
                        end_time = st.time_input("ููุช ุงูุงูุชูุงุก")
                        if st.form_submit_button("ุญูุธ"):
                            st.success("ุชู ุญูุธ ุณุงุนุงุช ุงูุนูู")

    with time_tabs[1]:
        st.markdown("##### ๐ด ูุธุงู ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ")

        vacation_system = [
            {
                "service": "ุฃูู ูู 5 ุณููุงุช ุฎุฏูุฉ",
                "days": "14 ููู ุนูู",
                "details": "ุฅุฌุงุฒุฉ ุณูููุฉ ูุฏููุนุฉ ุงูุฃุฌุฑ ุจุงููุงููุ ูุงุจูุฉ ููุชุฌุฒุฆุฉ",
                "law": "ุงููุงุฏุฉ 52",
                "accrual": "1.17 ููู ููู ุดูุฑ ุฎุฏูุฉ",
                "carryover": "ูููู ุชุฑุญูู 7 ุฃูุงู ูุญุฏ ุฃูุตู ูุณูุฉ ูุงุญุฏุฉ"
            },
            {
                "service": "5-10 ุณููุงุช ุฎุฏูุฉ", 
                "days": "21 ููู ุนูู",
                "details": "ุฒูุงุฏุฉ 7 ุฃูุงู ุจุนุฏ ุฅููุงู 5 ุณููุงุช ุฎุฏูุฉ ูุชูุงุตูุฉ",
                "law": "ุงููุงุฏุฉ 52",
                "accrual": "1.75 ููู ููู ุดูุฑ ุฎุฏูุฉ",
                "carryover": "ูููู ุชุฑุญูู 10 ุฃูุงู ูุญุฏ ุฃูุตู ูุณูุฉ ูุงุญุฏุฉ"
            },
            {
                "service": "ุฃูุซุฑ ูู 10 ุณููุงุช ุฎุฏูุฉ",
                "days": "28 ููู ุนูู", 
                "details": "ุฒูุงุฏุฉ 14 ููู ุจุนุฏ ุฅููุงู 10 ุณููุงุช ุฎุฏูุฉ ูุชูุงุตูุฉ",
                "law": "ุงููุงุฏุฉ 52",
                "accrual": "2.33 ููู ููู ุดูุฑ ุฎุฏูุฉ", 
                "carryover": "ูููู ุชุฑุญูู 14 ููู ูุญุฏ ุฃูุตู ูุณูุฉ ูุงุญุฏุฉ"
            },
            {
                "service": "ุงูุฃุฌูุฑ ุฎูุงู ุงูุฅุฌุงุฒุฉ",
                "days": "ุงูุฑุงุชุจ ุงููุงูู",
                "details": "ุตุฑู ูุงูู ุงูุฑุงุชุจ ุงูุฃุณุงุณู ูุงูุจุฏูุงุช ุงูุซุงุจุชุฉ ุฎูุงู ุงูุฅุฌุงุฒุฉ",
                "law": "ุงููุงุฏุฉ 54",
                "accrual": "ูุชู ุงูุตุฑู ููุฏูุงู ูุจู ุจุฏุก ุงูุฅุฌุงุฒุฉ",
                "carryover": "ูู ุญุงูุฉ ุฅููุงุก ุงูุฎุฏูุฉุ ุชุตุฑู ูุณุชุญูุงุช ุงูุฅุฌุงุฒุฉ ูุงููุฉ"
            }
        ]

        for vacation in vacation_system:
            with st.expander(f"๐ด {vacation['service']}", expanded=True):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุนุฏุฏ ุงูุฃูุงู:** {vacation['days']}")
                    st.write(f"**ุงูุชูุงุตูู:** {vacation['details']}")
                    st.write(f"**ุงูุงุณุชุญูุงู:** {vacation['accrual']}")
                with col2:
                    st.write(f"**ุงูุชุฑุญูู:** {vacation['carryover']}")
                    st.write(f"**ุงููุงููู:** {vacation['law']}")

                # ุญุงุณุจุฉ ุงูุฅุฌุงุฒุฉ
                if st.button(f"๐งฎ ุญุณุงุจ ุฅุฌุงุฒุฉ {vacation['service']}", key=f"vac_calc_{vacation['service']}"):
                    months = st.number_input("ุนุฏุฏ ุฃุดูุฑ ุงูุฎุฏูุฉ", min_value=1, max_value=120, value=12)
                    if months > 0:
                        if "ุฃูู ูู 5" in vacation['service']:
                            days = months * 1.17
                        elif "5-10" in vacation['service']:
                            days = months * 1.75
                        else:
                            days = months * 2.33
                        st.info(f"ุงูุฅุฌุงุฒุฉ ุงููุณุชุญูุฉ: {days:.1f} ููู")

# ==========================
# ๐งฎ ุญุงุณุจุงุช ุงููุณุชุญูุงุช - ููุณุนุฉ
# ==========================
def show_workers_calculators():
    st.markdown("#### ๐งฎ ุงูุญุงุณุจุงุช ุงูุชูุงุนููุฉ ูููุณุชุญูุงุช")

    calc_tabs = st.tabs(["ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช", "ุงูุชุนููุถุงุช", "ุงูุญุงุณุจุฉ ุงูุดุงููุฉ"])

    with calc_tabs[0]:
        st.markdown("##### ๐ฐ ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ")

        col1, col2 = st.columns(2)

        with col1:
            st.subheader("ุงููุฏุฎูุงุช")
            last_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุฎูุฑ (ุฏููุงุฑ)", min_value=290, value=500, step=10)
            years = st.number_input("ุนุฏุฏ ุงูุณููุงุช", min_value=0, max_value=40, value=5)
            months = st.number_input("ุนุฏุฏ ุงูุฃุดูุฑ", min_value=0, max_value=11, value=0)
            termination_type = st.selectbox("ุณุจุจ ุฅููุงุก ุงูุฎุฏูุฉ", [
                "ุงุณุชูุงูุฉ", "ุฅููุงุก ูู ุตุงุญุจ ุงูุนูู", "ุงูุชูุงุก ุนูุฏ", "ููุงุฉ ุฃู ุนุฌุฒ"
            ])

        with col2:
            st.subheader("ุงููุชุงุฆุฌ")

            if st.button("๐งฎ ุงุญุณุจ ุงูููุงูุฃุฉ", type="primary"):
                total_months = years * 12 + months

                if termination_type == "ุงุณุชูุงูุฉ":
                    if total_months < 12:
                        amount = 0
                        explanation = "ูุง ุชุณุชุญู ุงูููุงูุฃุฉ ูุฃูู ูู ุณูุฉ ุฎุฏูุฉ"
                    elif total_months <= 60:
                        amount = (last_salary * total_months) / 24
                        explanation = "ุซูุซ ุงูุฑุงุชุจ ุนู ูู ุดูุฑ ููุฃุนูุงู 1-5"
                    else:
                        first_5 = (last_salary * 60) / 24
                        remaining = (last_salary * (total_months - 60)) / 12
                        amount = first_5 + remaining
                        # ุชุงุจุน ูุณู ุญุงุณุจุงุช ุงููุณุชุญูุงุช
                        explanation = "ุซูุซ ุงูุฑุงุชุจ ุนู ุฃูู 5 ุณููุงุช + ุซูุซู ุงูุฑุงุชุจ ุนู ุงูุณููุงุช ุงูุชุงููุฉ"
                else:  # ุฅููุงุก ุฎุฏูุฉ
                    if total_months <= 60:
                        amount = (last_salary * total_months) / 12
                        explanation = "ุงูุฑุงุชุจ ุงููุงูู ุนู ูู ุดูุฑ ููุฃุนูุงู 1-5"
                    else:
                        first_5 = (last_salary * 60) / 12
                        remaining = (last_salary * (total_months - 60)) / 8
                        amount = first_5 + remaining
                        explanation = "ุงูุฑุงุชุจ ุงููุงูู ุนู ุฃูู 5 ุณููุงุช + ูุฑุชุจุงู ุนู ูู ุณูุฉ ุจุนุฏูุง"

                st.success(f"""
                ## ๐ ูุชุงุฆุฌ ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
                
                **ุงูุชูุงุตูู:**
                - ๐ผ ุงูุฑุงุชุจ ุงูุฃุณุงุณู: **{last_salary:,.0f}** ุฏููุงุฑ
                - ๐ ูุฏุฉ ุงูุฎุฏูุฉ: **{years}** ุณูุฉ ู **{months}** ุดูุฑ
                - ๐ฏ ุณุจุจ ุงูุฅููุงุก: **{termination_type}**
                - ๐ ุงูุฃุณุงุณ ุงููุงูููู: **{explanation}**
                
                **ุงููุชูุฌุฉ:**
                - ๐ฐ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ: **{amount:,.0f}** ุฏููุงุฑ
                
                **ุงููุฑุงุฌุน ุงููุงููููุฉ:**
                - ุงูููุงุฏ 74-77 ูู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู
                - ูุฑุงุฑุงุช ูุญููุฉ ุงูุชูููุฒ ูู ูุถุงูุง ููุงูุฉ ุงูุฎุฏูุฉ
                """)

    with calc_tabs[1]:
        st.markdown("##### โฐ ุญุงุณุจุฉ ุจุฏู ุงูุนูู ุงูุฅุถุงูู")

        col1, col2 = st.columns(2)

        with col1:
            st.subheader("ุงููุฏุฎูุงุช")
            basic_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", value=500, key="overtime_salary")
            regular_hours = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฃุณุจูุนูุฉ ุงูุนุงุฏูุฉ", value=48, key="regular_hours")
            overtime_hours = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู", value=10, key="overtime_hours")
            overtime_type = st.selectbox("ููุน ุงูุนูู ุงูุฅุถุงูู", [
                "ููุงุฑู (8 ุต - 4 ู)", "ูููู (4 ู - 8 ุต)", "ุนุทูุฉ ุฑุณููุฉ", "ุฌูุนุฉ ูุนุทู ุฏูููุฉ"
            ])

        with col2:
            st.subheader("ุงููุชุงุฆุฌ")

            if st.button("๐งฎ ุงุญุณุจ ุจุฏู ุงูุนูู ุงูุฅุถุงูู", key="calc_overtime"):
                hourly_rate = basic_salary / (30 * 8)  # 8 ุณุงุนุงุช ููููุงู

                rates = {
                    "ููุงุฑู (8 ุต - 4 ู)": 1.25,
                    "ูููู (4 ู - 8 ุต)": 1.5,
                    "ุนุทูุฉ ุฑุณููุฉ": 1.5,
                    "ุฌูุนุฉ ูุนุทู ุฏูููุฉ": 1.5
                }

                rate = rates[overtime_type]
                overtime_pay = overtime_hours * hourly_rate * rate

                st.success(f"""
                ## โฐ ูุชุงุฆุฌ ุญุณุงุจ ุจุฏู ุงูุนูู ุงูุฅุถุงูู
                
                **ุงูุชูุงุตูู:**
                - ๐ผ ุงูุฑุงุชุจ ุงูุฃุณุงุณู: **{basic_salary:,.0f}** ุฏููุงุฑ
                - โฑ๏ธ ุณุงุนุงุช ุงูุนูู ุงูุนุงุฏูุฉ: **{regular_hours}** ุณุงุนุฉ ุฃุณุจูุนูุงู
                - ๐ผ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู: **{overtime_hours}** ุณุงุนุฉ
                - ๐ ููุน ุงูุนูู ุงูุฅุถุงูู: **{overtime_type}**
                - ๐ธ ุงูุณุงุนุฉ ุงูุฃุณุงุณูุฉ: **{hourly_rate:,.2f}** ุฏููุงุฑ
                - ๐ ูุนุฏู ุงูุฒูุงุฏุฉ: **{int((rate-1)*100)}%**
                
                **ุงููุชูุฌุฉ:**
                - ๐ฐ ุจุฏู ุงูุนูู ุงูุฅุถุงูู: **{overtime_pay:,.0f}** ุฏููุงุฑ
                
                **ุงูุฃุณุงุณ ุงููุงูููู:**
                - ุงููุงุฏุฉ 42 ูู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู
                - ูุฌุจ ุฃู ูุง ุชุฒูุฏ ุณุงุนุงุช ุงูุนูู ุงููุนููุฉ ุนู 8 ุณุงุนุงุช ููููุงู
                - ุงูุญุฏ ุงูุฃูุตู ููุนูู ุงูุฅุถุงูู: ุณุงุนุชูู ููููุงู
                """)

# ==========================
# ๐ ุงูููุชุจุฉ ุงููุงููููุฉ - ููุณุนุฉ
# ==========================
def show_workers_library():
    st.markdown("#### ๐ ุงูููุชุจุฉ ุงููุงููููุฉ ุงูุดุงููุฉ ููุนุงูููู")

    library_tabs = st.tabs(["ุงููุตูุต ุงููุงููููุฉ", "ุงูููุงุฆุญ ุงูุชูููุฐูุฉ", "ุงูุณูุงุจู ุงููุถุงุฆูุฉ", "ุงููุชุงูู ูุงูุชูุณูุฑุงุช", "ุงูุฃุฏูุฉ ุงูุฅุฑุดุงุฏูุฉ"])

    with library_tabs[0]:
        st.markdown("##### โ๏ธ ูุตูุต ูุงููู ุงูุนูู ุงูุฃุฑุฏูู")

        law_chapters = {
            "ุงูุจุงุจ ุงูุฃูู: ุงูุฃุญูุงู ุงูุนุงูุฉ": {
                "ุงููุงุฏุฉ 1": "ุชุนุฑููุงุช - ุงูุนุงููุ ุตุงุญุจ ุงูุนููุ ุงูุฃุฌุฑุ ุนูุฏ ุงูุนูู",
                "ุงููุงุฏุฉ 2": "ูุฌุงู ุงูุชุทุจูู - ูุดูู ุฌููุน ุงูุนุงูููู ูู ุงููุทุงุน ุงูุฎุงุต",
                "ุงููุงุฏุฉ 3": "ูุจุฏุฃ ุนุฏู ุฌูุงุฒ ุงูุชูุงุฒู ุนู ุงูุญููู - ุงูุญููู ุบูุฑ ูุงุจูุฉ ููุชูููุช",
                "ุงููุงุฏุฉ 4": "ูุจุฏุฃ ุงููุนุงููุฉ ุงูุฃูุถู - ุชุทุจูู ุงูุฃูุธูุฉ ุงูุฃูุซุฑ ูุงุฆุฏุฉ ููุนุงูู",
                "ุงููุงุฏุฉ 5": "ุชุณููุฉ ุงูููุงุฒุนุงุช - ูุฌูุจ ุงููุฌูุก ููุทุฑู ุงูุณูููุฉ",
                "ุงููุงุฏุฉ 6": "ูุจุฏุฃ ุงููุณุงูุงุฉ - ุญุธุฑ ุงูุชูููุฒ based on ุงูุฌูุณ ุฃู ุงูุฃุตู"
            },
            "ุงูุจุงุจ ุงูุซุงูู: ุนูุฏ ุงูุนูู": {
                "ุงููุงุฏุฉ 13": "ูุฌูุจ ูุชุงุจุฉ ุนูุฏ ุงูุนูู - ูููุฐุฌ ููุญุฏ",
                "ุงููุงุฏุฉ 14": "ููููุงุช ุงูุนูุฏ ุงูุฃุณุงุณูุฉ - ูุฌุจ ุฃู ูุดูู ุฌููุน ุงูุจููุฏ",
                "ุงููุงุฏุฉ 15": "ุชุณููู ูุณุฎุฉ ููุนุงูู - ุญู ุงูุนุงูู ูู ุงูุญุตูู ุนูู ูุณุฎุฉ",
                "ุงููุงุฏุฉ 16": "ุงูุชุฃูุฏ ูู ุฃูููุฉ ุงูุนุงูู - ุงูุชุญูู ูู ุงููุคููุงุช",
                "ุงููุงุฏุฉ 17": "ุชุนุฏูู ุงูุนูุฏ - ูุฌุจ ุฃู ูููู ูุชุงุจูุงู ูุจููุงููุฉ ุงูุทุฑููู",
                "ุงููุงุฏุฉ 18": "ุนููุฏ ุงูุนูู ุงูุฎุงุตุฉ - ููุนูุงูุฉ ุงูููุณููุฉ ูุงููุคูุชุฉ"
            },
            "ุงูุจุงุจ ุงูุซุงูุซ: ุงูุฃุฌูุฑ": {
                "ุงููุงุฏุฉ 35": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ - 290 ุฏููุงุฑ ูููุคูููู",
                "ุงููุงุฏุฉ 36": "ููููุงุช ุงูุฃุฌุฑ - ุงูุฃุณุงุณูุ ุงูุจุฏูุงุชุ ุงูุญูุงูุฒ",
                "ุงููุงุฏุฉ 37": "ุงูุนูุงูุงุช - ูุธุงู ุงูุนูุงูุงุช ุงูุฏูุฑูุฉ",
                "ุงููุงุฏุฉ 38": "ุงูููุงูุขุช - ููุงูุขุช ุงูุฅูุชุงุฌูุฉ ูุงูุฃุฏุงุก",
                "ุงููุงุฏุฉ 39": "ุงูุฃุฌุฑ ุนู ุงูุนูู ุงููุชุณุงูู - ูุณุงูุงุฉ ูู ุงูุฃุฌูุฑ",
                "ุงููุงุฏุฉ 40": "ุญูุงูุฉ ุงูุฃุฌุฑ - ุนุฏู ุฌูุงุฒ ุงูุญุฌุฒ ุฅูุง within ุงูุญุฏูุฏ"
            }
        }

        for chapter, articles in law_chapters.items():
            with st.expander(f"๐ {chapter}", expanded=True):
                for article, content in articles.items():
                    col1, col2 = st.columns([1, 4])
                    with col1:
                        st.write(f"**{article}**")
                    with col2:
                        st.write(content)

                    if st.button(f"๐ ุนุฑุถ ุงููุต ุงููุงูู", key=f"full_{article}"):
                        st.info(f"ุงููุต ุงููุงูู ูููุงุฏุฉ {article}: {content}")

    with library_tabs[2]:
        st.markdown("##### โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ ุงููุงูุฉ")

        legal_precedents = [
            {
                "case": "ูุถูุฉ ุงููุตู ุงูุชุนุณูู - ูุญููุฉ ุงูุชูููุฒ 2024",
                "issue": "ูุตู ุนุงูู ุจุฏูู ูุจุฑุฑ ูุดุฑูุน ุจุนุฏ 8 ุณููุงุช ุฎุฏูุฉ",
                "ruling": "ุงูุญูู ููุนุงูู ุจุชุนููุถ ูุฏุฑู 12 ุฑุงุชุจุงู ุจุงูุฅุถุงูุฉ ููุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ",
                "principle": "ุงููุตู ุจุฏูู ุณุจุจ ูุดุฑูุน ูุนุชุจุฑ ุชุนุณููุงู ููุณุชุญู ุงูุชุนููุถ",
                "reference": "ูุฑุงุฑ ูุญููุฉ ุงูุชูููุฒ ุฑูู 2024/1256"
            },
            {
                "case": "ูุถูุฉ ุงูุชูููุฒ ูู ุงูุฃุฌูุฑ - ูุญููุฉ ุงูุนูู 2023",
                "issue": "ุชูุงูุช ูู ุงูุฃุฌูุฑ ุจูู ุนุงูููู ุจููุณ ุงููุคูู ูุงูููุงู",
                "ruling": "ุฅูุฒุงู ุตุงุญุจ ุงูุนูู ุจุชุณููุฉ ุงูุฃุฌูุฑ ูุฏูุน ูุฑููุงุช 3 ุณููุงุช",
                "principle": "ุงููุณุงูุงุฉ ูู ุงูุฃุฌุฑ ุนู ุงูุนูู ุงููุชุณุงูู ุญู ุฃุณุงุณู",
                "reference": "ูุฑุงุฑ ูุญููุฉ ุงูุนูู ุฑูู 2023/894"
            },
            {
                "case": "ูุถูุฉ ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ - ูุญููุฉ ุงูุงุณุชุฆูุงู 2024",
                "issue": "ุชุฃุฎุฑ ูุชูุฑุฑ ูู ุตุฑู ุงูุฑูุงุชุจ ููุฏุฉ 4 ุฃุดูุฑ",
                "ruling": "ุงูุญูู ุจุฏูุน ูุงูู ุงููุชุฃุฎุฑุงุช ูุน ูุงุฆุฏุฉ 8% ูุชุนููุถ ูุนููู",
                "principle": "ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ ููุฌุจ ุงูุชุนููุถ ูุงููุงุฆุฏุฉ",
                "reference": "ูุฑุงุฑ ูุญููุฉ ุงูุงุณุชุฆูุงู ุฑูู 2024/567"
            }
        ]

        for precedent in legal_precedents:
            with st.expander(f"โ๏ธ {precedent['case']}", expanded=True):
                st.write(f"**ุงููุถูุฉ:** {precedent['issue']}")
                st.write(f"**ุงูุญูู:** {precedent['ruling']}")
                st.write(f"**ุงููุจุฏุฃ ุงููุงูููู:** {precedent['principle']}")
                st.write(f"**ุงููุฑุฌุน:** {precedent['reference']}")

                if st.button("๐ฅ ุชุญููู ุงูุญูู ุงููุงูู", key=f"download_{precedent['case']}"):
                    st.success("ุฌุงุฑู ุชุญููู ูุณุฎุฉ ูู ุงูุญูู...")

# ==========================
# ๐ ูุฏูู ุงูุญููู - ููุณุน
# ==========================
def show_rights_checker():
    st.markdown("#### ๐ ูุฏูู ุงูุญููู ุงูุชูุงุนูู")

    checker_tabs = st.tabs(["ูุญุต ุณุฑูุน", "ุชุญููู ููุตู", "ุชูุฑูุฑ ุงูุญููู", "ุฎุทุฉ ุงููุทุงูุจุฉ"])

    with checker_tabs[0]:
        st.markdown("##### โก ุงููุญุต ุงูุณุฑูุน ููุญููู")

        st.info("""
        **๐ฏ ุงููุฏู:** ูุณุงุนุฏุชู ูู ุงูุชุดุงู ุฃู ุงูุชูุงูุงุช ูุญูููู ุงููุงููููุฉ ุจุณุฑุนุฉ
        """)

        quick_checks = [
            {
                "question": "ูู ูุฏูู ุนูุฏ ุนูู ููุชูุจ ููููุนุ",
                "right": "ุงูุนูุฏ ุงูููุชูุจ - ุงููุงุฏุฉ 13",
                "risk": "ุนุงููุฉ",
                "action": "ุงููุทุงูุจุฉ ุจุชูููุน ุนูุฏ ููุฑุงู"
            },
            {
                "question": "ูู ูุตุฑู ุฑุงุชุจู ุฎูุงู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑุ",
                "right": "ููุนุฏ ุตุฑู ุงูุฑุงุชุจ - ุงููุงุฏุฉ 55", 
                "risk": "ุนุงููุฉ",
                "action": "ุงููุทุงูุจุฉ ุจุงูุฑูุงุชุจ ุงููุชุฃุฎุฑุฉ ูุน ุงููุงุฆุฏุฉ"
            },
            {
                "question": "ูู ุชุญุตู ุนูู ุจุฏู ุงูุนูู ุงูุฅุถุงููุ",
                "right": "ุจุฏู ุงูุนูู ุงูุฅุถุงูู - ุงููุงุฏุฉ 42",
                "risk": "ูุชูุณุทุฉ",
                "action": "ุชูุซูู ุงูุณุงุนุงุช ูุงููุทุงูุจุฉ ุจุงูุจุฏู"
            },
            {
                "question": "ูู ุชุญุตู ุนูู ุฅุฌุงุฒุชู ุงูุณูููุฉ ูุงููุฉุ",
                "right": "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ - ุงููุงุฏุฉ 52",
                "risk": "ูุชูุณุทุฉ", 
                "action": "ุงููุทุงูุจุฉ ุจุงูุฅุฌุงุฒุฉ ุฃู ูุณุชุญูุงุชูุง"
            },
            {
                "question": "ูู ุชูุฌุฏ ุจูุฆุฉ ุนูู ุขููุฉุ",
                "right": "ุงูุณูุงูุฉ ุงูููููุฉ - ุงููุงุฏุฉ 79",
                "risk": "ุนุงููุฉ ุฌุฏุงู",
                "action": "ุงููุทุงูุจุฉ ุจุชูููุฑ ูุนุฏุงุช ุงูุณูุงูุฉ"
            }
        ]

        violations_count = 0
        for check in quick_checks:
            col1, col2, col3 = st.columns([3, 1, 1])
            with col1:
                st.write(f"**{check['question']}**")
            with col2:
                answer = st.radio("", ["ูุนู", "ูุง"], key=f"check_{check['question']}", horizontal=True)
            with col3:
                if answer == "ูุง":
                    violations_count += 1
                    st.error(f"๐จ {check['risk']}")

        st.markdown(f"### ๐ ูุชูุฌุฉ ุงููุญุต ุงูุณุฑูุน")
        if violations_count == 0:
            st.success("๐ ููุชุงุฒ! ูุง ุชูุฌุฏ ุงูุชูุงูุงุช ูุงุถุญุฉ ูุญูููู")
        elif violations_count <= 2:
            st.warning(f"โ๏ธ ุงูุชุจู! ููุงู {violations_count} ุงูุชูุงูุงุช ูุญุชููุฉ ุชุญุชุงุฌ ูุชุงุจุนุฉ")
        else:
            st.error(f"๐จ ุฎุทุฑ! ููุงู {violations_count} ุงูุชูุงูุงุช ุฎุทูุฑุฉ ุชุญุชุงุฌ ุชุฏุฎู ุนุงุฌู")

    with checker_tabs[1]:
        st.markdown("##### ๐ ุงูุชุญููู ุงูููุตู ููุญููู")

        detailed_analysis = {
            "ุงูุญููู ุงููุงููุฉ": [
                "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ 290 ุฏููุงุฑ",
                "ุตุฑู ุงูุฑุงุชุจ ูู ุฃูู 7 ุฃูุงู",
                "ุจุฏู ุงูุนูู ุงูุฅุถุงูู 125%-150%", 
                "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
                "ุงูุนูุงูุงุช ุงูุฏูุฑูุฉ"
            ],
            "ุงูุญููู ุงูุชุนุงูุฏูุฉ": [
                "ุนูุฏ ุนูู ููุชูุจ",
                "ุชุณููู ูุณุฎุฉ ูู ุงูุนูุฏ",
                "ุชุญุฏูุซ ุงูุนูุฏ ูุชุงุจูุงู",
                "ูุชุฑุฉ ุงูุชุฌุฑุจุฉ 6 ุฃุดูุฑ ูุญุฏ ุฃูุตู",
                "ุดุฑูุท ูุงุถุญุฉ ูุบูุฑ ูุฌุญูุฉ"
            ],
            "ุญููู ุงูุณูุงูุฉ": [
                "ุจูุฆุฉ ุนูู ุขููุฉ",
                "ูุนุฏุงุช ููุงูุฉ ุดุฎุตูุฉ",
                "ุชุฏุฑูุจ ุนูู ุงูุณูุงูุฉ",
                "ุฅุจูุงุบ ุนู ุงูุญูุงุฏุซ",
                "ุฑุนุงูุฉ ุทุจูุฉ ููุฅุตุงุจุงุช"
            ],
            "ุงูุฅุฌุงุฒุงุช ูุงูุฑุงุญุฉ": [
                "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ 14-28 ููู",
                "ุฅุฌุงุฒุฉ ุฃูููุฉ 10 ุฃุณุงุจูุน",
                "ุฅุฌุงุฒุฉ ูุฑุถูุฉ ูุฏููุนุฉ",
                "ูุชุฑุงุช ุฑุงุญุฉ ุฎูุงู ุงูุนูู",
                "ููู ุฑุงุญุฉ ุฃุณุจูุนู"
            ]
        }

        total_score = 0
        max_score = 0

        for category, rights in detailed_analysis.items():
            with st.expander(f"๐ {category}", expanded=True):
                category_score = 0
                for right in rights:
                    compliance = st.slider(
                        f"ูุณุชูู ุชุทุจูู: {right}",
                        0, 100, 50,
                        key=f"detail_{category}_{right}"
                    )
                    category_score += compliance
                    max_score += 100

                total_score += category_score
                category_percentage = (category_score / (len(rights) * 100)) * 100
                st.progress(category_percentage / 100)
                st.write(f"**ูุชูุฌุฉ {category}: {category_percentage:.1f}%**")

        if max_score > 0:
            overall_percentage = (total_score / max_score) * 100
            st.markdown(f"### ๐ฏ ุงููุชูุฌุฉ ุงูุฅุฌูุงููุฉ: {overall_percentage:.1f}%")

            if overall_percentage >= 80:
                st.success("ูุณุชูู ุฌูุฏ ุฌุฏุงู - ูุนุธู ุญูููู ูุญุชุฑูุฉ")
            elif overall_percentage >= 60:
                st.warning("ูุณุชูู ูุชูุณุท - ููุงู ุจุนุถ ุงููุฌุงูุงุช ุชุญุชุงุฌ ุชุญุณูู")
            else:
                st.error("ูุณุชูู ููุฎูุถ - ููุงู ุงูุชูุงูุงุช ุฎุทูุฑุฉ ุชุญุชุงุฌ ูุชุงุจุนุฉ ุนุงุฌูุฉ")

# ==========================
# ๐ ุชูููู ุงููุถุน - ููุณุน
# ==========================
def show_situation_assessment():
    st.markdown("#### ๐ ุชูููู ุงููุถุน ุงููุธููู ุงูุดุงูู")

    assessment_tabs = st.tabs["ุชูููู ุนุงู", "ุชุญููู ุงููุฎุงุทุฑ", "ุงูุชูุตูุงุช", "ุฎุทุฉ ุงูุนูู"]

    with assessment_tabs[0]:
        st.markdown("##### ๐ ุงูุชูููู ุงูุดุงูู ูููุถุน ุงููุธููู")

        # ูุนูููุงุช ุฃุณุงุณูุฉ
        st.markdown("###### ๐ข ูุนูููุงุช ุฃุณุงุณูุฉ")
        col1, col2, col3 = st.columns(3)

        with col1:
            employment_type = st.selectbox("ููุน ุงูุนูู", [
                "ุฏุงุฆู", "ูุคูุช", "ุฌุฒุฆู", "ุนูู ุนู ุจูุนุฏ", "ููุณูู"
            ])
            industry = st.selectbox("ูุทุงุน ุงูุนูู", [
                "ุฎุฏูุงุช", "ุชุตููุน", "ุชุฌุงุฑุฉ", "ุชูููุฉ", "ุฑุนุงูุฉ ุตุญูุฉ", "ุชุนููู", "ุจูุงุก", "ุณูุงุญุฉ", "ุฃุฎุฑู"
            ])

        with col2:
            experience_years = st.number_input("ุณููุงุช ุงูุฎุจุฑุฉ", min_value=0, max_value=50, value=3)
            company_size = st.selectbox("ุญุฌู ุงููุคุณุณุฉ", [
                "ุตุบูุฑุฉ (1-10)", "ูุชูุณุทุฉ (11-50)", "ูุจูุฑุฉ (51-200)", "ูุจูุฑุฉ ุฌุฏุงู (200+)"
            ])

        with col3:
            current_salary = st.number_input("ุงูุฑุงุชุจ ุงูุญุงูู (ุฏููุงุฑ)", min_value=290, value=500)
            job_satisfaction = st.slider("ูุณุชูู ุงูุฑุถุง ุงููุธููู", 1, 10, 7)

        # ุชูููู ุงููุฌุงูุงุช
        st.markdown("###### ๐ ุชูููู ุงููุฌุงูุงุช ุงูุฑุฆูุณูุฉ")

        evaluation_categories = {
            "ุงูุจูุฆุฉ ุงูุนูููุฉ": [
                "ุนูุงูุงุช ุงูุนูู ูุน ุงูุฒููุงุก",
                "ุนูุงูุฉ ุงูุนูู ูุน ุงูุฅุฏุงุฑุฉ", 
                "ุซูุงูุฉ ุงููุคุณุณุฉ ูุงูููู",
                "ุงูุชูุงุฒู ุจูู ุงูุนูู ูุงูุญูุงุฉ"
            ],
            "ุงูุชุทูุฑ ุงููุธููู": [
                "ูุฑุต ุงูุชุฑููุฉ ูุงูุชูุฏู",
                "ุจุฑุงูุฌ ุงูุชุฏุฑูุจ ูุงูุชุทููุฑ",
                "ุชูููู ุงูุฃุฏุงุก ูุงูุนูุงูุงุช",
                "ุงูุงุณุชูุฑุงุฑ ุงููุธููู"
            ],
            "ุงูุญููู ุงููุงููููุฉ": [
                "ุงูุงูุชุซุงู ููุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                "ุชุทุจูู ุณุงุนุงุช ุงูุนูู ุงููุงููููุฉ",
                "ููุญ ุงูุฅุฌุงุฒุงุช ุงููุณุชุญูุฉ",
                "ุชูููุฑ ุจูุฆุฉ ุนูู ุขููุฉ"
            ],
            "ุงููุฒุงูุง ูุงูุฎุฏูุงุช": [
                "ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ",
                "ุงูุชุฃููู ุงูุตุญู",
                "ุจุฏูุงุช ุงูููู ูุงูุณูู",
                "ุงูููุงูุขุช ูุงูุญูุงูุฒ"
            ]
        }

        category_scores = {}

        for category, factors in evaluation_categories.items():
            with st.expander(f"๐ {category}", expanded=True):
                category_total = 0
                for factor in factors:
                    score = st.slider(
                        factor,
                        1, 10, 5,
                        key=f"eval_{category}_{factor}"
                    )
                    category_total += score

                category_avg = category_total / len(factors)
                category_scores[category] = category_avg

                st.progress(category_avg / 10)
                st.write(f"**ูุชูุณุท {category}: {category_avg:.1f}/10**")

        # ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
        if category_scores:
            overall_score = sum(category_scores.values()) / len(category_scores)

            st.markdown(f"### ๐ฏ ุงูุชูููู ุงูููุงุฆู: {overall_score:.1f}/10")

            col1, col2 = st.columns(2)

            with col1:
                # ูุฎุทุท radar chart
                st.markdown("##### ๐ ุชุญููู ุงููุฌุงูุงุช")
                scores_df = pd.DataFrame({
                    'ุงููุฌุงู': list(category_scores.keys()),
                    'ุงูุชูููู': list(category_scores.values())
                })
                st.bar_chart(scores_df.set_index('ุงููุฌุงู'))

            with col2:
                # ุงูุชูุตูุงุช
                st.markdown("##### ๐ก ุชูุตูุงุช ุณุฑูุนุฉ")

                if overall_score >= 8:
                    st.success("""
                    **ููุชุงุฒ - ุงุณุชูุฑ ูู ุงูุชููุฒ**
                    - ุญุงูุธ ุนูู ุฃุฏุงุฆู ุงููุชููุฒ
                    - ุทูุฑ ููุงุฑุงุชู ุจุงุณุชูุฑุงุฑ
                    - ุดุงุฑู ูู ุจุฑุงูุฌ ุงูููุงุฏุฉ
                    """)
                elif overall_score >= 6:
                    st.warning("""
                    **ุฌูุฏ - ุฑูุฒ ุนูู ุงูุชุญุณูู**
                    - ุนุฒุฒ ููุงุท ุงูููุฉ
                    - ุงุนูู ุนูู ููุงุท ุงูุถุนู
                    - ุงุทูุจ ุชุบุฐูุฉ ุฑุงุฌุนุฉ
                    """)
                else:
                    st.error("""
                    **ูุญุชุงุฌ ุชุญุณูู - ุฎุฐ ุฅุฌุฑุงุกุงุช**
                    - ุญุฏุฏ ูุฌุงูุงุช ุงูุชุญุณูู
                    - ูุงูุด ูุน ุงูุฅุฏุงุฑุฉ
                    - ููุฑ ูู ุฎูุงุฑุงุช ุฃุฎุฑู
                    """)

    with assessment_tabs[2]:
        st.markdown("##### ๐ฏ ุงูุชูุตูุงุช ุงููุฎุตุตุฉ")

        # ุชูููุฏ ุชูุตูุงุช based on ุงูุชูููู
        recommendations = {
            "ุนุงููุฉ ุงูุฃููููุฉ": [
                "ูุฑุงุฌุนุฉ ุนูุฏ ุงูุนูู ูุงูุชุฃูุฏ ูู ุดููููุชู",
                "ุงููุทุงูุจุฉ ุจุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ ุฅุฐุง ูุงู ุบูุฑ ูุทุจู",
                "ุชูุซูู ุณุงุนุงุช ุงูุนูู ูุงูุฅุถุงูู ุจุฏูุฉ",
                "ุงูุชุฃูุฏ ูู ุงูุชุณุฌูู ูู ุงูุถูุงู ุงูุงุฌุชูุงุนู"
            ],
            "ูุชูุณุทุฉ ุงูุฃููููุฉ": [
                "ููุงูุดุฉ ุฎุทุฉ ุงูุชุทููุฑ ุงููุธููู ูุน ุงููุณุคูู",
                "ุงููุดุงุฑูุฉ ูู ุจุฑุงูุฌ ุงูุชุฏุฑูุจ ุงููุชุงุญุฉ",
                "ุชุญุณูู ููุงุฑุงุช ุงูุชูุงุตู ูุน ุงููุฑูู",
                "ุงูุชุฎุทูุท ููุฅุฌุงุฒุงุช ูุงูุฑุงุญุฉ ุจุดูู ููุชุธู"
            ],
            "ููุฎูุถุฉ ุงูุฃููููุฉ": [
                "ุงุณุชูุดุงู ูุฑุต ุงูุชุฑููุฉ ุงูุฏุงุฎููุฉ",
                "ุงููุดุงุฑูุฉ ูู ุฃูุดุทุฉ ุงููุคุณุณุฉ ุงูุงุฌุชูุงุนูุฉ",
                "ุชุญุณูู ุจูุฆุฉ ุงูุนูู ุงูุดุฎุตูุฉ",
                "ุงูุชุฎุทูุท ููุชุนูู ุงููุณุชูุฑ"
            ]
        }

        for priority, recs in recommendations.items():
            with st.expander(f"๐ {priority}", expanded=True):
                for i, rec in enumerate(recs, 1):
                    col1, col2, col3 = st.columns([3, 1, 1])
                    with col1:
                        st.write(f"{i}. {rec}")
                    with col2:
                        st.selectbox("ุงููุณุคูู", ["ุฃูุช", "ุงูุฅุฏุงุฑุฉ", "ูุดุชุฑู"], key=f"resp_{priority}_{i}")
                    with col3:
                        st.date_input("ุงูููุนุฏ", key=f"deadline_{priority}_{i}")

        # ุฎุทุฉ ุนูู ูุงุจูุฉ ููุชุญููู
        if st.button("๐ฅ ุฅูุดุงุก ุฎุทุฉ ุงูุนูู ุงูุดุงููุฉ", type="primary"):
            plan_content = f"""
            ุฎุทุฉ ุงูุนูู ุงูุดุฎุตูุฉ - ุชูููู ุงููุถุน ุงููุธููู
            ===================================
            
            ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ:
            - ููุน ุงูุนูู: {employment_type}
            - ุงููุทุงุน: {industry}
            - ุณููุงุช ุงูุฎุจุฑุฉ: {experience_years}
            - ุงูุฑุงุชุจ ุงูุญุงูู: {current_salary} ุฏููุงุฑ
            
            ุงูุชูููู ุงูููุงุฆู: {overall_score:.1f}/10
            
            ุงูุชูุตูุงุช:
            {chr(10).join([f'- {rec}' for rec in recommendations['ุนุงููุฉ ุงูุฃููููุฉ']])}
            
            ุฎุทุฉ ุงูุชูููุฐ:
            - ุงูุฃุณุจูุน 1-2: ุชูููุฐ ุงูุชูุตูุงุช ุนุงููุฉ ุงูุฃููููุฉ
            - ุงูุฃุณุจูุน 3-4: ูุชุงุจุนุฉ ุงูุชูุตูุงุช ูุชูุณุทุฉ ุงูุฃููููุฉ  
            - ุงูุดูุฑ 2: ุชูููู ุงูุชูุฏู ูุชุนุฏูู ุงูุฎุทุฉ
            
            ุชุงุฑูุฎ ุงูุฅูุดุงุก: {datetime.now().strftime('%Y-%m-%d')}
            """

            st.download_button(
                "๐ ุชุญููู ุฎุทุฉ ุงูุนูู",
                data=plan_content,
                file_name=f"ุฎุทุฉ_ุงูุนูู_{datetime.now().strftime('%Y%m%d')}.txt",
                mime="text/plain"
            )

# ==========================
# ๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ - ููุณุนุฉ
# ==========================
def show_safety_protection():
    st.markdown("#### ๐ก๏ธ ุงูุณูุงูุฉ ุงูููููุฉ ูุงูุญูุงูุฉ ุงููุงููููุฉ")

    safety_tabs = st.tabs(["ุงูุณูุงูุฉ ุงูููููุฉ", "ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด", "ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ", "ุงูุฑุนุงูุฉ ุงูุตุญูุฉ", "ุงูุญูุงูุฉ ุงููุงููููุฉ"])

    with safety_tabs[0]:
        st.markdown("##### ๐ฆบ ูุธุงู ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ")

        safety_systems = [
            {
                "aspect": "ุงูุจูุฆุฉ ุงูุนูููุฉ ุงูุขููุฉ",
                "requirements": "ุชูููุฑ ููุงู ุนูู ุฎุงูู ูู ุงููุฎุงุทุฑุ ุชูููุฉ ููุงุณุจุฉุ ุฅุถุงุกุฉ ูุงููุฉ",
                "employer_duties": "ุชูููู ุงููุฎุงุทุฑุ ุงูุตูุงูุฉ ุงูุฏูุฑูุฉุ ุงูุชูุชูุด ุงูููุชุธู",
                "worker_rights": "ุฑูุถ ุงูุนูู ูู ุธุฑูู ุฎุทุฑุฉุ ุงูุฅุจูุงุบ ุนู ุงููุฎุงุทุฑุ ุงููุดุงุฑูุฉ ูู ูุฌุงู ุงูุณูุงูุฉ",
                "law": "ุงููุงุฏุฉ 79"
            },
            {
                "aspect": "ูุนุฏุงุช ุงูููุงูุฉ ุงูุดุฎุตูุฉ",
                "requirements": "ุชูููุฑ ุงููุนุฏุงุช ุงูููุงุณุจุฉ ูุฌุงูุงูุ ุชุฏุฑูุจ ุนูู ุงูุงุณุชุฎุฏุงูุ ุตูุงูุฉ ูุณุชูุฑุฉ",
                "employer_duties": "ุชุญุฏูุฏ ุงููุนุฏุงุช ุงููุทููุจุฉุ ุงูุชุฃูุฏ ูู ุงูุงุณุชุฎุฏุงูุ ุงูุชุญุฏูุซ ุงูุฏูุฑู",
                "worker_rights": "ุงูุญุตูู ุนูู ุงููุนุฏุงุชุ ุงูุชุฏุฑูุจ ุนูู ุงูุงุณุชุฎุฏุงูุ ุฑูุถ ุงูุนูู ุจุฏูููุง",
                "law": "ุงููุงุฏุฉ 79"
            },
            {
                "aspect": "ุงูุชุฏุฑูุจ ุนูู ุงูุณูุงูุฉ",
                "requirements": "ุชุฏุฑูุจุงุช ุฏูุฑูุฉุ ุฅุฑุดุงุฏุงุช ูุงุถุญุฉุ ุชุฏุฑูุจุงุช ุทูุงุฑุฆ",
                "employer_duties": "ุชูุธูู ุงูุฏูุฑุงุชุ ุชูุซูู ุงูุชุฏุฑูุจุงุชุ ุชูููู ุงููุนุงููุฉ",
                "worker_rights": "ุงููุดุงุฑูุฉ ูู ุงูุชุฏุฑูุจุงุชุ ุงูุญุตูู ุนูู ุงูุดูุงุฏุงุชุ ุงูุชุนุจูุฑ ุนู ุงูุงุญุชูุงุฌุงุช",
                "law": "ุงููุงุฏุฉ 80"
            },
            {
                "aspect": "ุงูุฅุจูุงุบ ุนู ุงูุญูุงุฏุซ",
                "requirements": "ูุธุงู ุฅุจูุงุบ ููุฑูุ ุชุญููู ูู ุงูุญูุงุฏุซุ ุฅุฌุฑุงุกุงุช ุชุตุญูุญูุฉ",
                "employer_duties": "ุชุณุฌูู ุงูุญูุงุฏุซุ ุงูุชุญููู ุงูููุฑูุ ุชูููุฐ ุงูุชุตุญูุญุงุช",
                "worker_rights": "ุงูุฅุจูุงุบ ุจุฏูู ุฎููุ ุงููุดุงุฑูุฉ ูู ุงูุชุญูููุ ุงูุญุตูู ุนูู ุงูุชุนููุถ",
                "law": "ุงููุงุฏุฉ 83"
            }
        ]

        for system in safety_systems:
            with st.expander(f"๐ฆบ {system['aspect']}", expanded=True):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงููุชุทูุจุงุช:** {system['requirements']}")
                    st.write(f"**ูุงุฌุจุงุช ุตุงุญุจ ุงูุนูู:** {system['employer_duties']}")
                with col2:
                    st.write(f"**ุญููู ุงูุนุงูู:** {system['worker_rights']}")
                    st.write(f"**ุงููุงููู:** {system['law']}")

                # ุชูููู ุงูุชุทุจูู
                compliance = st.slider(f"ูุณุชูู ุงูุชุทุจูู ูู ุนููู", 0, 100, 50, key=f"safety_{system['aspect']}")
                st.progress(compliance/100)

    with safety_tabs[4]:
        st.markdown("##### โ๏ธ ุงูุญูุงูุฉ ุงููุงููููุฉ ูุงูุฏูุงุน ุนู ุงูุญููู")

        protection_mechanisms = [
            {
                "protection": "ุงูุญูุงูุฉ ูู ุงููุตู ุงูุชุนุณูู",
                "description": "ุญุธุฑ ุงููุตู ุจุฏูู ุณุจุจ ูุดุฑูุนุ ูุน ุญู ุงูุชุนููุถ ูู ุญุงูุฉ ุงููุตู ุงูุชุนุณูู",
                "procedures": "ุทูุจ ุฃุณุจุงุจ ุงููุตู ูุชุงุจูุงูุ ุงูุชูุฌู ููุฏูุฑูุฉ ุงูุนููุ ุฑูุน ุฏุนูู ูุถุงุฆูุฉ",
                "compensation": "ุชุนููุถ ูุตู ุฅูู 12 ุฑุงุชุจุงู ุจุงูุฅุถุงูุฉ ููุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ",
                "law": "ุงููุงุฏุฉ 73"
            },
            {
                "protection": "ุงูุญูุงูุฉ ุฃุซูุงุก ุงูุดูุงูู",
                "description": "ุญุธุฑ ุงูุชุณุฑูุญ ุฃู ุงูุฅุถุฑุงุฑ ุจุงูุนุงูู ุจุณุจุจ ุชูุฏูู ุดููู ูุงููููุฉ",
                "procedures": "ุชูุซูู ุงูุดูููุ ุงูุฅุจูุงุบ ููุฌูุงุช ุงููุฎุชุตุฉุ ุทูุจ ุงูุญูุงูุฉ",
                "compensation": "ุฅุนุงุฏุฉ ุงูุนููุ ุชุนููุถ ุนู ุงููุชุฑุฉุ ุบุฑุงูุงุช ูุตุงุญุจ ุงูุนูู",
                "law": "ุงููุงุฏุฉ 80"
            },
            {
                "protection": "ุงูุญูุงูุฉ ูู ุงูุฅูุชูุงู",
                "description": "ููุน ุฃู ุฅุฌุฑุงุกุงุช ุงูุชูุงููุฉ ุถุฏ ุงูุนุงูู ูููุงุฑุณุฉ ุญูููู ุงููุงููููุฉ",
                "procedures": "ุชูุซูู ุงูุฅุฌุฑุงุกุงุช ุงูุงูุชูุงููุฉุ ุงูุฅุจูุงุบ ุงูููุฑูุ ุทูุจ ุงูุชุฏุฎู",
                "compensation": "ุฅูุบุงุก ุงูุฅุฌุฑุงุกุงุช ุงูุงูุชูุงููุฉุ ุชุนููุถ ูุนูููุ ุนููุจุงุช ุชุฃุฏูุจูุฉ",
                "law": "ุงููุงุฏุฉ 105"
            }
        ]

        for protection in protection_mechanisms:
            with st.expander(f"โ๏ธ {protection['protection']}", expanded=True):
                st.write(f"**ุงููุตู:** {protection['description']}")
                st.write(f"**ุงูุฅุฌุฑุงุกุงุช:** {protection['procedures']}")
                st.write(f"**ุงูุชุนููุถุงุช:** {protection['compensation']}")
                st.write(f"**ุงููุงููู:** {protection['law']}")

                if st.button(f"๐ ุทูุจ ูุณุงุนุฏุฉ ูู {protection['protection']}", key=f"help_{protection['protection']}"):
                    st.info("""
                    **ุฎุทูุงุช ุงููุณุงุนุฏุฉ ุงูุนุงุฌูุฉ:**
                    1. ุชูุซูู ุฌููุน ุงูุฃุฏูุฉ ูุงููุณุชูุฏุงุช
                    2. ุงูุงุชุตุงู ุจูุฒุงุฑุฉ ุงูุนูู: 06-5802666
                    3. ุงูุชูุฌู ูุฃูุฑุจ ูุฏูุฑูุฉ ุนูู
                    4. ุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต
                    """)

# ==========================
# ๐ ุงูุชูุนูุฉ ุงููุงููููุฉ - ููุณุนุฉ
# ==========================
def show_legal_awareness():
    st.markdown("#### ๐ ุงูุชูุนูุฉ ุงููุงููููุฉ ูุงูุฅุฑุดุงุฏุงุช ุงูุนูููุฉ")

    awareness_tabs = st.tabs(["ุฏููู ุงูุนุงูู ุงูุฌุฏูุฏ", "ูุตุงุฆุญ ุนูููุฉ", "ุชุฌูุจ ุงููุฎุงููุงุช", "ุชุทููุฑ ุงููุณุงุฑ ุงููุธููู", "ุงูููุงุฑุฏ ุงููุฌุงููุฉ"])

    with awareness_tabs[0]:
        st.markdown("##### ๐ ุฏููู ุงูุนุงูู ุงูุฌุฏูุฏ - ุจุฏุงูุฉ ุตุญูุญุฉ")

        new_worker_guide = [
            {
                "step": "ูุจู ุจุฏุก ุงูุนูู",
                "actions": [
                    "ุงุทูุจ ุนูุฏ ุนูู ููุชูุจ ูุงูุฑุฃู ุจุนูุงูุฉ",
                    "ุชุฃูุฏ ูู ุดููููุฉ ุฌููุน ุงูุจููุฏ ุงูุฃุณุงุณูุฉ",
                    "ุงุณุฃู ุนู ูู ูุง ูู ุบูุฑ ูุงุถุญ ูู ุงูุนูุฏ",
                    "ุงุญุตู ุนูู ูุณุฎุฉ ูููุนุฉ ูู ุงูุนูุฏ"
                ],
                "warnings": "ูุง ุชุจุฏุฃ ุงูุนูู ุจุฏูู ุนูุฏ ููุชูุจ - ูุง ุชูุงูู ุนูู ุจููุฏ ุบุงูุถุฉ"
            },
            {
                "step": "ุฃูู ููู ุนูู",
                "actions": [
                    "ุชุนุฑู ุนูู ุฒููุงุฆู ููุณุคูููู ุงููุจุงุดุฑูู",
                    "ุงุทูุจ ุดุฑุญุงู ูุงุถุญุงู ููููุงู ูุงููุณุคูููุงุช",
                    "ุชุนุฑู ุนูู ุณูุงุณุงุช ุงููุคุณุณุฉ ูููุงุฆุญูุง",
                    "ุงุณุฃู ุนู ูุธุงู ุงูุนูู ูุงูุฅุฌุงุฒุงุช"
                ],
                "warnings": "ูุง ุชุชุฑุฏุฏ ูู ุงูุณุคุงู - ุชูุซูู ูู ูุง ูุชู ุงูุงุชูุงู ุนููู"
            },
            {
                "step": "ุฃูู ุดูุฑ ุนูู",
                "actions": [
                    "ุชุฃูุฏ ูู ุชุณุฌููู ูู ุงูุถูุงู ุงูุงุฌุชูุงุนู",
                    "ุฑุงูุจ ุฏูุฉ ุตุฑู ุงูุฑุงุชุจ ูููุนุฏู",
                    "ุชูุซูู ุณุงุนุงุช ุงูุนูู ูุงูุฅุถุงูู",
                    "ุชุนุฑู ุนูู ุฅุฌุฑุงุกุงุช ุงูุณูุงูุฉ ุงููุชุจุนุฉ"
                ],
                "warnings": "ุงูุฅุจูุงุบ ุงูููุฑู ุนู ุฃู ูุฎุงููุงุช - ุงูุงุญุชูุงุธ ุจุฌููุน ุงููุณุชูุฏุงุช"
            }
        ]

        for step_info in new_worker_guide:
            with st.expander(f"๐ {step_info['step']}", expanded=True):
                st.write("**ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ:**")
                for action in step_info['actions']:
                    st.write(f"โ {action}")

                st.warning(f"**ุชุญุฐูุฑุงุช ูุงูุฉ:** {step_info['warnings']}")

    with awareness_tabs[4]:
        st.markdown("##### ๐ ุงูููุงุฑุฏ ุงููุฌุงููุฉ ูุงูุฏุนู")

        free_resources = [
            {
                "resource": "ุงุณุชุดุงุฑุงุช ูุงููููุฉ ูุฌุงููุฉ",
                "provider": "ููุงุจุฉ ุงููุญุงููู ุงูุฃุฑุฏูููู",
                "contact": "06-5664111",
                "services": "ุงุณุชุดุงุฑุงุช ุฃูููุฉุ ุชูุฌูู ูุงููููุ ุฅุญุงูุฉ ููุญุงููู",
                "eligibility": "ูุฌููุน ุงูููุงุทููู ุญุณุจ ุงูุฅููุงููุงุช"
            },
            {
                "resource": "ูุฑุงูุฒ ุงูุฏุนู ุงูุนูุงูู",
                "provider": "ูุฒุงุฑุฉ ุงูุนูู",
                "contact": "06-5802666",
                "services": "ุงุณุชูุจุงู ุดูุงููุ ุชูุฌููุ ูุณุงุทุฉุ ุชุญููู",
                "eligibility": "ุฌููุน ุงูุนุงูููู ูู ุงููุทุงุน ุงูุฎุงุต"
            },
            {
                "resource": "ุฎุท ุงููุณุงุนุฏุฉ ุงููุงููููุฉ",
                "provider": "ุฌูุนูุงุช ุงููุฌุชูุน ุงููุฏูู",
                "contact": "079-0000000",
                "services": "ุฏุนู ููุณูุ ุชูุฌูู ูุงููููุ ูุณุงุนุฏุฉ ูู ุงูุฅุฌุฑุงุกุงุช",
                "eligibility": "ุญุงูุงุช ุฎุงุตุฉ (ุชุญุฑุดุ ูุตู ุชุนุณููุ ุฅุตุงุจุงุช ุนูู)"
            }
        ]

        for resource in free_resources:
            with st.expander(f"๐ {resource['resource']}", expanded=True):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ููุฏู ุงูุฎุฏูุฉ:** {resource['provider']}")
                    st.write(f"**ุงูุงุชุตุงู:** {resource['contact']}")
                with col2:
                    st.write(f"**ุงูุฎุฏูุงุช:** {resource['services']}")
                    st.write(f"**ุงูุฃูููุฉ:** {resource['eligibility']}")

                if st.button("๐ ุงุชุตู ุงูุขู", key=f"call_{resource['resource']}"):
                    st.success(f"ุฌุงุฑู ุงูุงุชุตุงู ุจู {resource['provider']} ุนูู ุงูุฑูู {resource['contact']}")

# ==========================
# ๐ ุงูุดูุงูู ูุงูููุงุฒุนุงุช - ููุณุนุฉ
# ==========================
def show_complaints_disputes():
    st.markdown("#### ๐ ูุธุงู ุชูุฏูู ุงูุดูุงูู ูุญู ุงูููุงุฒุนุงุช")

    complaints_tabs = st.tabs(["ุฃููุงุน ุงูุดูุงูู", "ุฅุฌุฑุงุกุงุช ุงูุชูุฏูู", "ุฌูุงุช ุงูุงุฎุชุตุงุต", "ููุงุฐุฌ ุงูุดูุงูู", "ุงููุชุงุจุนุฉ ูุงููุชุงุฆุฌ"])

    with complaints_tabs[1]:
        st.markdown("##### ๐ ุฅุฌุฑุงุกุงุช ุชูุฏูู ุงูุดููู ุฎุทูุฉ ุจุฎุทูุฉ")

        complaint_steps = [
            {
                "step": "ุงููุฑุญูุฉ ุงูุฃููู: ุงูุชูุซูู ูุงูุชุญุถูุฑ",
                "actions": [
                    "ุฌูุน ุฌููุน ุงููุณุชูุฏุงุช ุงููุชุนููุฉ ุจุงูุดููู",
                    "ุชูุซูู ุงูุชูุงุฑูุฎ ูุงูุฃุญุฏุงุซ ุจุฏูุฉ",
                    "ุชุตููุฑ ุฌููุน ุงููุฑุงุณูุงุช ูุงูุฅุดุนุงุฑุงุช",
                    "ุฅุนุฏุงุฏ ุณุฑุฏ ูุงุถุญ ูููุตู ููุญุงุฏุซุฉ"
                ],
                "documents": "ุนูุฏ ุงูุนููุ ูุดูู ุงูุฑูุงุชุจุ ุงููุฑุงุณูุงุชุ ุงูุฅุดุนุงุฑุงุชุ ุฃู ุฃุฏูุฉ ุฃุฎุฑู",
                "timeline": "1-3 ุฃูุงู"
            },
            {
                "step": "ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุงููุญุงููุฉ ุงููุฏูุฉ",
                "actions": [
                    "ูุญุงููุฉ ุญู ุงููุดููุฉ ูุจุงุดุฑุฉ ูุน ุงููุณุคูู",
                    "ุฅุฑุณุงู ุฅูุฐุงุฑ ุฑุณูู ุฅุฐุง ูุฒู ุงูุฃูุฑ",
                    "ุทูุจ ูุณุงุทุฉ ูู ูุฏูุฑูุฉ ุงูุนูู",
                    "ุงูุชูุซูู ุงููุชุงุจู ูุฌููุน ุงููุญุงููุงุช"
                ],
                # ุชุงุจุน ูุณู ุงูุดูุงูู ูุงูููุงุฒุนุงุช
                    "ุงูุชูุซูู ุงููุชุงุจู ูุฌููุน ุงููุญุงููุงุช"
                ],
                "documents": "ุฅูุฐุงุฑุงุช ูุชุงุจูุฉุ ูุญุงุถุฑ ุงุฌุชูุงุนุงุชุ ูุฑุงุณูุงุช ูุณุงุทุฉ",
                "timeline": "7-14 ููู"
            },
            {
                "step": "ุงููุฑุญูุฉ ุงูุซุงูุซุฉ: ุงูุชูุฏูู ุงูุฑุณูู",
                "actions": [
                    "ุงูุชูุฌู ููุฏูุฑูุฉ ุงูุนูู ุงููุฎุชุตุฉ",
                    "ุชุนุจุฆุฉ ูููุฐุฌ ุงูุดููู ุงูุฑุณูู",
                    "ุฅุฑูุงู ุฌููุน ุงููุณุชูุฏุงุช ุงูุฏุงุนูุฉ",
                    "ุงูุญุตูู ุนูู ุฑูู ูุชุงุจุนุฉ ููุดููู"
                ],
                "documents": "ูููุฐุฌ ุดููู ูุนุจุฃุ ุฌููุน ุงููุณุชูุฏุงุช ุงููุฌูุฒุฉุ ุตูุฑุฉ ุงููููุฉ",
                "timeline": "1 ููู"
            },
            {
                "step": "ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ: ุงููุชุงุจุนุฉ ูุงูุฌูุณุงุช",
                "actions": [
                    "ูุชุงุจุนุฉ ุงูุดููู ุนุจุฑ ุงููุธุงู ุงูุฅููุชุฑููู",
                    "ุงูุญุถูุฑ ูุฌูุณุงุช ุงูุตูุญ ูุงููุณุงุทุฉ",
                    "ุงูุชุนุงูู ูุน ููุชุดู ุงูุนูู",
                    "ุงูุญุตูู ุนูู ุชูุงุฑูุฑ ุงููุชุงุจุนุฉ"
                ],
                "documents": "ุฅุดุนุงุฑุงุช ุงูุฌูุณุงุชุ ูุญุงุถุฑ ุงูุตูุญุ ุชูุงุฑูุฑ ุงูููุชุดูู",
                "timeline": "15-30 ููู"
            },
            {
                "step": "ุงููุฑุญูุฉ ุงูุฎุงูุณุฉ: ุงูุชูุงุถู",
                "actions": [
                    "ุฑูุน ุฏุนูู ูู ูุญููุฉ ุงูุนูู ุฅุฐุง ูุฒู",
                    "ุชูุธูู ูุญุงูู ูุชุฎุตุต",
                    "ุงูุญุถูุฑ ููุฌูุณุงุช ุงููุถุงุฆูุฉ",
                    "ุชูููุฐ ุงูุฃุญูุงู ุงูุตุงุฏุฑุฉ"
                ],
                "documents": "ุตุญููุฉ ุงูุฏุนููุ ุงููุณุชูุฏุงุชุ ุชูุงุฑูุฑ ุงูุฎุจุฑุงุก",
                "timeline": "3-6 ุฃุดูุฑ"
            }
        ]

        for step_info in complaint_steps:
            with st.expander(f"๐ {step_info['step']} - {step_info['timeline']}", expanded=True):
                st.write("**ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ:**")
                for action in step_info['actions']:
                    st.write(f"โ {action}")

                st.write("**ุงููุณุชูุฏุงุช ุงููุทููุจุฉ:**")
                st.write(f"๐ {step_info['documents']}")

                # ุชุชุจุน ุงูุชูุฏู
                progress = st.slider(f"ุชูุฏู {step_info['step']}", 0, 100, 0, key=f"progress_{step_info['step']}")
                st.progress(progress/100)

# ==========================
# โ๏ธ ุงูุฅูุฐุงุฑุงุช ูุงููุตู - ููุณุนุฉ
# ==========================
def show_warnings_termination():
    st.markdown("#### โ๏ธ ูุธุงู ุงูุฅูุฐุงุฑุงุช ูุฅููุงุก ุงูุฎุฏูุฉ")

    termination_tabs = st.tabs(["ุงูุฅูุฐุงุฑุงุช ูุงูุชุฃุฏูุจ", "ุฅููุงุก ุงูุฎุฏูุฉ", "ุงููุตู ุงูุชุนุณูู", "ุงููุณุชุญูุงุช ุงูููุงุฆูุฉ", "ุงูุฅุฌุฑุงุกุงุช ุงููุงููููุฉ"])

    with termination_tabs[0]:
        st.markdown("##### โ๏ธ ูุธุงู ุงูุฅูุฐุงุฑุงุช ูุงูุฅุฌุฑุงุกุงุช ุงูุชุฃุฏูุจูุฉ")

        warning_system = [
            {
                "level": "ุฅูุฐุงุฑ ุดููู",
                "procedure": "ุชูุจูู ุดููู ูุจุงุดุฑ ูุน ุฅุนุทุงุก ูุฑุตุฉ ููุฅุตูุงุญ ูุงูุชุตุญูุญ",
                "conditions": "ูููุฎุงููุงุช ุงูุจุณูุทุฉ ูุงููุชูุณุทุฉ ุงูุชู ูุง ุชุชูุฑุฑ",
                "duration": "ุณุงุฑู ููุฏุฉ 3 ุฃุดูุฑ",
                "effect": "ูุง ูุคุซุฑ ุนูู ุงูููุงูุฃุฉ ุฃู ุงูุชุฑููุฉ ุฅุฐุง ุชู ุชุตุญูุญ ุงููุฎุงููุฉ",
                "law": "ุงููุงุฏุฉ 28"
            },
            {
                "level": "ุฅูุฐุงุฑ ูุชุงุจู ุฃูู",
                "procedure": "ุฅูุฐุงุฑ ูุชุงุจู ุฑุณูู ูุญุฏุฏ ุงููุฎุงููุฉ ุจูุถูุญ ููุนุทู ูููุฉ ููุฅุตูุงุญ",
                "conditions": "ูู ุญุงูุฉ ุชูุฑุงุฑ ุงููุฎุงููุฉ ุฃู ุฌุณุงูุชูุง ุฃู ุนุฏู ุงูุงุณุชุฌุงุจุฉ ููุฅูุฐุงุฑ ุงูุดููู",
                "duration": "ุณุงุฑู ููุฏุฉ 6 ุฃุดูุฑ",
                "effect": "ูุคุซุฑ ุนูู ุงูุชูููู ุงูุณููู ููุฏ ูุคุฎุฑ ุงูุชุฑููุฉ",
                "law": "ุงููุงุฏุฉ 28"
            },
            {
                "level": "ุฅูุฐุงุฑ ูุชุงุจู ููุงุฆู", 
                "procedure": "ุฅูุฐุงุฑ ููุงุฆู ูุน ุชุญุฐูุฑ ุตุฑูุญ ุจุงููุตู ูู ุญุงูุฉ ุงูุชูุฑุงุฑ",
                "conditions": "ุจุนุฏ ุฅูุฐุงุฑูู ูุชุงุจููู ุฏูู ุงุณุชุฌุงุจุฉ ุฃู ูููุฎุงููุงุช ุงูุฌุณููุฉ",
                "duration": "ุณุงุฑู ููุฏุฉ ุณูุฉ ูุงุญุฏุฉ",
                "effect": "ูููุน ุงูุชุฑููุฉ ููุคุซุฑ ุนูู ุงูููุงูุขุช ููุฏ ูุคุฏู ูููุตู",
                "law": "ุงููุงุฏุฉ 28"
            },
            {
                "level": "ุงููุตู ุงูุชุฃุฏูุจู ุงููุจุงุดุฑ",
                "procedure": "ูุตู ููุฑู ุจุฏูู ุฅูุฐุงุฑุงุช ูุณุจูุฉ ูููุฎุงููุงุช ุงูุฌุณููุฉ ุฌุฏุงู",
                "conditions": "ุงูุณุฑูุฉุ ุงูุนููุ ุงูุชุฒููุฑุ ุฅูุดุงุก ุงูุฃุณุฑุงุฑุ ุงูุชุนุงุทู ุจุงููุฎุฏุฑุงุช",
                "duration": "ููุงุฆู ูุบูุฑ ูุงุจู ููุฅูุบุงุก",
                "effect": "ุฅููุงุก ุงูุฎุฏูุฉ ููุฑุงู ูุน ููุฏุงู ุจุนุถ ุงูุญููู",
                "law": "ุงููุงุฏุฉ 29"
            }
        ]

        for warning in warning_system:
            with st.expander(f"โ๏ธ {warning['level']}", expanded=True):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูุฅุฌุฑุงุก:** {warning['procedure']}")
                    st.write(f"**ุงูุดุฑูุท:** {warning['conditions']}")
                    st.write(f"**ุงููุฏุฉ:** {warning['duration']}")
                with col2:
                    st.write(f"**ุงูุชุฃุซูุฑ:** {warning['effect']}")
                    st.write(f"**ุงููุงููู:** {warning['law']}")

                # ูุญุงูุงุฉ ุงูุฅูุฐุงุฑ
                if st.button(f"๐งพ ุฅูุดุงุก ูููุฐุฌ {warning['level']}", key=f"template_{warning['level']}"):
                    template = f"""
                    ูููุฐุฌ {warning['level']}
                    ===================
                    
                    ุฅูู: [ุงุณู ุงูุนุงูู]
                    ุงูููุถูุน: {warning['level']}
                    
                    ุจูุงุกู ุนูู ุงููุฎุงููุฉ ุงูุชุงููุฉ: [ูุตู ุงููุฎุงููุฉ]
                    ูุงูุชู ุญุฏุซุช ูู ุชุงุฑูุฎ: [ุงูุชุงุฑูุฎ]
                    
                    {warning['procedure']}
                    
                    ูููุฉ ุงูุชุตุญูุญ: [ุงููุฏุฉ]
                    ุงูุนูุงูุจ ูู ุญุงูุฉ ุงูุชูุฑุงุฑ: {warning['effect']}
                    
                    ุงูุชุงุฑูุฎ: [ุงูุชุงุฑูุฎ]
                    ุงูุชูููุน: [ูุณุคูู ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ]
                    """
                    st.text_area("ุงููููุฐุฌ", template, height=200)

# ==========================
# ๐งฎ ุงุณุชููุงู ุญุงุณุจุงุช ุงููุณุชุญูุงุช
# ==========================
def show_workers_calculators():
    st.markdown("#### ๐งฎ ุงูุญุงุณุจุงุช ุงูุชูุงุนููุฉ ูููุณุชุญูุงุช")

    calc_tabs = st.tabs(["ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช", "ุงูุชุนููุถุงุช", "ุงูุญุงุณุจุฉ ุงูุดุงููุฉ", "ุญุงุณุจุฉ ุงูุถูุงู ุงูุงุฌุชูุงุนู"])

    with calc_tabs[3]:
        st.markdown("##### ๐ธ ุญุงุณุจุฉ ุงูุชุนููุถุงุช ูุงููุฎุงููุงุช")

        col1, col2 = st.columns(2)

        with col1:
            st.subheader("ุงููุฏุฎูุงุช")
            violation_type = st.selectbox("ููุน ุงููุฎุงููุฉ", [
                "ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ",
                "ูุตู ุชุนุณูู", 
                "ุนุฏู ููุญ ุฅุฌุงุฒุฉ",
                "ุญุฑูุงู ูู ุนูุงูุงุช",
                "ุนุฏู ุชูููุฑ ุณูุงูุฉ",
                "ุชูููุฒ ุฃู ุชุญุฑุด",
                "ุฃุฎุฑู"
            ])

            basic_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", value=500, key="comp_salary")
            duration = st.number_input("ูุฏุฉ ุงููุฎุงููุฉ (ุฃุดูุฑ)", min_value=1, max_value=36, value=3)
            severity = st.select_slider("ุฎุทูุฑุฉ ุงููุฎุงููุฉ", ["ููุฎูุถุฉ", "ูุชูุณุทุฉ", "ุนุงููุฉ", "ุฌุณููุฉ"])

        with col2:
            st.subheader("ุงููุชุงุฆุฌ")

            if st.button("๐งฎ ุงุญุณุจ ุงูุชุนููุถ", key="calc_compensation"):
                # ุญุณุงุจุงุช ุชุนููุถูุฉ ุชูุฏูุฑูุฉ based on ุงูุณูุงุจู ุงููุถุงุฆูุฉ
                compensation_calculations = {
                    "ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ": {
                        "base": basic_salary * duration * 0.1,
                        "explanation": "10% ูู ุงูุฑุงุชุจ ุนู ูู ุดูุฑ ุชุฃุฎูุฑ",
                        "law": "ุงููุงุฏุฉ 56"
                    },
                    "ูุตู ุชุนุณูู": {
                        "base": basic_salary * 6,  # ูุชูุณุท ุงูุชุนููุถ ูู ุงูุณูุงุจู
                        "explanation": "ุชุนููุถ ุนู ุงููุตู ุจุฏูู ูุจุฑุฑ ูุดุฑูุน",
                        "law": "ุงููุงุฏุฉ 73"
                    },
                    "ุนุฏู ููุญ ุฅุฌุงุฒุฉ": {
                        "base": basic_salary * duration / 12 * 2,  # ุถุนู ูุณุชุญูุงุช ุงูุฅุฌุงุฒุฉ
                        "explanation": "ุชุนููุถ ูุถุงุนู ุนู ุงูุฅุฌุงุฒุงุช ุบูุฑ ุงูููููุญุฉ",
                        "law": "ุงููุงุฏุฉ 52"
                    },
                    "ุนุฏู ุชูููุฑ ุณูุงูุฉ": {
                        "base": basic_salary * 3,
                        "explanation": "ุชุนููุถ ุนู ุงููุฎุงุทุฑ ูุงูุชูุฏูุฏุงุช ุงูุตุญูุฉ",
                        "law": "ุงููุงุฏุฉ 79"
                    }
                }

                calculation = compensation_calculations.get(violation_type, {
                    "base": basic_salary * 2,
                    "explanation": "ุชุนููุถ ุชูุฏูุฑู ุนู ุงูุถุฑุฑ",
                    "law": "ุงููุงุฏุฉ 80"
                })

                # ุชุนุฏูู based on ุงูุฎุทูุฑุฉ
                severity_multipliers = {"ููุฎูุถุฉ": 0.5, "ูุชูุณุทุฉ": 1.0, "ุนุงููุฉ": 1.5, "ุฌุณููุฉ": 2.0}
                final_compensation = calculation["base"] * severity_multipliers[severity]

                st.success(f"""
                ## ๐ธ ูุชุงุฆุฌ ุญุณุงุจ ุงูุชุนููุถ
                
                **ููุน ุงููุฎุงููุฉ:** {violation_type}
                **ุงูุฑุงุชุจ ุงูุฃุณุงุณู:** {basic_salary:,.0f} ุฏููุงุฑ
                **ูุฏุฉ ุงููุฎุงููุฉ:** {duration} ุฃุดูุฑ
                **ุฎุทูุฑุฉ ุงููุฎุงููุฉ:** {severity}
                
                **ุงูุชุนููุถ ุงูููุฏุฑ:** **{final_compensation:,.0f}** ุฏููุงุฑ
                
                **ุงูุฃุณุงุณ ุงููุงูููู:**
                - {calculation['law']}: {calculation['explanation']}
                - ุชุนุฏูู ุงูุฎุทูุฑุฉ: ร{severity_multipliers[severity]}
                
                **ููุงุญุธุฉ:** ูุฐู ุญุณุงุจุงุช ุชูุฏูุฑูุฉ based on ุงูุณูุงุจู ุงููุถุงุฆูุฉ
                """)

    with calc_tabs[5]:
        st.markdown("##### ๐๏ธ ุญุงุณุจุฉ ุงุดุชุฑุงูุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู")

        col1, col2 = st.columns(2)

        with col1:
            st.subheader("ุงููุฏุฎูุงุช")
            employee_salary = st.number_input("ุงูุฑุงุชุจ ุงูุดูุฑู (ุฏููุงุฑ)", value=500, key="social_salary")
            employee_rate = st.slider("ูุณุจุฉ ุงุดุชุฑุงู ุงูููุธู (%)", 5.0, 10.0, 7.5, key="social_emp_rate")
            employer_rate = st.slider("ูุณุจุฉ ุงุดุชุฑุงู ุตุงุญุจ ุงูุนูู (%)", 10.0, 20.0, 14.25, key="social_employer_rate")
            salary_ceiling = st.number_input("ุงูุญุฏ ุงูุฃูุตู ููุฃุฌุฑ ุงูุฎุงุถุน (ุฏููุงุฑ)", value=2000, key="social_ceiling")

        with col2:
            st.subheader("ุงููุชุงุฆุฌ")

            if st.button("๐งฎ ุงุญุณุจ ุงูุงุดุชุฑุงูุงุช", key="calculate_social"):
                # ุงูุญุณุงุจุงุช
                base_salary = min(employee_salary, salary_ceiling)
                employee_share = base_salary * (employee_rate / 100)
                employer_share = base_salary * (employer_rate / 100)
                total_share = employee_share + employer_share
                net_salary = employee_salary - employee_share

                st.success(f"""
                ## ๐๏ธ ูุชุงุฆุฌ ุงุดุชุฑุงูุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู
                
                **ุงูุฑุงุชุจ ุงูุฎุงุถุน ููุงุดุชุฑุงู:** **{base_salary:,.0f}** ุฏููุงุฑ
                
                **ุงูุงุดุชุฑุงูุงุช ุงูุดูุฑูุฉ:**
                - ๐จโ๐ผ ุญุตุฉ ุงูููุธู ({employee_rate}%): **{employee_share:,.0f}** ุฏููุงุฑ
                - ๐ ุญุตุฉ ุตุงุญุจ ุงูุนูู ({employer_rate}%): **{employer_share:,.0f}** ุฏููุงุฑ
                - ๐ฐ ุงูุฅุฌูุงูู ุงูุดูุฑู: **{total_share:,.0f}** ุฏููุงุฑ
                - ๐ ุงูุฅุฌูุงูู ุงูุณููู: **{total_share * 12:,.0f}** ุฏููุงุฑ
                
                **ุงููุณุชุญูุงุช:**
                - ๐ค ุตุงูู ุฑุงุชุจ ุงูููุธู: **{net_salary:,.0f}** ุฏููุงุฑ
                - ๐ฆ ุงููุจูุบ ุงููุณุชุญู ููุถูุงู: **{total_share:,.0f}** ุฏููุงุฑ
                
                **ุงููุฒุงูุง ุงููุดูููุฉ:**
                - ูุนุงุด ุชูุงุนุฏูุ ุชุนููุถ ุฅุตุงุจุฉ ุนููุ ุชุนููุถ ุจุทุงูุฉ
                - ุฑุนุงูุฉ ุตุญูุฉุ ุฅุฌุงุฒุฉ ุฃูููุฉุ ููุญ ููุงุฉ
                """)

# ==========================
# ๐ ุงุณุชููุงู ุชูููู ุงููุถุน
# ==========================
def show_situation_assessment():
    st.markdown("#### ๐ ุชูููู ุงููุถุน ุงููุธููู ุงูุดุงูู")

    assessment_tabs = st.tabs(["ุชูููู ุนุงู", "ุชุญููู ุงููุฎุงุทุฑ", "ุงูุชูุตูุงุช", "ุฎุทุฉ ุงูุนูู", "ุงูุชูุงุฑูุฑ"])

    with assessment_tabs[4]:
        st.markdown("##### ๐ ุงูุชูุงุฑูุฑ ุงูุดุงููุฉ ูุงูุชุญูููุงุช")

        # ุชูุฑูุฑ ุงูุงูุชุซุงู
        st.markdown("###### ๐ ุชูุฑูุฑ ุงูุงูุชุซุงู ุงููุงูููู")

        compliance_report = {
            "ุงููุฌุงู": ["ุงูุชุนุงูุฏ", "ุงูุฃุฌูุฑ", "ุงูุฅุฌุงุฒุงุช", "ุงูุณูุงูุฉ", "ุฅููุงุก ุงูุฎุฏูุฉ"],
            "ุงููุถุน ุงูุญุงูู": ["ุฌูุฏ", "ููุชุงุฒ", "ููุจูู", "ุฌูุฏ", "ููุจูู"],
            "ุงูููุงุท ุงููููุฉ": ["ุนูุฏ ููุชูุจ", "ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู", "ููุญ ุงูุฅุฌุงุฒุงุช", "ุจูุฆุฉ ุขููุฉ", "ุฅุฎุทุงุฑ ูุณุจู"],
            "ูุฌุงูุงุช ุงูุชุญุณูู": ["ุชุญุฏูุซ ุงูุนูุฏ", "ุชุญุณูู ุงูุนูุงูุงุช", "ุชุฑุญูู ุงูุฅุฌุงุฒุงุช", "ูุนุฏุงุช ููุงูุฉ", "ุชุญุณูู ุงููุณุชุญูุงุช"],
            "ุงูุฃููููุฉ": ["ููุฎูุถุฉ", "ูุชูุณุทุฉ", "ููุฎูุถุฉ", "ุนุงููุฉ", "ูุชูุณุทุฉ"]
        }

        report_df = pd.DataFrame(compliance_report)
        st.dataframe(report_df, use_container_width=True)

        # ูุฎุทุทุงุช ุงูุชุญููู
        col1, col2 = st.columns(2)

        with col1:
            st.markdown("###### ๐ ุชูุฒูุน ูุฌุงูุงุช ุงูุชุญุณูู")
            priority_data = {
                'ุงูุฃููููุฉ': ['ุนุงููุฉ', 'ูุชูุณุทุฉ', 'ููุฎูุถุฉ'],
                'ุนุฏุฏ ุงููุฌุงูุงุช': [1, 2, 2]
            }
            priority_df = pd.DataFrame(priority_data)
            st.bar_chart(priority_df.set_index('ุงูุฃููููุฉ'))

        with col2:
            st.markdown("###### ๐ ุชุทูุฑ ุงููุถุน ุงููุธููู")
            trend_data = {
                'ุงููุชุฑุฉ': ['ุฑุจุน 1', 'ุฑุจุน 2', 'ุฑุจุน 3', 'ุฑุจุน 4'],
                'ุงูุฑุถุง ุงููุธููู': [65, 68, 72, 75],
                'ุงูุงูุชุซุงู ุงููุงูููู': [70, 75, 78, 82],
                'ุงูุชุทูุฑ ุงููููู': [60, 65, 70, 74]
            }
            trend_df = pd.DataFrame(trend_data)
            st.line_chart(trend_df.set_index('ุงููุชุฑุฉ'))

        # ุชูุงุฑูุฑ ูุงุจูุฉ ููุชุญููู
        st.markdown("###### ๐ฅ ุงูุชูุงุฑูุฑ ุงููุงุจูุฉ ููุชุญููู")

        report_types = st.columns(3)
        with report_types[0]:
            if st.button("๐ ุชูุฑูุฑ ุงูุงูุชุซุงู", use_container_width=True):
                st.success("ุฌุงุฑู ุฅูุดุงุก ุชูุฑูุฑ ุงูุงูุชุซุงู ุงููุงูููู...")
        with report_types[1]:
            if st.button("๐ ุชูุฑูุฑ ุงูุฃุฏุงุก", use_container_width=True):
                st.success("ุฌุงุฑู ุฅูุดุงุก ุชูุฑูุฑ ุงูุฃุฏุงุก ุงููุธููู...")
        with report_types[2]:
            if st.button("๐ฏ ุฎุทุฉ ุงูุชุทููุฑ", use_container_width=True):
                st.success("ุฌุงุฑู ุฅูุดุงุก ุฎุทุฉ ุงูุชุทููุฑ ุงูุดุฎุตู...")

# ==========================
# ๐ ูุธุงู ุงููุณุงุนุฏุฉ ุงูุนุงุฌูุฉ
# ==========================
def show_emergency_assistance():
    st.markdown("#### ๐ ุงููุณุงุนุฏุฉ ุงูุนุงุฌูุฉ ูุงูุทูุงุฑุฆ")

    emergency_cases = {
        "ุญุงุฏุซ ุนูู": {
            "ุฅุฌุฑุงุกุงุช ููุฑูุฉ": [
                "ุทูุจ ุงูุฅุณุนุงู ููุฑุงู: 911",
                "ุฅุจูุงุบ ุตุงุญุจ ุงูุนูู ูุจุงุดุฑุฉ",
                "ุชูุซูู ุงูุญุงุฏุซ ุจุงูุตูุฑ ูุงูููุฏูู",
                "ุงูุญุตูู ุนูู ุชูุฑูุฑ ุทุจู ููุตู",
                "ุงูุฅุจูุงุบ ููุฏูุฑูุฉ ุงูุนูู ุฎูุงู 24 ุณุงุนุฉ"
            ],
            "ุญููู ุงูุนุงูู": [
                "ุชุบุทูุฉ ูุงููุฉ ูููููุงุช ุงูุทุจูุฉ",
                "ุฃุฌุฑ ูุงูู ุฎูุงู ูุชุฑุฉ ุงูุนูุงุฌ",
                "ุชุนููุถ ุนู ุงูุนุฌุฒ ุงูุฏุงุฆู ุฅู ูุฌุฏ",
                "ุฅุฌุงุฒุฉ ูุฑุถูุฉ ูุฏููุนุฉ ุงูุฃุฌุฑ",
                "ุฅุนุงุฏุฉ ุงูุชุฃููู ุงููููู ุฅุฐุง ูุฒู"
            ],
            "ููุงููู": ["ุงููุงุฏุฉ 81: ุฅุตุงุจุงุช ุงูุนูู", "ุงููุงุฏุฉ 82: ุงูุชุนููุถุงุช", "ูุธุงู ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ"],
            "ุฌูุงุช ุงูุงุชุตุงู": ["ุงูุฅุณุนุงู: 911", "ูุฒุงุฑุฉ ุงูุนูู: 06-5802666", "ุงูุถูุงู ุงูุงุฌุชูุงุนู: 06-5521221"]
        },
        "ูุตู ุชุนุณูู": {
            "ุฅุฌุฑุงุกุงุช ููุฑูุฉ": [
                "ุทูุจ ุฃุณุจุงุจ ุงููุตู ุฎุทูุงู",
                "ุนุฏู ุงูุชูููุน ุนูู ุฃู ูุณุชูุฏุงุช ุชุญุช ุงูุถุบุท",
                "ุฌูุน ูุงูุฉ ุงููุณุชูุฏุงุช ูุงููุฑุงุณูุงุช",
                "ุงูุชูุฌู ููุฏูุฑูุฉ ุงูุนูู ุฎูุงู 30 ูููุงู",
                "ุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต"
            ],
            "ุญููู ุงูุนุงูู": [
                "ูุงูุฉ ุงููุณุชุญูุงุช ุงููุงููุฉ",
                "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ูุงููุฉ",
                "ุชุนููุถ ุงููุตู ุงูุชุนุณูู",
                "ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ",
                "ุดูุงุฏุฉ ุฎุจุฑุฉ ูุฌุงููุฉ"
            ],
            "ููุงููู": ["ุงููุงุฏุฉ 72: ุฅููุงุก ุงูุฎุฏูุฉ", "ุงููุงุฏุฉ 73: ุงููุตู ุงูุชุนุณูู", "ุงููุงุฏุฉ 74: ุงูููุงูุฃุฉ"],
            "ุฌูุงุช ุงูุงุชุตุงู": ["ูุฏูุฑูุฉ ุงูุนูู: 06-5802666", "ููุงุจุฉ ุงููุญุงููู: 06-5664111", "ูุญููุฉ ุงูุนูู"]
        },
        "ุชุญุฑุด ุฌูุณู": {
            "ุฅุฌุฑุงุกุงุช ููุฑูุฉ": [
                "ุชูุซูู ุงูุญุงุฏุซ ููุฑุงู ุจุงูุชูุตูู",
                "ุงูุฅุจูุงุบ ููุฌูุฉ ุงููุฎุชุตุฉ ูู ุงููุคุณุณุฉ",
                "ุทูุจ ุงูุญูุงูุฉ ุงูููุฑูุฉ",
                "ุงูุชูุฌู ููุดุฑุทุฉ ุฅุฐุง ูุฒู",
                "ุทูุจ ุฏุนู ููุณู ูุชุฎุตุต"
            ],
            "ุญููู ุงูุนุงูู": [
                "ุงูุญูุงูุฉ ูู ุงูุฅูุชูุงู",
                "ุชุญููู ุนุงุฌู ูุณุฑู",
                "ุชุนููุถ ุนู ุงูุถุฑุฑ ุงููุนููู",
                "ุชูููุฑ ุจูุฆุฉ ุนูู ุขููุฉ",
                "ุนููุจุงุช ุตุงุฑูุฉ ูููุชุญุฑุด"
            ],
            "ููุงููู": ["ุงููุงุฏุฉ 105 ููุฑุฑ: ุงูุชุญุฑุด ุงูุฌูุณู", "ูุงููู ุงูุนููุจุงุช", "ูุธุงู ุงูุญูุงูุฉ"],
            "ุฌูุงุช ุงูุงุชุตุงู": ["ุงูุดุฑุทุฉ: 911", "ูุฒุงุฑุฉ ุงูุนูู: 06-5802666", "ูุฑูุฒ ุงูุญูุงูุฉ: 079-0000000"]
        }
    }

    emergency_type = st.selectbox("ููุน ุงูุญุงูุฉ ุงูุทุงุฑุฆุฉ", list(emergency_cases.keys()))

    if emergency_type:
        case_info = emergency_cases[emergency_type]

        col1, col2 = st.columns(2)

        with col1:
            st.markdown("""
            <div class="emergency-card">
            <h3>๐จ ุฅุฌุฑุงุกุงุช ููุฑูุฉ</h3>
            """, unsafe_allow_html=True)
            for action in case_info["ุฅุฌุฑุงุกุงุช ููุฑูุฉ"]:
                st.write(f"โข {action}")
            st.markdown("</div>", unsafe_allow_html=True)

        with col2:
            st.markdown("""
            <div class="success-card">
            <h3>โ ุญูููู ุงููุงููููุฉ</h3>
            """, unsafe_allow_html=True)
            for right in case_info["ุญููู ุงูุนุงูู"]:
                st.write(f"โข {right}")
            st.markdown("</div>", unsafe_allow_html=True)

        st.markdown("#### ๐ ุฌูุงุช ุงูุงุชุตุงู ุงูุนุงุฌูุฉ")
        for contact in case_info["ุฌูุงุช ุงูุงุชุตุงู"]:
            st.warning(f"๐ {contact}")

        st.markdown("#### ๐ ุงูุฃุณุงุณ ุงููุงูููู")
        for law in case_info["ููุงููู"]:
            st.info(f"โ๏ธ {law}")

# ==========================
# ๐ฏ ุฅุถุงูุฉ ูุณู ุงูุนูุงู ุฅูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
# ==========================
def main():
    # ุงูุดุฑูุท ุงูุฌุงูุจู ุงููุญุฏุซ
    with st.sidebar:
        st.markdown(
            "<div style='text-align: center; padding: 1rem;'>"
            "<h2>โ๏ธ ููุตุฉ ุญู</h2>"
            "<p style='color: #666; font-size: 0.9rem;'>ุงูููุตุฉ ุงููุงููููุฉ ุงูุฐููุฉ 2025</p>"
            "<p style='color: #888; font-size: 0.8rem;'>Haqq Platform - 2025</p>"
            "</div>", 
            unsafe_allow_html=True
        )
        st.markdown("---")

        # ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ุงููุญุฏุซุฉ
        page_options = {
            "๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ": show_home_page,
            "๐ท ุงูุนูุงู": show_workers_section,  # ุชูุช ุงูุฅุถุงูุฉ
            "๐ ุฃุตุญุงุจ ุงูุนูู": show_employers_section,
            "๐ฌ ุงูุจุงุญุซูู": show_researchers_section,
            "๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ": show_calculators_section,
            "๐ ูุญุงูู ุงูุดููู": show_complaint_simulator,
            "๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ": show_authorities_section,
            "๐ ุงูุจุญุซ ูู ุงูููุงููู": show_legal_search,
            "โฐ ููุจู ุงูููุงุนูุฏ": show_reminder_system,
            "๐ ูุฏูู ุงูุงูุชุซุงู": show_compliance_checker,
            "๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู": show_rights_map,
            "๐ ููุธู ุงููุณุชูุฏุงุช": show_document_organizer,
            "๐ ูุญูู ุงูุนููุฏ": show_contract_analyzer,
            "๐จโ๐ผ ุฏููู ุงูุนูุงู ุงูุฌุฏุฏ": show_new_workers_guide,
            "๐ ุฏููู ุงูุฎุฑูุฌูู": show_graduates_guide,
            "๐ ููุตุฉ ุฏูููุฉ": show_international_platform,
            "๐ ุงููุณุงุนุฏุฉ ุงูุนุงุฌูุฉ": show_emergency_assistance,  # ุชูุช ุงูุฅุถุงูุฉ
            "โ๏ธ ุงูุฅุนุฏุงุฏุงุช": show_settings_page
        }

        selected_page = st.selectbox("ุงุฎุชุฑ ุงููุณู", list(page_options.keys()), key="main_nav")

        st.markdown("---")

        # ูุนูููุงุช ุงูุชุญุฏูุซุงุช ุงููุงููููุฉ
        st.markdown("""
        <div style='background: #E3F2FD; padding: 1rem; border-radius: 10px; border: 1px solid #90CAF9;'>
        <small>
        <strong>๐ข ุงูุชุญุฏูุซุงุช ุงูุชุดุฑูุนูุฉ 2025:</strong><br>
        โข ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ: 290 ุฏููุงุฑ<br>
        โข ุฅุฌุงุฒุฉ ุงูุฃูููุฉ: 10 ุฃุณุงุจูุน<br>
        โข ุงูุนูู ุงููุฑู: ุชูุธูู ุฌุฏูุฏ
        </small>
        </div>
        """, unsafe_allow_html=True)

        st.markdown("---")

        # ุชูููู ุนุงู
        st.markdown("""
        <div style='background: #FFF3CD; padding: 1rem; border-radius: 10px; border: 1px solid #FFEAA7;'>
        <small>
        <strong>๐ข ุชูููู ููู:</strong><br>
        ูุฐู ุงูููุตุฉ ุชูุฏู ุฎุฏูุงุช ุชูุนูุฉ ูุชุนููู ูุงูููู ุนุงู ููุท. 
        ุงููุนูููุงุช ุงูููุฏูุฉ ูุฃุบุฑุงุถ ุงูุชูุนูุฉ ููุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต.
        </small>
        </div>
        """, unsafe_allow_html=True)

        st.markdown("---")
        st.markdown("### ๐ ุงูุฏุนู ูุงููุณุงูุฏุฉ")
        st.write("๐ง support@haqq-platform.jo")
        st.write("๐ www.haqq-platform.jo")
        st.write("๐ ุงูุฃุญุฏ - ุงูุฎููุณ: 8:00 ุต - 3:00 ู")

    # ุนุฑุถ ุงูุตูุญุฉ ุงููุญุฏุฏุฉ
    if selected_page in page_options:
        try:
            page_options[selected_page]()
        except Exception as e:
            st.error(f"โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุนุฑุถ ุงูุตูุญุฉ: {e}")
            st.info("ูุฑุฌู ุชุญุฏูุซ ุงูุตูุญุฉ ุฃู ุงููุญุงููุฉ ูุงุญูุงู")

    # ุงูุชุฐููู ุงููุญุฏุซ
    st.markdown("---")
    st.markdown("""
    <center>
    <small>
    ยฉ 2025 ููุตุฉ ุญู - ุงูููุตุฉ ุงููุงููููุฉ ุงูุฐููุฉ. ุฌููุน ุงูุญููู ูุญููุธุฉ.<br>
    ูุฐู ุงูููุตุฉ ุชูุฏู ุฎุฏูุงุช ุชูุนูุฉ ูุชุนููู ูุงูููู ุนุงู ููุท ููุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต.<br>
    <strong>ูุตุงุฏุฑ ูุงููููุฉ ูุนุชูุฏุฉ:</strong> ูุงููู ุงูุนูู ุงูุฃุฑุฏูู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู 2025
    </small>
    </center>
    """, unsafe_allow_html=True)

# ==========================
# ๐ ูุณู ุฃุตุญุงุจ ุงูุนูู ุงููุชูุงูู
# ==========================
def show_employers_section():
    st.markdown("### ๐ ูุณู ุฃุตุญุงุจ ุงูุนูู - ุงููุธุงู ุงููุชูุงูู ููุฅุฏุงุฑุฉ ุงููุงููููุฉ 2025")

    employer_tabs = st.tabs([
        "๐ ุงููุธุฑุฉ ุงูุนุงูุฉ", 
        "๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ",
        "๐ ููุงุฐุฌ ูุนููุฏ",
        "๐ฐ ุงูุญุงุณุจุงุช ุงููุงููุฉ",
        "โ๏ธ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ",
        "๐ ูุฏูู ุงูุงูุชุซุงู", 
        "๐ฏ ุงูุชูููู ุงูุฐุงุชู",
        "๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช"
    ])

    with employer_tabs[0]:
        show_employers_overview()

    with employer_tabs[1]:
        show_legal_obligations()

    with employer_tabs[2]:
        show_contracts_templates()

    with employer_tabs[3]:
        show_financial_calculators()

    with employer_tabs[4]:
        show_risk_management()

    with employer_tabs[5]:
        show_compliance_checker()

    with employer_tabs[6]:
        show_employer_self_assessment()

    with employer_tabs[7]:
        show_employers_reports()

# ==========================
# ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ ูุฃุตุญุงุจ ุงูุนูู
# ==========================
def show_employers_overview():
    st.markdown("#### ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ - ุงูุฅุฏุงุฑุฉ ุงููุงููููุฉ ุงููุชูุงููุฉ")

    # ุจุทุงูุฉ ุงููุคุณุณุฉ ุงูุณุฑูุนุฉ
    col1, col2, col3, col4 = st.columns(4)

    with col1:
        st.metric("ุงูููุธููู", "47", "3")
    with col2:
        st.metric("ูุนุฏู ุงูุงูุชุซุงู", "82%", "5%")
    with col3:
        st.metric("ุงููุฎุงุทุฑ ุงููุดุทุฉ", "2", "-1")
    with col4:
        st.metric("ุงูุชุญุฏูุซุงุช ุงููุงููููุฉ", "5", "2 ุฌุฏูุฏุฉ")

    # ุชุญุฏูุซุงุช 2025
    st.markdown("#### ๐ข ุชุญุฏูุซุงุช 2025 ูุฃุตุญุงุจ ุงูุนูู")

    col1, col2 = st.columns(2)

    with col1:
        st.markdown("""
        <div class="info-card">
        <h4>๐ ุฃุจุฑุฒ ุงูุชุนุฏููุงุช ุงูุชุดุฑูุนูุฉ</h4>
        <ul>
        <li>๐ฐ <strong>ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ:</strong> 290 ุฏููุงุฑ ูููุคูููู</li>
        <li>๐ก๏ธ <strong>ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด:</strong> ุฅุฌุฑุงุกุงุช ุฅูุฒุงููุฉ ุฌุฏูุฏุฉ</li>
        <li>๐ฅ <strong>ุฅุฌุงุฒุฉ ุงูุฃูููุฉ:</strong> 10 ุฃุณุงุจูุน ูุฏููุนุฉ ุงูุฃุฌุฑ</li>
        <li>๐ <strong>ุงูุนูู ุนู ุจูุนุฏ:</strong> ุชูุธูู ูุงูููู ุฌุฏูุฏ</li>
        <li>๐ <strong>ุงูุฅุจูุงุบ ุงูุฅููุชุฑููู:</strong> ุชุจุณูุท ุงูุฅุฌุฑุงุกุงุช</li>
        </ul>
        </div>
        """, unsafe_allow_html=True)

    with col2:
        st.markdown("""
        <div class="success-card">
        <h4>โ ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ ููุฑุงู</h4>
        <ul>
        <li>ูุฑุงุฌุนุฉ ูููู ุงูุฑูุงุชุจ ูุชุญุฏูุซู</li>
        <li>ุงุนุชูุงุฏ ุณูุงุณุงุช ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด</li>
        <li>ุชุญุฏูุซ ุนููุฏ ุงูุนูู ุญุณุจ ุงูุชุนุฏููุงุช</li>
        <li>ุชุฏุฑูุจ ุงููุณุคูููู ุนูู ุงูุชุดุฑูุนุงุช ุงูุฌุฏูุฏุฉ</li>
        <li>ุงูุชุฃูุฏ ูู ูุธุงู ุงูุฅุจูุงุบ ุงูุฅููุชุฑููู</li>
        </ul>
        </div>
        """, unsafe_allow_html=True)

    # ูุคุดุฑุงุช ุฃุฏุงุก ุณุฑูุนุฉ
    st.markdown("#### ๐ ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฑุฆูุณูุฉ")

    kpi_cols = st.columns(4)
    with kpi_cols[0]:
        st.metric("ุงูุงูุชุซุงู ุงููุงูู", "95%", "2%")
    with kpi_cols[1]:
        st.metric("ุงูุงูุชุซุงู ุงูุชุนุงูุฏู", "88%", "5%")
    with kpi_cols[2]:
        st.metric("ุงูุณูุงูุฉ ุงูููููุฉ", "92%", "3%")
    with kpi_cols[3]:
        st.metric("ุฑุถุง ุงูููุธููู", "85%", "4%")

    # ุงูุชูุจููุงุช ุงูุนุงุฌูุฉ
    st.markdown("#### ๐ ุชูุจููุงุช ุนุงุฌูุฉ")

    alerts = [
        {"ููุน": "โฐ ููุนุฏ", "ูุตู": "ุชูุฏูู ุฅูุฑุงุฑุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู", "ุชุงุฑูุฎ": "15/02/2025"},
        {"ููุน": "โ๏ธ ูุงูููู", "ูุตู": "ุชุญุฏูุซ ุณูุงุณุงุช ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด", "ุชุงุฑูุฎ": "28/02/2025"},
        {"ููุน": "๐ฐ ูุงูู", "ูุตู": "ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู ุงูุฌุฏูุฏ ููุฃุฌูุฑ", "ุชุงุฑูุฎ": "ููุฑู"}
    ]

    for alert in alerts:
        st.warning(f"{alert['ููุน']} {alert['ูุตู']} - {alert['ุชุงุฑูุฎ']}")

# ==========================
# ๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ุงูุดุงููุฉ
# ==========================
def show_legal_obligations():
    st.markdown("#### ๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ุงูุดุงููุฉ 2025")

    obligations_tabs = st.tabs(["ุงูุชูุธูู", "ุงูุฃุฌูุฑ", "ุงูุณูุงูุฉ", "ุฅููุงุก ุงูุฎุฏูุฉ"])

    with obligations_tabs[0]:
        st.markdown("##### ๐ ุงูุชุฒุงูุงุช ุงูุชูุธูู ูุงูุชุนุงูุฏ")

        hiring_obligations = [
            {
                "ุงูุงูุชุฒุงู": "ุชูููุฑ ุนูุฏ ุนูู ููุชูุจ",
                "ุงูุชูุงุตูู": "ูุฌุจ ุชูููุน ุนูุฏ ุนูู ููุชูุจ ูุจู ุจุฏุก ุงูุฎุฏูุฉ",
                "ุงููููุฉ": "ูุจู ุงูุจุฏุก ุจุงูุนูู",
                "ุงููุงููู": "ุงููุงุฏุฉ 13",
                "ุงูุนููุจุฉ": "ุบุฑุงูุฉ 500-1000 ุฏููุงุฑ"
            },
            {
                "ุงูุงูุชุฒุงู": "ุงูุชุฃูุฏ ูู ุฃูููุฉ ุงูุนุงูู",
                "ุงูุชูุงุตูู": "ุงูุชุญูู ูู ุงูุดูุงุฏุงุช ูุงููุคููุงุช ูุงูุฎูููุฉ",
                "ุงููููุฉ": "ูุจู ุงูุชุนุงูุฏ",
                "ุงููุงููู": "ุงููุงุฏุฉ 16",
                "ุงูุนููุจุฉ": "ุบุฑุงูุฉ 300 ุฏููุงุฑ"
            },
            {
                "ุงูุงูุชุฒุงู": "ุชุณุฌูู ุงูุนุงูู ูู ุงูุถูุงู",
                "ุงูุชูุงุตูู": "ุชุณุฌูู ุงูุนุงูู ูู ูุคุณุณุฉ ุงูุถูุงู ุงูุงุฌุชูุงุนู",
                "ุงููููุฉ": "ุฎูุงู 7 ุฃูุงู ูู ุงูุชุนููู",
                "ุงููุงููู": "ุงููุงุฏุฉ 81",
                "ุงูุนููุจุฉ": "ุบุฑุงูุฉ 5% ุดูุฑูุงู"
            },
            {
                "ุงูุงูุชุฒุงู": "ููุงุฆุญ ุงูุนูู ุงูุฏุงุฎููุฉ",
                "ุงูุชูุงุตูู": "ุฅุนุฏุงุฏ ููุงุฆุญ ุชูุธูู ุงูุนูู ููุดุฑูุง",
                "ุงููููุฉ": "30 ูููุงู ูู ุจุฏุก ุงููุดุงุท",
                "ุงููุงููู": "ุงููุงุฏุฉ 27",
                "ุงูุนููุจุฉ": "ุบุฑุงูุฉ 200 ุฏููุงุฑ"
            }
        ]

        for obligation in hiring_obligations:
            with st.expander(f"๐ {obligation['ุงูุงูุชุฒุงู']}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูุชูุงุตูู:** {obligation['ุงูุชูุงุตูู']}")
                    st.write(f"**ุงููููุฉ:** {obligation['ุงููููุฉ']}")
                with col2:
                    st.write(f"**ุงููุงููู:** {obligation['ุงููุงููู']}")
                    st.write(f"**ุงูุนููุจุฉ:** {obligation['ุงูุนููุจุฉ']}")

                st.progress(75)  # ูุคุดุฑ ุงูุงูุชุซุงู
                st.caption(f"ูุณุชูู ุงูุงูุชุซุงู ุงูุญุงูู: 75%")

    with obligations_tabs[1]:
        st.markdown("##### ๐ฐ ุงูุชุฒุงูุงุช ุงูุฃุฌูุฑ ูุงููุณุชุญูุงุช ุงููุงููุฉ")

        financial_obligations = [
            {
                "ุงูุงูุชุฒุงู": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                "ุงููุจูุบ": "290 ุฏููุงุฑ",
                "ุงูุชูุงุตูู": "ูููุคูููู ุฌุงูุนูุงูุ 250 ุฏููุงุฑ ูุบูุฑ ุงููุคูููู",
                "ุงููุงููู": "ุงููุงุฏุฉ 35",
                "ุงูุญุงูุฉ": "๐ ูุญุฏุซ 2025"
            },
            {
                "ุงูุงูุชุฒุงู": "ููุนุฏ ุตุฑู ุงูุฑูุงุชุจ",
                "ุงููุจูุบ": "-",
                "ุงูุชูุงุตูู": "ุฎูุงู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑ",
                "ุงููุงููู": "ุงููุงุฏุฉ 55", 
                "ุงูุญุงูุฉ": "โ ุณุงุฑู"
            },
            {
                "ุงูุงูุชุฒุงู": "ุจุฏู ุงูุนูู ุงูุฅุถุงูู",
                "ุงููุจูุบ": "125%-150%",
                "ุงูุชูุงุตูู": "125% ููููุงุฑูุ 150% ูููููู ูุงูุนุทูุงุช",
                "ุงููุงููู": "ุงููุงุฏุฉ 42",
                "ุงูุญุงูุฉ": "โ ุณุงุฑู"
            },
            {
                "ุงูุงูุชุฒุงู": "ุงูุงุณุชูุทุงุนุงุช ุงููุณููุญุฉ",
                "ุงููุจูุบ": "ุญุฏ ุฃูุตู 50%",
                "ุงูุชูุงุตูู": "ุดุฑูุทุฉ ุฃูุง ููู ุงูุตุงูู ุนู 50% ูู ุงูุฑุงุชุจ",
                "ุงููุงููู": "ุงููุงุฏุฉ 56",
                "ุงูุญุงูุฉ": "โ ุณุงุฑู"
            }
        ]

        for obligation in financial_obligations:
            with st.expander(f"๐ฐ {obligation['ุงูุงูุชุฒุงู']}"):
                col1, col2, col3 = st.columns([2, 1, 1])
                with col1:
                    st.write(f"**ุงูุชูุงุตูู:** {obligation['ุงูุชูุงุตูู']}")
                    if obligation['ุงููุจูุบ'] != "-":
                        st.write(f"**ุงููุจูุบ:** {obligation['ุงููุจูุบ']}")
                with col2:
                    st.write(f"**ุงููุงููู:** {obligation['ุงููุงููู']}")
                with col3:
                    st.write(f"**ุงูุญุงูุฉ:** {obligation['ุงูุญุงูุฉ']}")

    with obligations_tabs[3]:
        st.markdown("##### โ๏ธ ุงูุชุฒุงูุงุช ุฅููุงุก ุงูุฎุฏูุฉ")

        termination_obligations = [
            {
                "ุงูุงูุชุฒุงู": "ูุชุฑุฉ ุงูุฅุฎุทุงุฑ ุงููุณุจู",
                "ุงููุฏุฉ": "ุญุณุจ ูุฏุฉ ุงูุฎุฏูุฉ",
                "ุงูุชูุงุตูู": "ุฃุณุจูุน ููู ุณูุฉ ุฎุฏูุฉุ ุจุญุฏ ุฃูุตู 8 ุฃุณุงุจูุน",
                "ุงููุงููู": "ุงููุงุฏุฉ 72",
                "ุงูุชุนููุถ": "ุฃุฌุฑ ุงููุชุฑุฉ ูู ุญุงูุฉ ุนุฏู ุงูุฅุฎุทุงุฑ"
            },
            {
                "ุงูุงูุชุฒุงู": "ุตุฑู ุงููุณุชุญูุงุช",
                "ุงููุฏุฉ": "7 ุฃูุงู",
                "ุงูุชูุงุตูู": "ุตุฑู ูุงูุฉ ุงููุณุชุญูุงุช ุงููุณุชุญูุฉ",
                "ุงููุงููู": "ุงููุงุฏุฉ 77", 
                "ุงูุชุนููุถ": "ูุงุฆุฏุฉ 8% ุณูููุงู ุนูู ุงููุชุฃุฎุฑ"
            },
            {
                "ุงูุงูุชุฒุงู": "ุดูุงุฏุฉ ุงูุฎุจุฑุฉ",
                "ุงููุฏุฉ": "ุนูุฏ ุงูุทูุจ",
                "ุงูุชูุงุตูู": "ููุญ ุดูุงุฏุฉ ุฎุจุฑุฉ ูุฌุงููุฉ ููุนุงูู",
                "ุงููุงููู": "ุงููุงุฏุฉ 78",
                "ุงูุชุนููุถ": "ุบุฑุงูุฉ 100 ุฏููุงุฑ"
            }
        ]

        for obligation in termination_obligations:
            with st.expander(f"โ๏ธ {obligation['ุงูุงูุชุฒุงู']}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงููุฏุฉ:** {obligation['ุงููุฏุฉ']}")
                    st.write(f"**ุงูุชูุงุตูู:** {obligation['ุงูุชูุงุตูู']}")
                with col2:
                    st.write(f"**ุงููุงููู:** {obligation['ุงููุงููู']}")
                    st.write(f"**ุงูุชุนููุถ:** {obligation['ุงูุชุนููุถ']}")

# ==========================
# ๐ ููุงุฐุฌ ูุนููุฏ ุฌุงูุฒุฉ
# ==========================
def show_contracts_templates():
    st.markdown("#### ๐ ููุงุฐุฌ ูุนููุฏ ุฌุงูุฒุฉ - ูุญุฏุซุฉ 2025")

    contracts_tabs = st.tabs(["ุนููุฏ ุงูุนูู", "ุงููุฑุงุฑุงุช ุงูุฅุฏุงุฑูุฉ", "ุงูุฅุดุนุงุฑุงุช", "ุงูุชูููุถุงุช"])

    with contracts_tabs[0]:
        st.markdown("##### ๐ ููุงุฐุฌ ุนููุฏ ุงูุนูู")

        contract_types = [
            {
                "ุงูููุน": "ุนูุฏ ุนูู ุฏุงุฆู",
                "ุงููุตู": "ููุนุงูููู ุงูุฏุงุฆููู ุจุฏูุงู ูุงูู",
                "ุงูุชุญุฏูุซ": "๐ 2025",
                "ุงููููุงุช": "15 ุตูุญุฉ"
            },
            {
                "ุงูููุน": "ุนูุฏ ุนูู ูุคูุช", 
                "ุงููุตู": "ูููุดุงุฑูุน ุงููุคูุชุฉ ูุงูุนููุฏ ุงููุญุฏุฏุฉ",
                "ุงูุชุญุฏูุซ": "๐ 2025",
                "ุงููููุงุช": "12 ุตูุญุฉ"
            },
            {
                "ุงูููุน": "ุนูุฏ ุนูู ุฌุฒุฆู",
                "ุงููุตู": "ููุนุงูููู ุจุฏูุงู ุฌุฒุฆู",
                "ุงูุชุญุฏูุซ": "โ ุณุงุฑู",
                "ุงููููุงุช": "10 ุตูุญุงุช"
            },
            {
                "ุงูููุน": "ุนูุฏ ุนูู ุนู ุจูุนุฏ",
                "ุงููุตู": "ููุนุงูููู ุนู ุจุนุฏ ุญุณุจ ุงูุชูุธูู ุงูุฌุฏูุฏ",
                "ุงูุชุญุฏูุซ": "๐ 2025", 
                "ุงููููุงุช": "14 ุตูุญุฉ"
            }
        ]

        cols = st.columns(2)
        for idx, contract in enumerate(contract_types):
            with cols[idx % 2]:
                st.markdown(f"""
                <div class="feature-card">
                    <h4>{contract['ุงูููุน']}</h4>
                    <p>{contract['ุงููุตู']}</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="background: #E3F2FD; padding: 0.3rem 0.7rem; border-radius: 15px; font-size: 0.8rem;">
                            {contract['ุงูุชุญุฏูุซ']}
                        </span>
                        <span style="color: #666; font-size: 0.9rem;">{contract['ุงููููุงุช']}</span>
                    </div>
                </div>
                """, unsafe_allow_html=True)

                col1, col2 = st.columns(2)
                with col1:
                    if st.button(f"๐ฅ ุชุญููู", key=f"download_{idx}"):
                        st.success(f"ุฌุงุฑู ุชุญููู {contract['ุงูููุน']}")
                with col2:
                    if st.button(f"โ๏ธ ุชุฎุตูุต", key=f"customize_{idx}"):
                        st.info(f"ูุชุญ ูุญุฑุฑ {contract['ุงูููุน']}")

        st.markdown("---")
        st.markdown("##### ๐ฏ ููุดุฆ ุงูุนููุฏ ุงูุฐูู")

        col1, col2 = st.columns(2)

        with col1:
            contract_basics = {
                "ููุน ุงูุนูุฏ": st.selectbox("ููุน ุงูุนูุฏ", ["ุฏุงุฆู", "ูุคูุช", "ุฌุฒุฆู", "ุนูู ุนู ุจูุนุฏ"]),
                "ูุฏุฉ ุงูุนูุฏ": st.text_input("ูุฏุฉ ุงูุนูุฏ", placeholder="ูุซุงู: ุณูุฉ ูุงุญุฏุฉ"),
                "ุงูุฑุงุชุจ ุงูุฃุณุงุณู": st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", min_value=290, value=500),
                "ูุชุฑุฉ ุงูุชุฌุฑุจุฉ": st.selectbox("ูุชุฑุฉ ุงูุชุฌุฑุจุฉ", ["3 ุฃุดูุฑ", "6 ุฃุดูุฑ", "ูุง ููุฌุฏ"])
            }

        with col2:
            contract_details = {
                "ุณุงุนุงุช ุงูุนูู": st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฃุณุจูุนูุฉ", value=48),
                "ููุงู ุงูุนูู": st.text_input("ููุงู ุงูุนูู", placeholder="ุงูููุฑ ุงูุฑุฆูุณู"),
                "ุงููุฒุงูุง ุงูุฅุถุงููุฉ": st.multiselect("ุงููุฒุงูุง ุงูุฅุถุงููุฉ", ["ุชุฃููู ุตุญู", "ููุงุตูุงุช", "ุจุฏู ุณูู", "ุจุฏู ุทุนุงู"]),
                "ุงูุฅุฌุงุฒุงุช": st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", value=14)
            }

        if st.button("๐ ุฅูุดุงุก ุงูุนูุฏ ุชููุงุฆูุงู", type="primary"):
            st.success("โ ุชู ุฅูุดุงุก ุงูุนูุฏ ุจูุฌุงุญ!")
            st.download_button(
                "๐ ุชุญููู ุงูุนูุฏ ุงูููุงุฆู",
                data="ูุญุชูู ุงูุนูุฏ ุงููููุฏ...",
                file_name=f"ุนูุฏ_ุนูู_{contract_basics['ููุน ุงูุนูุฏ']}.docx",
                mime="application/vnd.openxmlformats-officedocument.wordprocessingml.document"
            )

# ==========================
# ๐ฐ ุงูุญุงุณุจุงุช ุงููุงููุฉ ุงููุชูุงููุฉ
# ==========================
def show_financial_calculators():
    st.markdown("#### ๐ฐ ุงูุญุงุณุจุงุช ุงููุงููุฉ ุงููุชูุงููุฉ ูุฃุตุญุงุจ ุงูุนูู")

    calc_tabs = st.tabs(["ูุดูู ุงูุฑูุงุชุจ", "ุงูุชุฃูููุงุช", "ุงูุถุฑุงุฆุจ", "ุงููุณุชุญูุงุช"])

    with calc_tabs[0]:
        st.markdown("##### ๐งฎ ุญุงุณุจุฉ ูุดูู ุงูุฑูุงุชุจ")

        col1, col2 = st.columns(2)

        with col1:
            basic_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", min_value=290, value=500, key="payroll_salary")
            overtime_hours = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู", value=10, key="payroll_overtime")
            allowances = st.number_input("ุงูุจุฏูุงุช ุงูุฅุถุงููุฉ", value=50, key="payroll_allowances")

        with col2:
            deductions = st.number_input("ุงูุงุณุชูุทุงุนุงุช", value=0, key="payroll_deductions")
            absent_days = st.number_input("ุฃูุงู ุงูุบูุงุจ", value=0, key="payroll_absent")
            working_days = st.number_input("ุฃูุงู ุงูุนูู ุงููุนููุฉ", value=26, key="payroll_working")

        if st.button("๐งฎ ุงุญุชุณุงุจ ุงูุฑุงุชุจ", key="calculate_payroll"):
            hourly_rate = basic_salary / (30 * 8)
            overtime_pay = overtime_hours * hourly_rate * 1.25
            daily_rate = basic_salary / 30
            absent_deduction = absent_days * daily_rate
            actual_salary = basic_salary + overtime_pay + allowances - deductions - absent_deduction

            st.success(f"""
            ## ๐ฐ ูุชุงุฆุฌ ุงุญุชุณุงุจ ุงูุฑุงุชุจ
            
            **ุงูุชูุงุตูู:**
            - ๐ผ ุงูุฑุงุชุจ ุงูุฃุณุงุณู: **{basic_salary:,.0f}** ุฏููุงุฑ
            - โฐ ุจุฏู ุงูุนูู ุงูุฅุถุงูู: **{overtime_pay:,.0f}** ุฏููุงุฑ
            - ๐ ุงูุจุฏูุงุช ุงูุฅุถุงููุฉ: **{allowances:,.0f}** ุฏููุงุฑ
            - ๐ ุงูุงุณุชูุทุงุนุงุช: **{deductions:,.0f}** ุฏููุงุฑ
            - โ ุฎุตู ุงูุบูุงุจ: **{absent_deduction:,.0f}** ุฏููุงุฑ
            
            **๐ฐ ุตุงูู ุงูุฑุงุชุจ ุงููุณุชุญู:** **{actual_salary:,.0f}** ุฏููุงุฑ
            
            **ููุงุญุธุงุช ูุงููููุฉ:**
            - ูุฌุจ ุฃูุง ููู ุงูุตุงูู ุนู 50% ูู ุงูุฑุงุชุจ ุงูุฃุณุงุณู
            - ูุฌุจ ุชูุซูู ูุดูู ุงูุฑูุงุชุจ ููุฏุฉ 3 ุณููุงุช
            """)

    with calc_tabs[1]:
        st.markdown("##### ๐๏ธ ุญุงุณุจุฉ ุงุดุชุฑุงูุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู")

        col1, col2 = st.columns(2)

        with col1:
            employee_salary = st.number_input("ุฑุงุชุจ ุงูููุธู (ุฏููุงุฑ)", value=500, key="social_salary")
            employee_percentage = st.slider("ูุณุจุฉ ุงูููุธู (%)", 5.0, 10.0, 7.5, key="social_emp")

        with col2:
            employer_percentage = st.slider("ูุณุจุฉ ุตุงุญุจ ุงูุนูู (%)", 10.0, 20.0, 14.25, key="social_employer")
            max_salary = st.number_input("ุงูุญุฏ ุงูุฃูุตู ููุฃุฌุฑ ุงูุฎุงุถุน (ุฏููุงุฑ)", value=2000, key="social_max")

        if st.button("๐งฎ ุงุญุชุณุงุจ ุงูุงุดุชุฑุงูุงุช", key="calculate_social"):
            base_salary = min(employee_salary, max_salary)
            employee_share = base_salary * (employee_percentage / 100)
            employer_share = base_salary * (employer_percentage / 100)
            total_share = employee_share + employer_share

            st.success(f"""
            ## ๐๏ธ ูุชุงุฆุฌ ุงุดุชุฑุงูุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู
            
            **ุงูุฑุงุชุจ ุงูุฎุงุถุน ููุงุดุชุฑุงู:** **{base_salary:,.0f}** ุฏููุงุฑ
            
            **ุงูุงุดุชุฑุงูุงุช:**
            - ๐จโ๐ผ ุญุตุฉ ุงูููุธู ({employee_percentage}%): **{employee_share:,.0f}** ุฏููุงุฑ
            - ๐ ุญุตุฉ ุตุงุญุจ ุงูุนูู ({employer_percentage}%): **{employer_share:,.0f}** ุฏููุงุฑ
            - ๐ฐ ุงูุฅุฌูุงูู: **{total_share:,.0f}** ุฏููุงุฑ
            
            **ุงููุณุชุญู ุตุฑูู:**
            - ๐ค ุตุงูู ุฑุงุชุจ ุงูููุธู: **{employee_salary - employee_share:,.0f}** ุฏููุงุฑ
            - ๐ฅ ุงููุจูุบ ุงููุณุชุญู ููุถูุงู: **{total_share:,.0f}** ุฏููุงุฑ
            """)

# ==========================
# โ๏ธ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ ุงููุงููููุฉ
# ==========================
def show_risk_management():
    st.markdown("#### โ๏ธ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ ุงููุงููููุฉ ูุงููุฎุงููุงุช")

    risk_tabs = st.tabs(["ุงููุฎุงุทุฑ ุงููุดุทุฉ", "ุงูุชูููู", "ุงูุฎุทุท ุงูุนูุงุฌูุฉ", "ุงูุชุฃูููุงุช"])

    with risk_tabs[0]:
        st.markdown("##### ๐ ุงููุฎุงุทุฑ ุงููุงููููุฉ ุงููุดุทุฉ")

        active_risks = [
            {
                "ุงููุฎุงุทุฑุฉ": "ุชุฃุฎุฑ ุชุญุฏูุซ ุนููุฏ ุงูุนูู",
                "ุงููุณุชูู": "๐ก ูุชูุณุท",
                "ุงูุชุฃุซูุฑ": "ูุฎุงููุงุช ุชุนุงูุฏูุฉ",
                "ุงูุงุญุชูุงููุฉ": "60%",
                "ุงูุฅุฌุฑุงุก": "ุชุญุฏูุซ ุฌููุน ุงูุนููุฏ ุฎูุงู 30 ููู"
            },
            {
                "ุงููุฎุงุทุฑุฉ": "ุนุฏู ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู ุงูุฌุฏูุฏ",
                "ุงููุณุชูู": "๐ด ุนุงูู", 
                "ุงูุชุฃุซูุฑ": "ุบุฑุงูุงุช ูุงููุฉ ูุดูุงูู",
                "ุงูุงุญุชูุงููุฉ": "40%",
                "ุงูุฅุฌุฑุงุก": "ูุฑุงุฌุนุฉ ูููู ุงูุฑูุงุชุจ ููุฑุงู"
            },
            {
                "ุงููุฎุงุทุฑุฉ": "ููุต ุชุฏุงุจูุฑ ุงูุณูุงูุฉ",
                "ุงููุณุชูู": "๐ ูุฑุชูุน",
                "ุงูุชุฃุซูุฑ": "ุฅุตุงุจุงุช ุนูู ููุฎุงููุงุช",
                "ุงูุงุญุชูุงููุฉ": "30%",
                "ุงูุฅุฌุฑุงุก": "ุชูููุฑ ูุนุฏุงุช ุงูุณูุงูุฉ ุฎูุงู 15 ููู"
            }
        ]

        for risk in active_risks:
            with st.expander(f"{risk['ุงููุณุชูู']} {risk['ุงููุฎุงุทุฑุฉ']}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูุชุฃุซูุฑ:** {risk['ุงูุชุฃุซูุฑ']}")
                    st.write(f"**ุงูุงุญุชูุงููุฉ:** {risk['ุงูุงุญุชูุงููุฉ']}")
                with col2:
                    st.write(f"**ุงูุฅุฌุฑุงุก ุงููุทููุจ:** {risk['ุงูุฅุฌุฑุงุก']}")
                    if st.button("โ ูุนุงูุฌุฉ", key=f"resolve_{risk['ุงููุฎุงุทุฑุฉ']}"):
                        st.success("ุชู ุชุณุฌูู ุงููุนุงูุฌุฉ")

    with risk_tabs[1]:
        st.markdown("##### ๐ ุชูููู ุงููุฎุงุทุฑ ุงููุงููููุฉ")

        risk_categories = {
            "ุงููุฎุงุทุฑ ุงููุงููุฉ": [
                "ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ",
                "ุนุฏู ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", 
                "ุฃุฎุทุงุก ูู ุญุณุงุจ ุงููุณุชุญูุงุช",
                "ุชุฃุฎูุฑ ุชุณุฏูุฏ ุงูุงุดุชุฑุงูุงุช"
            ],
            "ุงููุฎุงุทุฑ ุงูุชุนุงูุฏูุฉ": [
                "ุนููุฏ ุบูุฑ ููุชููุฉ",
                "ุจููุฏ ูุฎุงููุฉ ูููุงููู",
                "ุนุฏู ุชุญุฏูุซ ุงูุนููุฏ",
                "ููุต ุงูุชูุซูู"
            ],
            "ูุฎุงุทุฑ ุงูุณูุงูุฉ": [
                "ููุต ูุนุฏุงุช ุงูููุงูุฉ",
                "ุนุฏู ุงูุชุฏุฑูุจ ุนูู ุงูุณูุงูุฉ",
                "ุบูุงุจ ุงูุฅุฌุฑุงุกุงุช ุงูุทุงุฑุฆุฉ", 
                "ุนุฏู ุงูุฅุจูุงุบ ุนู ุงูุญูุงุฏุซ"
            ]
        }

        total_score = 0
        max_score = 0

        for category, risks in risk_categories.items():
            with st.expander(f"๐ {category}"):
                for risk in risks:
                    score = st.slider(
                        f"ุชูููู ูุฎุงุทุฑุฉ: {risk}",
                        1, 5, 3,
                        key=f"risk_{category}_{risk}"
                    )
                    total_score += score
                    max_score += 5

        if max_score > 0:
            risk_level = (total_score / max_score) * 100

            st.markdown(f"### ๐ฏ ูุณุชูู ุงููุฎุงุทุฑ ุงูููู: {risk_level:.1f}%")

            if risk_level >= 80:
                st.error("๐จ ูุณุชูู ุนุงูู ุฌุฏุงู - ูุญุชุงุฌ ุชุฏุฎู ุนุงุฌู")
            elif risk_level >= 60:
                st.warning("โ๏ธ ูุณุชูู ูุฑุชูุน - ูุญุชุงุฌ ุชุญุณููุงุช ุณุฑูุนุฉ")
            elif risk_level >= 40:
                st.info("๐ต ูุณุชูู ูุชูุณุท - ูุญุชุงุฌ ูุชุงุจุนุฉ")
            else:
                st.success("โ ูุณุชูู ููุฎูุถ - ุฃุฏุงุก ุฌูุฏ")

# ==========================
# ๐ฏ ูุธุงู ุงูุชูููู ุงูุฐุงุชู ูุฃุตุญุงุจ ุงูุนูู
# ==========================
def show_employer_self_assessment():
    st.markdown("#### ๐ฏ ุงูุชูููู ุงูุฐุงุชู ุงูุดุงูู ููุงูุชุซุงู ุงููุงูููู")

    assessment_tabs = st.tabs(["ุจุฏุก ุงูุชูููู", "ุงููุชุงุฆุฌ", "ุฎุทุฉ ุงูุชุญุณูู", "ุงูููุงุฑูุงุช"])

    with assessment_tabs[0]:
        st.markdown("##### ๐ ุงุณุชุจูุงู ุงูุชูููู ุงูุฐุงุชู")

        assessment_areas = {
            "ุงูุชูุธูู ูุงูุชุนุงูุฏ": [
                "ูู ุชูุฌุฏ ุนููุฏ ุนูู ููุชูุจุฉ ูุฌููุน ุงูุนุงููููุ - ุงููุงุฏุฉ 13",
                "ูู ูุชู ุชุญุฏูุซ ุงูุนููุฏ ุญุณุจ ุงูุชุนุฏููุงุช ุงููุงููููุฉุ - ุงููุงุฏุฉ 15",
                "ูู ูุชู ุชุณุฌูู ุงูุนุงูููู ูู ุงูุถูุงู ุงูุงุฌุชูุงุนูุ - ุงููุงุฏุฉ 81",
                "ูู ุชูุฌุฏ ููุงุฆุญ ุนูู ุฏุงุฎููุฉ ูุนุชูุฏุฉุ - ุงููุงุฏุฉ 27"
            ],
            "ุงูุฃุฌูุฑ ูุงููุณุชุญูุงุช": [
                "ูู ูุชู ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ 290 ุฏููุงุฑุ - ุงููุงุฏุฉ 35",
                "ูู ุชุตุฑู ุงูุฑูุงุชุจ ุฎูุงู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑุ - ุงููุงุฏุฉ 55", 
                "ูู ูุชู ุญุณุงุจ ุจุฏู ุงูุนูู ุงูุฅุถุงูู correctlyุ - ุงููุงุฏุฉ 42",
                "ูู ุชููุญ ุงูุนูุงูุงุช ุงูุฏูุฑูุฉุ - ุงููุงุฏุฉ 37"
            ],
            "ุธุฑูู ุงูุนูู": [
                "ูู ุชูุชุฒู ุจุณุงุนุงุช ุงูุนูู ุงููุงููููุฉ (48 ุณุงุนุฉ)ุ - ุงููุงุฏุฉ 46",
                "ูู ุชููุญ ุงูุฅุฌุงุฒุงุช ุงูุณูููุฉ ุงููุณุชุญูุฉุ - ุงููุงุฏุฉ 52",
                "ูู ุชููุฑ ูุชุฑุงุช ุงูุฑุงุญุฉ ุงููุงููููุฉุ - ุงููุงุฏุฉ 47", 
                "ูู ุชูุชุฒู ุจุชูุธูู ุงูุนูู ุงูุฅุถุงููุ - ุงููุงุฏุฉ 42"
            ],
            "ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ": [
                "ูู ุชููุฑ ูุนุฏุงุช ุงูููุงูุฉ ุงูุดุฎุตูุฉุ - ุงููุงุฏุฉ 79",
                "ูู ุชุฌุฑู ุชุฏุฑูุจุงุช ููุชุธูุฉ ุนูู ุงูุณูุงูุฉุ - ุงููุงุฏุฉ 80",
                "ูู ุชูุฌุฏ ุฅุฌุฑุงุกุงุช ููุทูุงุฑุฆ ูุงูุญูุงุฏุซุ - ุงููุงุฏุฉ 83",
                "ูู ุชุฌุฑู ุงููุญูุต ุงูุทุจูุฉ ุงูุฏูุฑูุฉุ - ุงููุงุฏุฉ 81"
            ]
        }

        assessment_results = {}

        for area, questions in assessment_areas.items():
            with st.expander(f"๐ {area}", expanded=True):
                area_score = 0
                area_max = len(questions) * 3

                for question in questions:
                    q_text, q_law = question.split(" - ")
                    response = st.radio(
                        q_text,
                        options=["ุบูุฑ ูุทุงุจู", "ุจุญุงุฌุฉ ุชุญุณูู", "ูุทุงุจู ุฌุฒุฆูุงู", "ูุทุงุจู ูููุงู"],
                        index=1,
                        key=f"emp_assess_{area}_{q_text}"
                    )

                    points_map = {
                        "ุบูุฑ ูุทุงุจู": 0, 
                        "ุจุญุงุฌุฉ ุชุญุณูู": 1, 
                        "ูุทุงุจู ุฌุฒุฆูุงู": 2, 
                        "ูุทุงุจู ูููุงู": 3
                    }

                    points = points_map[response]
                    area_score += points

                    st.caption(f"๐ {q_law}")

                area_percentage = (area_score / area_max) * 100
                assessment_results[area] = area_percentage

                st.progress(area_percentage / 100)
                st.write(f"**ูุชูุฌุฉ {area}: {area_percentage:.1f}%**")

        if assessment_results:
            total_percentage = sum(assessment_results.values()) / len(assessment_results)

            st.markdown(f"### ๐ ุงููุชูุฌุฉ ุงูุฅุฌูุงููุฉ: {total_percentage:.1f}%")

            # ุชุญููู ุงููุชูุฌุฉ
            if total_percentage >= 90:
                st.success("""
                ๐ **ููุชุงุฒ - ูุณุชูู ุงูุชุซุงู ูุชููุฒ**
                - ุฃูุช ููุชุฒู ุจุดูู ููุชุงุฒ ุจุฌููุน ุงููุชุทูุจุงุช ุงููุงููููุฉ
                - ุงุณุชูุฑ ูู ุงููุชุงุจุนุฉ ูุงูุชุทููุฑ ุงููุณุชูุฑ
                - ููููู ุงูุชูุฏู ููุญุตูู ุนูู ุดูุงุฏุงุช ุชููุฒ
                """)
            elif total_percentage >= 75:
                st.warning("""
                โ๏ธ **ุฌูุฏ - ูุญุชุงุฌ ุชุญุณููุงุช ูุญุฏูุฏุฉ**
                - ูุณุชูู ุงูุชุซุงู ุฌูุฏ ุจุดูู ุนุงู
                - ุฑูุฒ ุนูู ุงููุฌุงูุงุช ุฐุงุช ุงููุชุงุฆุฌ ุงูููุฎูุถุฉ
                - ุฎุทุท ูุชุญุณููุงุช ูุณุชูุฏูุฉ ุฎูุงู 3 ุฃุดูุฑ
                """)
            elif total_percentage >= 60:
                st.error("""
                โ **ูุชูุณุท - ูุญุชุงุฌ ุชุญุณููุงุช ูููุฉ**
                - ููุงู ูุฌูุงุช ูููุฉ ูู ุงูุงูุชุซุงู
                - ุฑุงุฌุน ุงูุณูุงุณุงุช ูุงูุฅุฌุฑุงุกุงุช ุงูุญุงููุฉ
                - ููุฐ ุฎุทุฉ ุชุญุณูู ุดุงููุฉ ุฎูุงู 6 ุฃุดูุฑ
                """)
            else:
                st.error("""
                ๐จ **ููุฎูุถ - ูุญุชุงุฌ ูุฑุงุฌุนุฉ ุนุงุฌูุฉ**
                - ูุณุชูู ุงูุชุซุงู ุบูุฑ ููุจูู
                - ุงุณุชุดุฑ ูุฎุชุตุงู ูุงููููุงู ููุฑุงู
                - ููุฐ ุฎุทุฉ ุชุญุณูู ุนุงุฌูุฉ ูุดุงููุฉ
                """)

    with assessment_tabs[2]:
        st.markdown("##### ๐ ุฎุทุฉ ุงูุชุญุณูู ุงููุฎุตุตุฉ")

        # ุชูููุฏ ุชูุตูุงุช ูุฎุตุตุฉ ุจูุงุกู ุนูู ุงููุชุงุฆุฌ
        improvement_recommendations = {
            "ุงูุชูุธูู ูุงูุชุนุงูุฏ": [
                "ูุฑุงุฌุนุฉ ูุชุญุฏูุซ ุฌููุน ููุงุฐุฌ ุงูุนููุฏ",
                "ุงูุชุฃูุฏ ูู ุชุณุฌูู ุฌููุน ุงูุนุงูููู ูู ุงูุถูุงู",
                "ุงุนุชูุงุฏ ููุงุฆุญ ุนูู ุฏุงุฎููุฉ ูุญุฏุซุฉ",
                "ุชุฏุฑูุจ ุงููุณุคูููู ุนูู ุงููุชุทูุจุงุช ุงูุชุนุงูุฏูุฉ"
            ],
            "ุงูุฃุฌูุฑ ูุงููุณุชุญูุงุช": [
                "ูุฑุงุฌุนุฉ ูููู ุงูุฑูุงุชุจ ูุชุญุฏูุซู",
                "ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู ุงูุฌุฏูุฏ ููุฃุฌูุฑ",
                "ุชุญุณูู ูุธุงู ุญุณุงุจ ุงูุนูู ุงูุฅุถุงูู",
                "ุชุญุฏูุซ ุณูุงุณุฉ ุงูุนูุงูุงุช ูุงูุญูุงูุฒ"
            ],
            "ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ": [
                "ุชูููุฑ ูุนุฏุงุช ุงูููุงูุฉ ุงูุดุฎุตูุฉ",
                "ุชูุธูู ุฏูุฑุงุช ุชุฏุฑูุจูุฉ ุนูู ุงูุณูุงูุฉ",
                "ูุถุน ุฅุฌุฑุงุกุงุช ููุทูุงุฑุฆ ูุงูุญูุงุฏุซ",
                "ุฅุฌุฑุงุก ุงููุญูุต ุงูุทุจูุฉ ุงูุฏูุฑูุฉ"
            ]
        }

        for area, recommendations in improvement_recommendations.items():
            with st.expander(f"๐ ุฎุทุฉ ุชุญุณูู {area}", expanded=True):
                for i, recommendation in enumerate(recommendations, 1):
                    col1, col2, col3 = st.columns([3, 1, 1])
                    with col1:
                        st.write(f"{i}. {recommendation}")
                    with col2:
                        st.selectbox("ุงููุณุคูู", ["ูุฏูุฑ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ", "ุงููุณุชุดุงุฑ ุงููุงูููู", "ูุณุคูู ุงูุณูุงูุฉ"], 
                                   key=f"resp_{area}_{i}")
                    with col3:
                        st.date_input("ุงูููุนุฏ ุงูููุงุฆู", key=f"deadline_{area}_{i}")

                if st.button(f"๐พ ุญูุธ ุฎุทุฉ {area}", key=f"save_{area}"):
                    st.success(f"ุชู ุญูุธ ุฎุทุฉ ุชุญุณูู {area}")

# ==========================
# ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช (ุชุงุจุน)
# ==========================
    with reports_tabs[1]:
        st.markdown("##### ๐ ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฑุฆูุณูุฉ (KPI)")

        kpi_data = {
            "ุงููุคุดุฑ": [
                "ูุนุฏู ุงูุงูุชุซุงู ุงูููู",
                "ูุณุจุฉ ุงููุฎุงุทุฑ ุงููุดุทุฉ", 
                "ูุณุชูู ุฑุถุง ุงูููุธููู",
                "ูุนุฏู ุงูุฏูุฑุงู ุงููุธููู",
                "ุชูููุฉ ุงููุฎุงููุงุช ุงููุงููููุฉ",
                "ููุช ูุนุงูุฌุฉ ุงูุดูุงูู",
                "ููุงุกุฉ ุงูุชุฏุฑูุจ ุงููุงูููู"
            ],
            "ุงููููุฉ ุงูุญุงููุฉ": ["82%", "15%", "78%", "12%", "1,200 ุฏููุงุฑ", "7 ุฃูุงู", "85%"],
            "ุงููุฏู": ["90%", "5%", "85%", "8%", "500 ุฏููุงุฑ", "3 ุฃูุงู", "95%"],
            "ุงูุงุชุฌุงู": ["โ๏ธ", "โ๏ธ", "โ๏ธ", "โ๏ธ", "โ๏ธ", "โ๏ธ", "โ๏ธ"]
        }

        kpi_df = pd.DataFrame(kpi_data)
        st.dataframe(kpi_df, use_container_width=True)

        # ูุฎุทุท ูุคุดุฑุงุช ุงูุฃุฏุงุก
        st.markdown("##### ๐ ุชุทูุฑ ูุคุดุฑุงุช ุงูุฃุฏุงุก")

        performance_data = {
            'ุงูุดูุฑ': ['ููุงูุฑ', 'ูุจุฑุงูุฑ', 'ูุงุฑุณ', 'ุฃุจุฑูู', 'ูุงูู'],
            'ุงูุงูุชุซุงู (%)': [75, 78, 80, 82, 82],
            'ุฑุถุง ุงูููุธููู (%)': [72, 74, 76, 77, 78],
            'ููุงุกุฉ ุงูุชุฏุฑูุจ (%)': [70, 75, 80, 82, 85]
        }

        perf_df = pd.DataFrame(performance_data)
        st.line_chart(perf_df.set_index('ุงูุดูุฑ'))

    with reports_tabs[2]:
        st.markdown("##### ๐ ููุงุฑูุงุช ูุน ูุนุงููุฑ ุงููุทุงุน")

        comparison_data = {
            "ุงููุนูุงุฑ": [
                "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                "ุณุงุนุงุช ุงูุนูู ุงูุฃุณุจูุนูุฉ",
                "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ",
                "ูุนุฏู ุงูุงูุชุซุงู",
                "ุชูุงููู ุงููุฎุงููุงุช",
                "ุงุณุชุซูุงุฑุงุช ุงูุชุฏุฑูุจ"
            ],
            "ูุคุณุณุชู": ["290 ุฏููุงุฑ", "48 ุณุงุนุฉ", "21 ููู", "82%", "1,200 ุฏููุงุฑ", "5,000 ุฏููุงุฑ"],
            "ูุชูุณุท ุงููุทุงุน": ["285 ุฏููุงุฑ", "47 ุณุงุนุฉ", "20 ููู", "75%", "2,500 ุฏููุงุฑ", "3,000 ุฏููุงุฑ"],
            "ุฃูุถู ุงูููุงุฑุณุงุช": ["300+ ุฏููุงุฑ", "45 ุณุงุนุฉ", "25 ููู", "95%", "500 ุฏููุงุฑ", "8,000 ุฏููุงุฑ"]
        }

        comp_df = pd.DataFrame(comparison_data)
        st.dataframe(comp_df, use_container_width=True)

        # ุชุญููู ุงูููุงุฑูุฉ
        st.markdown("##### ๐ฏ ุชุญููู ุงููุฌูุงุช ูุงููุฑุต")

        gaps = [
            {
                "ุงููุฌุงู": "ุงูุงุณุชุซูุงุฑ ูู ุงูุชุฏุฑูุจ",
                "ุงููุฌูุฉ": "3,000 ุฏููุงุฑ",
                "ุงูุชูุตูุฉ": "ุฒูุงุฏุฉ ููุฒุงููุฉ ุงูุชุฏุฑูุจ ุจูุณุจุฉ 60%",
                "ุงูุฃููููุฉ": "ุนุงููุฉ"
            },
            {
                "ุงููุฌุงู": "ูุนุฏู ุงูุงูุชุซุงู", 
                "ุงููุฌูุฉ": "13%",
                "ุงูุชูุตูุฉ": "ุชูููุฐ ุฎุทุฉ ุชุญุณูู ุดุงููุฉ",
                "ุงูุฃููููุฉ": "ุนุงุฌูุฉ"
            },
            {
                "ุงููุฌุงู": "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ",
                "ุงููุฌูุฉ": "4 ุฃูุงู", 
                "ุงูุชูุตูุฉ": "ูุฑุงุฌุนุฉ ุณูุงุณุฉ ุงูุฅุฌุงุฒุงุช",
                "ุงูุฃููููุฉ": "ูุชูุณุทุฉ"
            }
        ]

        for gap in gaps:
            with st.expander(f"๐ {gap['ุงููุฌุงู']} - {gap['ุงูุฃููููุฉ']}"):
                st.write(f"**ุญุฌู ุงููุฌูุฉ:** {gap['ุงููุฌูุฉ']}")
                st.write(f"**ุงูุชูุตูุฉ:** {gap['ุงูุชูุตูุฉ']}")
                st.write(f"**ุงูุฃููููุฉ:** {gap['ุงูุฃููููุฉ']}")

    with reports_tabs[3]:
        st.markdown("##### ๐ฎ ุชููุนุงุช ูุชุญูููุงุช ูุณุชูุจููุฉ")

        # ุชุญููู ุงูุงุชุฌุงูุงุช
        st.markdown("###### ๐ ุชููุนุงุช ุงูุงูุชุซุงู ููุนุงู ุงููุงุฏู")

        forecast_data = {
            'ุงููุชุฑุฉ': ['ุงูุฑุจุน 1', 'ุงูุฑุจุน 2', 'ุงูุฑุจุน 3', 'ุงูุฑุจุน 4'],
            'ุงูุชููุน (%)': [85, 87, 89, 91],
            'ุงูุญุฏ ุงูุฃุฏูู': [82, 84, 86, 88],
            'ุงูุญุฏ ุงูุฃูุตู': [88, 90, 92, 94]
        }

        forecast_df = pd.DataFrame(forecast_data)
        st.area_chart(forecast_df.set_index('ุงููุชุฑุฉ'))

        # ุชูุตูุงุช ุงุณุชุฑุงุชูุฌูุฉ
        st.markdown("###### ๐ฏ ุชูุตูุงุช ุงุณุชุฑุงุชูุฌูุฉ ูููุณุชูุจู")

        strategic_recommendations = [
            "ุงุนุชูุงุฏ ุชูููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ูุชุงุจุนุฉ ุงูุงูุชุซุงู",
            "ุชุทููุฑ ุจุฑูุงูุฌ ุชุฏุฑูุจู ูุชูุฏู ูููุณุคูููู",
            "ุฅูุดุงุก ูุธุงู ุฅูุฐุงุฑ ูุจูุฑ ูููุฎุงุทุฑ ุงููุงููููุฉ",
            "ุชุนุฒูุฒ ุงูุดูุงููุฉ ูู ุงูุฅูุตุงุญ ุนู ุงููุนูููุงุช",
            "ุงูุงุณุชุซูุงุฑ ูู ุจุฑุงูุฌ ุฑูุงููุฉ ุงูููุธููู"
        ]

        for i, recommendation in enumerate(strategic_recommendations, 1):
            st.write(f"{i}. {recommendation}")

# ==========================
# ๐ ูุฏูู ุงูุงูุชุซุงู ูุฃุตุญุงุจ ุงูุนูู
# ==========================
def show_compliance_checker():
    st.markdown("#### ๐ ูุฏูู ุงูุงูุชุซุงู ุงููุชูุฏู ูุฃุตุญุงุจ ุงูุนูู")

    compliance_tabs = st.tabs(["ูุญุต ุณุฑูุน", "ุชุญููู ููุตู", "ุณุฌู ุงููุฎุงููุงุช", "ุฎุทุฉ ุงูุชุญุณูู"])

    with compliance_tabs[0]:
        st.markdown("##### โก ุงููุญุต ุงูุณุฑูุน ููุงูุชุซุงู")

        quick_check_items = [
            {
                "ุงูุจูุฏ": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                "ุงูุญุงูุฉ": "โ ูุชูุงูู",
                "ุงูุชูุงุตูู": "ูุชู ุชุทุจูู 290 ุฏููุงุฑ ูููุคูููู",
                "ุงูููุงุท": 10
            },
            {
                "ุงูุจูุฏ": "ุนููุฏ ุงูุนูู",
                "ุงูุญุงูุฉ": "โ๏ธ ุจุญุงุฌุฉ ูุฑุงุฌุนุฉ", 
                "ุงูุชูุงุตูู": "ุจุนุถ ุงูุนููุฏ ุชุญุชุงุฌ ุชุญุฏูุซ",
                "ุงูููุงุท": 7
            },
            {
                "ุงูุจูุฏ": "ุณุฌูุงุช ุงูุนุงูููู",
                "ุงูุญุงูุฉ": "โ ูุชูุงูู",
                "ุงูุชูุงุตูู": "ุฌููุน ุงูุณุฌูุงุช ูุญุฏุซุฉ",
                "ุงูููุงุท": 9
            },
            {
                "ุงูุจูุฏ": "ุงูุถูุงู ุงูุงุฌุชูุงุนู",
                "ุงูุญุงูุฉ": "โ ุบูุฑ ูุชูุงูู",
                "ุงูุชูุงุตูู": "ุชุฃุฎุฑ ูู ุชุณุฏูุฏ ุจุนุถ ุงูุงุดุชุฑุงูุงุช",
                "ุงูููุงุท": 4
            }
        ]

        total_score = 0
        max_score = len(quick_check_items) * 10

        for item in quick_check_items:
            col1, col2, col3 = st.columns([2, 1, 1])
            with col1:
                st.write(f"**{item['ุงูุจูุฏ']}**")
            with col2:
                if item['ุงูุญุงูุฉ'] == "โ ูุชูุงูู":
                    st.success(item['ุงูุญุงูุฉ'])
                elif item['ุงูุญุงูุฉ'] == "โ๏ธ ุจุญุงุฌุฉ ูุฑุงุฌุนุฉ":
                    st.warning(item['ุงูุญุงูุฉ'])
                else:
                    st.error(item['ุงูุญุงูุฉ'])
            with col3:
                st.write(f"**{item['ุงูููุงุท']}/10**")

            st.caption(item['ุงูุชูุงุตูู'])
            total_score += item['ุงูููุงุท']
            st.write("---")

        compliance_rate = (total_score / max_score) * 100
        st.metric("ูุนุฏู ุงูุงูุชุซุงู ุงูุณุฑูุน", f"{compliance_rate:.1f}%")

    with compliance_tabs[2]:
        st.markdown("##### ๐ ุณุฌู ุงููุฎุงููุงุช ูุงูุฅุฌุฑุงุกุงุช ุงูุชุตุญูุญูุฉ")

        violations_data = [
            {
                "ุงููุฎุงููุฉ": "ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ",
                "ุงูุชุงุฑูุฎ": "15/01/2025",
                "ุงูุญุงูุฉ": "โ ูุนุงูุฌุฉ",
                "ุงูุฅุฌุฑุงุก": "ุชู ุตุฑู ุงููุชุฃุฎุฑุงุช ูุน ุชุนููุถ",
                "ุงูุชูููุฉ": "150 ุฏููุงุฑ"
            },
            {
                "ุงููุฎุงููุฉ": "ุนูุฏ ุบูุฑ ููุชูู",
                "ุงูุชุงุฑูุฎ": "22/01/2025", 
                "ุงูุญุงูุฉ": "๐ ููุฏ ุงููุนุงูุฌุฉ",
                "ุงูุฅุฌุฑุงุก": "ุฌุงุฑู ุชุญุฏูุซ ูููุฐุฌ ุงูุนูุฏ",
                "ุงูุชูููุฉ": "0 ุฏููุงุฑ"
            },
            {
                "ุงููุฎุงููุฉ": "ููุต ูุนุฏุงุช ุงูุณูุงูุฉ",
                "ุงูุชุงุฑูุฎ": "05/02/2025",
                "ุงูุญุงูุฉ": "โณ ูุฎุทุท",
                "ุงูุฅุฌุฑุงุก": "ูุฎุทุท ูุดุฑุงุก ุงููุนุฏุงุช ุฎูุงู ุฃุณุจูุน",
                "ุงูุชูููุฉ": "1,000 ุฏููุงุฑ"
            }
        ]

        for violation in violations_data:
            with st.expander(f"๐ {violation['ุงููุฎุงููุฉ']} - {violation['ุงูุชุงุฑูุฎ']}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูุญุงูุฉ:** {violation['ุงูุญุงูุฉ']}")
                    st.write(f"**ุงูุฅุฌุฑุงุก:** {violation['ุงูุฅุฌุฑุงุก']}")
                with col2:
                    st.write(f"**ุงูุชูููุฉ:** {violation['ุงูุชูููุฉ']}")
                    if violation['ุงูุญุงูุฉ'] != "โ ูุนุงูุฌุฉ":
                        if st.button("ุชุญุฏูุซ ุงูุญุงูุฉ", key=f"update_{violation['ุงููุฎุงููุฉ']}"):
                            st.success("ุชู ุชุญุฏูุซ ุงูุญุงูุฉ")

        # ุฅุถุงูุฉ ูุฎุงููุฉ ุฌุฏูุฏุฉ
        st.markdown("##### โ ุฅุถุงูุฉ ูุฎุงููุฉ ุฌุฏูุฏุฉ")

        with st.form("add_violation"):
            col1, col2 = st.columns(2)
            with col1:
                new_violation = st.text_input("ูุตู ุงููุฎุงููุฉ")
                violation_date = st.date_input("ุชุงุฑูุฎ ุงููุฎุงููุฉ")
            with col2:
                violation_type = st.selectbox("ููุน ุงููุฎุงููุฉ", ["ูุงููุฉ", "ุชุนุงูุฏูุฉ", "ุณูุงูุฉ", "ุฅุฏุงุฑูุฉ"])
                estimated_cost = st.number_input("ุงูุชูููุฉ ุงููุชููุนุฉ (ุฏููุงุฑ)", value=0)

            if st.form_submit_button("ุฅุถุงูุฉ ุงููุฎุงููุฉ"):
                st.success("ุชู ุฅุถุงูุฉ ุงููุฎุงููุฉ ุฅูู ุงูุณุฌู")

# ==========================
# ๐ฏ ูุธุงู ุงูุชูููู ุงูุฐุงุชู ุงููุชูุงูู (ุฅุถุงูู)
# ==========================
def show_employer_self_assessment():
    st.markdown("#### ๐ฏ ูุธุงู ุงูุชูููู ุงูุฐุงุชู ุงููุชูุงูู ููุงูุชุซุงู ุงููุงูููู")

    assessment_tabs = st.tabs(["ุจุฏุก ุงูุชูููู", "ุงููุชุงุฆุฌ ุงูุชูุตูููุฉ", "ุฎุทุฉ ุงูุชุญุณูู", "ุงูููุงุฑูุงุช ุงููุทุงุนูุฉ"])

    with assessment_tabs[0]:
        st.markdown("##### ๐ ุงูุชูููู ุงูุดุงูู ููุงูุชุซุงู ุงููุงูููู")

        # ูุนูููุงุช ุฃุณุงุณูุฉ ุนู ุงููุคุณุณุฉ
        st.markdown("###### ๐ข ูุนูููุงุช ุงููุคุณุณุฉ")
        col1, col2 = st.columns(2)
        with col1:
            company_size = st.selectbox("ุญุฌู ุงููุคุณุณุฉ", [
                "ุตุบูุฑุฉ (1-10 ููุธููู)",
                "ูุชูุณุทุฉ (11-50 ููุธู)", 
                "ูุจูุฑุฉ (51-200 ููุธู)",
                "ูุจูุฑุฉ ุฌุฏุงู (200+ ููุธู)"
            ])
            industry = st.selectbox("ูุทุงุน ุงูุนูู", [
                "ุฎุฏูุงุช", "ุชุตููุน", "ุชุฌุงุฑุฉ", "ุชูููุฉ", "ุฑุนุงูุฉ ุตุญูุฉ", "ุชุนููู", "ุฃุฎุฑู"
            ])

        with col2:
            establishment_year = st.number_input("ุณูุฉ ุงูุชุฃุณูุณ", min_value=1950, max_value=2025, value=2010)
            has_legal_department = st.radio("ูู ููุฌุฏ ูุณู ูุงููููุ", ["ูุนู", "ูุง"])

        # ุชูููู ุงููุฌุงูุงุช ุงูุฑุฆูุณูุฉ
        st.markdown("###### ๐ ุชูููู ูุฌุงูุงุช ุงูุงูุชุซุงู")

        assessment_categories = {
            "ุงูุชูุธูู ูุงูุชุนุงูุฏ": {
                "weight": 25,
                "questions": [
                    "ูู ุชูุฌุฏ ุนููุฏ ุนูู ููุชูุจุฉ ูุฌููุน ุงูุนุงููููุ",
                    "ูู ูุชู ุชุญุฏูุซ ุงูุนููุฏ ุญุณุจ ุงูุชุนุฏููุงุช ุงููุงููููุฉุ",
                    "ูู ูุชู ุชุณุฌูู ุงูุนุงูููู ูู ุงูุถูุงู ุงูุงุฌุชูุงุนูุ",
                    "ูู ุชูุฌุฏ ููุงุฆุญ ุนูู ุฏุงุฎููุฉ ูุนุชูุฏุฉุ"
                ]
            },
            "ุงูุฃุฌูุฑ ูุงููุณุชุญูุงุช": {
                "weight": 30,
                "questions": [
                    "ูู ูุชู ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ 290 ุฏููุงุฑุ",
                    "ูู ุชุตุฑู ุงูุฑูุงุชุจ ุฎูุงู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑุ",
                    "ูู ูุชู ุญุณุงุจ ุจุฏู ุงูุนูู ุงูุฅุถุงูู correctlyุ",
                    "ูู ุชููุญ ุงูุนูุงูุงุช ุงูุฏูุฑูุฉุ"
                ]
            },
            "ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ": {
                "weight": 20,
                "questions": [
                    "ูู ุชููุฑ ูุนุฏุงุช ุงูููุงูุฉ ุงูุดุฎุตูุฉุ",
                    "ูู ุชุฌุฑู ุชุฏุฑูุจุงุช ููุชุธูุฉ ุนูู ุงูุณูุงูุฉุ",
                    "ูู ุชูุฌุฏ ุฅุฌุฑุงุกุงุช ููุทูุงุฑุฆ ูุงูุญูุงุฏุซุ",
                    "ูู ุชุฌุฑู ุงููุญูุต ุงูุทุจูุฉ ุงูุฏูุฑูุฉุ"
                ]
            },
            "ุฅููุงุก ุงูุฎุฏูุฉ ูุงููุณุชุญูุงุช": {
                "weight": 15,
                "questions": [
                    "ูู ุชูุชุฒู ุจูุชุฑุงุช ุงูุฅุฎุทุงุฑ ุงููุณุจูุ",
                    "ูู ุชุตุฑู ูุงูุฉ ุงููุณุชุญูุงุช ุฎูุงู 7 ุฃูุงูุ",
                    "ูู ุชููุญ ุดูุงุฏุงุช ุงูุฎุจุฑุฉุ",
                    "ูู ุชุญูุธ ุญููู ุงูุนุงูููู ุนูุฏ ุงููุตูุ"
                ]
            },
            "ุงูุฅุจูุงุบ ูุงูุดูุงููุฉ": {
                "weight": 10,
                "questions": [
                    "ูู ุชูุฏู ุงูุฅูุฑุงุฑุงุช ุงููุงููููุฉ ูู ููุนุฏูุงุ",
                    "ูู ุชุญุชูุธ ุจุงูุณุฌูุงุช ุงููุทููุจุฉ ูุงููููุงูุ",
                    "ูู ุชุชุนุงูู ูุน ุฌูุงุช ุงูุชูุชูุดุ",
                    "ูู ุชุจูุบ ุนู ุงูุญูุงุฏุซ ูุงูุฅุตุงุจุงุชุ"
                ]
            }
        }

        assessment_results = {}
        category_scores = {}

        for category, data in assessment_categories.items():
            with st.expander(f"๐ {category} ({data['weight']}%)", expanded=True):
                category_score = 0
                max_category_score = len(data['questions']) * 3

                for question in data['questions']:
                    response = st.radio(
                        question,
                        options=["ุบูุฑ ูุทุงุจู", "ุจุญุงุฌุฉ ุชุญุณูู", "ูุทุงุจู ุฌุฒุฆูุงู", "ูุทุงุจู ูููุงู"],
                        index=1,
                        key=f"comp_assess_{category}_{question}"
                    )

                    points_map = {
                        "ุบูุฑ ูุทุงุจู": 0, 
                        "ุจุญุงุฌุฉ ุชุญุณูู": 1, 
                        "ูุทุงุจู ุฌุฒุฆูุงู": 2, 
                        "ูุทุงุจู ูููุงู": 3
                    }

                    points = points_map[response]
                    category_score += points

                category_percentage = (category_score / max_category_score) * 100
                weighted_score = category_percentage * (data['weight'] / 100)

                assessment_results[category] = category_percentage
                category_scores[category] = weighted_score

                st.progress(category_percentage / 100)
                st.write(f"**ุงููุชูุฌุฉ: {category_percentage:.1f}%**")

        # ุญุณุงุจ ุงููุชูุฌุฉ ุงูุฅุฌูุงููุฉ
        if category_scores:
            total_score = sum(category_scores.values())

            st.markdown(f"### ๐ฏ ุงููุชูุฌุฉ ุงูุฅุฌูุงููุฉ: {total_score:.1f}%")

            # ุชุญููู ููุตู ูููุชูุฌุฉ
            col1, col2 = st.columns(2)

            with col1:
                st.markdown("##### ๐ ุชุญููู ุงููุชูุฌุฉ")

                if total_score >= 90:
                    st.success("""
                    **ููุชุงุฒ - ูุณุชูู ุงูุชุซุงู ูุชููุฒ** ๐
                    
                    **ููุงุท ุงูููุฉ:**
                    - ุงูุชุฒุงู ุงุณุชุซูุงุฆู ุจุงูุชุดุฑูุนุงุช
                    - ุฅุฌุฑุงุกุงุช ุฑูุงุจูุฉ ูุนุงูุฉ
                    - ุซูุงูุฉ ุงูุชุซุงู ูููุฉ
                    
                    **ุงูุชูุตูุงุช:**
                    - ุงูุงุณุชูุฑุงุฑ ูู ุงูุชุทููุฑ ุงููุณุชูุฑ
                    - ูุดุงุฑูุฉ ุฃูุถู ุงูููุงุฑุณุงุช
                    - ุงูุชูุฏู ููุญุตูู ุนูู ุดูุงุฏุงุช ุชููุฒ
                    """)
                elif total_score >= 75:
                    st.warning("""
                    **ุฌูุฏ - ูุญุชุงุฌ ุชุญุณููุงุช ูุญุฏูุฏุฉ** โ๏ธ
                    
                    **ููุงุท ุงูููุฉ:**
                    - ุฃุณุงุณ ููู ููุงูุชุซุงู
                    - ุฅุฌุฑุงุกุงุช ูุนุชูุฏุฉ ุจุดูู ุฌูุฏ
                    
                    **ูุฌุงูุงุช ุงูุชุญุณูู:**
                    - ูุนุงูุฌุฉ ุงูุซุบุฑุงุช ุงูุจุณูุทุฉ
                    - ุชุนุฒูุฒ ุงูุชุฏุฑูุจ ุงููุณุชูุฑ
                    - ุชุญุฏูุซ ุจุนุถ ุงูุณูุงุณุงุช
                    """)
                elif total_score >= 60:
                    st.error("""
                    **ูุชูุณุท - ูุญุชุงุฌ ุชุญุณููุงุช ูููุฉ** โ
                    
                    **ุงููุฎุงุทุฑ:**
                    - ุซุบุฑุงุช ูููุฉ ูู ุงูุงูุชุซุงู
                    - ูุฎุงููุงุช ูุญุชููุฉ
                    
                    **ุงูุฅุฌุฑุงุกุงุช ุงูุนุงุฌูุฉ:**
                    - ูุฑุงุฌุนุฉ ุดุงููุฉ ููุณูุงุณุงุช
                    - ุชุฏุฑูุจ ููุซู ูููุณุคูููู
                    - ุงุณุชุดุงุฑุฉ ูุงููููุฉ ูุชุฎุตุตุฉ
                    """)
                else:
                    st.error("""
                    **ููุฎูุถ - ุฎุทุฑ ูุงูููู ุนุงูู** ๐จ
                    
                    **ุงููุฎุงุทุฑ:**
                    - ูุฎุงููุงุช ูุงููููุฉ ุฌุณููุฉ
                    - ุบุฑุงูุงุช ูุนููุจุงุช ูุญุชููุฉ
                    - ุณูุนุฉ ูุคุณุณูุฉ ูุนุฑุถุฉ ููุฎุทุฑ
                    
                    **ุงูุฅุฌุฑุงุกุงุช ุงูููุฑูุฉ:**
                    - ุงุณุชุดุงุฑุฉ ูุงููููุฉ ุนุงุฌูุฉ
                    - ุฎุทุฉ ุชุญุณูู ุดุงููุฉ
                    - ูุฑุงุฌุนุฉ ูุงููุฉ ููุฅุฌุฑุงุกุงุช
                    """)

            with col2:
                st.markdown("##### ๐ ุชูุฒูุน ุงููุชุงุฆุฌ")

                # ูุฎุทุท ุฏุงุฆุฑู ูููุชุงุฆุฌ
                results_df = pd.DataFrame({
                    'ุงููุฌุงู': list(assessment_results.keys()),
                    'ุงููุณุจุฉ': list(assessment_results.values())
                })

                st.bar_chart(results_df.set_index('ุงููุฌุงู'))

                # ุชุญููู ุงูุชูุฑูุฑ
                if st.button("๐ฅ ุชุญููู ุชูุฑูุฑ ุงูุชูููู ุงูุดุงูู", type="primary"):
                    report_content = f"""
                    ุชูุฑูุฑ ุงูุชูููู ุงูุฐุงุชู ููุงูุชุซุงู ุงููุงูููู
                    ===================================
                    
                    ูุนูููุงุช ุงููุคุณุณุฉ:
                    - ุงูุญุฌู: {company_size}
                    - ุงููุทุงุน: {industry}
                    - ุณูุฉ ุงูุชุฃุณูุณ: {establishment_year}
                    - ูุณู ูุงูููู: {has_legal_department}
                    
                    ุงููุชูุฌุฉ ุงูุฅุฌูุงููุฉ: {total_score:.1f}%
                    
                    ูุชุงุฆุฌ ุงููุฌุงูุงุช:
                    {chr(10).join([f'- {k}: {v:.1f}%' for k, v in assessment_results.items()])}
                    
                    ุงูุชูุตูุงุช:
                    - ุชูููุฐ ุฎุทุฉ ุงูุชุญุณูู ุงููุฑููุฉ
                    - ูุชุงุจุนุฉ ุฏูุฑูุฉ ูู 6 ุฃุดูุฑ
                    - ุชุญุฏูุซ ูุณุชูุฑ ุญุณุจ ุงูุชุดุฑูุนุงุช
                    
                    ุชุงุฑูุฎ ุงูุชูุฑูุฑ: {datetime.now().strftime('%Y-%m-%d')}
                    """

                    st.download_button(
                        "๐ ุชุญููู ุงูุชูุฑูุฑ ุงููุตู",
                        data=report_content,
                        file_name=f"ุชูุฑูุฑ_ุงูุชูููู_{datetime.now().strftime('%Y%m%d')}.txt",
                        mime="text/plain"
                    )

    with assessment_tabs[2]:
        st.markdown("##### ๐ ุฎุทุฉ ุงูุชุญุณูู ุงููุฎุตุตุฉ ุจูุงุกู ุนูู ุงููุชุงุฆุฌ")

        # ุชูููุฏ ุชูุตูุงุช ูุฎุตุตุฉ
        improvement_plan = {
            "ุงูุชูุธูู ูุงูุชุนุงูุฏ": [
                "ูุฑุงุฌุนุฉ ูุชุญุฏูุซ ุฌููุน ููุงุฐุฌ ุงูุนููุฏ ุฎูุงู 30 ููู",
                "ุงูุชุฃูุฏ ูู ุชุณุฌูู ุฌููุน ุงูุนุงูููู ูู ุงูุถูุงู ุฎูุงู 15 ููู",
                "ุงุนุชูุงุฏ ููุงุฆุญ ุนูู ุฏุงุฎููุฉ ูุญุฏุซุฉ ุฎูุงู 45 ููู",
                "ุชุฏุฑูุจ ุงููุณุคูููู ุนูู ุงููุชุทูุจุงุช ุงูุชุนุงูุฏูุฉ ุฎูุงู 60 ููู"
            ],
            "ุงูุฃุฌูุฑ ูุงููุณุชุญูุงุช": [
                "ูุฑุงุฌุนุฉ ูููู ุงูุฑูุงุชุจ ูุชุญุฏูุซู ุฎูุงู 15 ููู",
                "ุชุทุจูู ุงูุญุฏ ุงูุฃุฏูู ุงูุฌุฏูุฏ ููุฃุฌูุฑ ููุฑุงู",
                "ุชุญุณูู ูุธุงู ุญุณุงุจ ุงูุนูู ุงูุฅุถุงูู ุฎูุงู 30 ููู",
                "ุชุญุฏูุซ ุณูุงุณุฉ ุงูุนูุงูุงุช ูุงูุญูุงูุฒ ุฎูุงู 45 ููู"
            ],
            "ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ": [
                "ุชูููุฑ ูุนุฏุงุช ุงูููุงูุฉ ุงูุดุฎุตูุฉ ุฎูุงู 15 ููู",
                "ุชูุธูู ุฏูุฑุงุช ุชุฏุฑูุจูุฉ ุนูู ุงูุณูุงูุฉ ุฎูุงู 30 ููู",
                "ูุถุน ุฅุฌุฑุงุกุงุช ููุทูุงุฑุฆ ูุงูุญูุงุฏุซ ุฎูุงู 20 ููู",
                "ุฅุฌุฑุงุก ุงููุญูุต ุงูุทุจูุฉ ุงูุฏูุฑูุฉ ุฎูุงู 60 ููู"
            ]
        }

        for category, actions in improvement_plan.items():
            with st.expander(f"๐ ุฎุทุฉ ุชุญุณูู {category}", expanded=True):
                for i, action in enumerate(actions, 1):
                    col1, col2, col3, col4 = st.columns([3, 1, 1, 1])
                    with col1:
                        st.write(f"{i}. {action}")
                    with col2:
                        responsible = st.selectbox(
                            "ุงููุณุคูู",
                            ["ูุฏูุฑ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ", "ุงููุณุชุดุงุฑ ุงููุงูููู", "ูุณุคูู ุงูุณูุงูุฉ", "ุงูุฅุฏุงุฑุฉ ุงูุนููุง"],
                            key=f"resp_{category}_{i}"
                        )
                    with col3:
                        deadline = st.date_input(
                            "ุงูููุนุฏ ุงูููุงุฆู",
                            key=f"deadline_{category}_{i}"
                        )
                    with col4:
                        status = st.selectbox(
                            "ุงูุญุงูุฉ",
                            ["ูู ูุจุฏุฃ", "ููุฏ ุงูุชูููุฐ", "ููุชูู"],
                            key=f"status_{category}_{i}"
                        )

                if st.button(f"๐พ ุญูุธ ุฎุทุฉ {category}", key=f"save_plan_{category}"):
                    st.success(f"ุชู ุญูุธ ุฎุทุฉ ุชุญุณูู {category}")

# ==========================
# ๐งญ ุงูุชูููุฐ ุงูุฑุฆูุณู ููุชุทุจูู ูุน ูุณู ุฃุตุญุงุจ ุงูุนูู
# ==========================
def main():
    # ุงูุดุฑูุท ุงูุฌุงูุจู ุงููุญุฏุซ
    with st.sidebar:
        st.markdown(
            "<div style='text-align: center; padding: 1rem;'>"
            "<h2>โ๏ธ ููุตุฉ ุญู</h2>"
            "<p style='color: #666; font-size: 0.9rem;'>ุงูููุตุฉ ุงููุงููููุฉ ุงูุฐููุฉ 2025</p>"
            "<p style='color: #888; font-size: 0.8rem;'>Haqq Platform - 2025</p>"
            "</div>", 
            unsafe_allow_html=True
        )
        st.markdown("---")

        # ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ุงููุญุฏุซุฉ
        page_options = {
            "๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ": show_home_page,
            "๐ท ุงูุนูุงู": show_workers_section,
            "๐ ุฃุตุญุงุจ ุงูุนูู": show_employers_section,
            "๐ฌ ุงูุจุงุญุซูู": show_researchers_section,
            "๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ": show_calculators_section,
            "๐ ูุญุงูู ุงูุดููู": show_complaint_simulator,
            "๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ": show_authorities_section,
            "๐ ุงูุจุญุซ ูู ุงูููุงููู": show_legal_search,
            "โฐ ููุจู ุงูููุงุนูุฏ": show_reminder_system,
            "๐ ูุฏูู ุงูุงูุชุซุงู": show_compliance_checker,
            "๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู": show_rights_map,
            "๐ ููุธู ุงููุณุชูุฏุงุช": show_document_organizer,
            "๐ ูุญูู ุงูุนููุฏ": show_contract_analyzer,
            "๐จโ๐ผ ุฏููู ุงูุนูุงู ุงูุฌุฏุฏ": show_new_workers_guide,
            "๐ ุฏููู ุงูุฎุฑูุฌูู": show_graduates_guide,
            "๐ ููุตุฉ ุฏูููุฉ": show_international_platform,
            "โ๏ธ ุงูุฅุนุฏุงุฏุงุช": show_settings_page
        }

        selected_page = st.selectbox("ุงุฎุชุฑ ุงููุณู", list(page_options.keys()), key="main_nav")

        st.markdown("---")

        # ูุนูููุงุช ุงูุชุญุฏูุซุงุช ุงููุงููููุฉ
        st.markdown("""
        <div style='background: #E3F2FD; padding: 1rem; border-radius: 10px; border: 1px solid #90CAF9;'>
        <small>
        <strong>๐ข ุงูุชุญุฏูุซุงุช ุงูุชุดุฑูุนูุฉ 2025:</strong><br>
        โข ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ: 290 ุฏููุงุฑ<br>
        โข ุฅุฌุงุฒุฉ ุงูุฃูููุฉ: 10 ุฃุณุงุจูุน<br>
        โข ุงูุนูู ุงููุฑู: ุชูุธูู ุฌุฏูุฏ
        </small>
        </div>
        """, unsafe_allow_html=True)

        st.markdown("---")

        # ุชูููู ุนุงู
        st.markdown("""
        <div style='background: #FFF3CD; padding: 1rem; border-radius: 10px; border: 1px solid #FFEAA7;'>
        <small>
        <strong>๐ข ุชูููู ููู:</strong><br>
        ูุฐู ุงูููุตุฉ ุชูุฏู ุฎุฏูุงุช ุชูุนูุฉ ูุชุนููู ูุงูููู ุนุงู ููุท. 
        ุงููุนูููุงุช ุงูููุฏูุฉ ูุฃุบุฑุงุถ ุงูุชูุนูุฉ ููุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต.
        </small>
        </div>
        """, unsafe_allow_html=True)

        st.markdown("---")
        st.markdown("### ๐ ุงูุฏุนู ูุงููุณุงูุฏุฉ")
        st.write("๐ง support@haqq-platform.jo")
        st.write("๐ www.haqq-platform.jo")
        st.write("๐ ุงูุฃุญุฏ - ุงูุฎููุณ: 8:00 ุต - 3:00 ู")

    # ุนุฑุถ ุงูุตูุญุฉ ุงููุญุฏุฏุฉ
    if selected_page in page_options:
        try:
            page_options[selected_page]()
        except Exception as e:
            st.error(f"โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุนุฑุถ ุงูุตูุญุฉ: {e}")
            st.info("ูุฑุฌู ุชุญุฏูุซ ุงูุตูุญุฉ ุฃู ุงููุญุงููุฉ ูุงุญูุงู")

    # ุงูุชุฐููู ุงููุญุฏุซ
    st.markdown("---")
    st.markdown("""
    <center>
    <small>
    ยฉ 2025 ููุตุฉ ุญู - ุงูููุตุฉ ุงููุงููููุฉ ุงูุฐููุฉ. ุฌููุน ุงูุญููู ูุญููุธุฉ.<br>
    ูุฐู ุงูููุตุฉ ุชูุฏู ุฎุฏูุงุช ุชูุนูุฉ ูุชุนููู ูุงูููู ุนุงู ููุท ููุง ุชุบูู ุนู ุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต.<br>
    <strong>ูุตุงุฏุฑ ูุงููููุฉ ูุนุชูุฏุฉ:</strong> ูุงููู ุงูุนูู ุงูุฃุฑุฏูู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู 2025
    </small>
    </center>
    """, unsafe_allow_html=True)

# ==========================
# ๐ฌ ูุณู ุงูุจุงุญุซูู ุงูููุณุน ุงูุดุงูู
# ==========================
def show_researchers_section():
    st.markdown("### ๐ฌ ูุณู ุงูุจุงุญุซูู - ุงูููุตุฉ ุงูุจุญุซูุฉ ุงููุชูุงููุฉ ููุงููู ุงูุนูู ุงูุฃุฑุฏูู")

    researcher_tabs = st.tabs([
        "๐ ุงููุธุฑุฉ ุงูุนุงูุฉ", 
        "๐ ุงูุชุดุฑูุนุงุช ุงูุฃุณุงุณูุฉ", 
        "โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ",
        "๐ ุงูุฏุฑุงุณุงุช ูุงูุฃุจุญุงุซ",
        "๐ ุงูุจุญุซ ุงููุชูุฏู",
        "๐๏ธ ุฃุฏูุงุช ุงูุจุงุญุซ",
        "๐ ุงููุฑุงุฌุน ูุงููุตุงุฏุฑ",
        "๐ ุงูููุงุฑูุงุช ุงูุฏูููุฉ",
        "๐ ุงูุชุญูููุงุช ุงูุฅุญุตุงุฆูุฉ",
        "๐ฅ ุงููุฌุชูุน ุงูุจุญุซู"
    ])

    with researcher_tabs[0]:
        show_researchers_overview()

    with researcher_tabs[1]:
        show_legislative_library()

    with researcher_tabs[2]:
        show_legal_precedents()

    with researcher_tabs[3]:
        show_research_studies()

    with researcher_tabs[4]:
        show_advanced_search()

    with researcher_tabs[5]:
        show_research_tools()

    with researcher_tabs[6]:
        show_references_sources()

    with researcher_tabs[7]:
        show_international_comparisons()

    with researcher_tabs[8]:
        show_statistical_analysis()

    with researcher_tabs[9]:
        show_research_community()

# ==========================
# ๐ ุงููุธุฑุฉ ุงูุนุงูุฉ ููุจุงุญุซูู - ููุณุนุฉ
# ==========================
def show_researchers_overview():
    st.markdown("#### ๐ ุงููุธุฑุฉ ุงูุดุงููุฉ ูุงูุชุญููููุฉ ููุงููู ุงูุนูู ุงูุฃุฑุฏูู")

    # ููุฏูุฉ ุชุญููููุฉ
    col1, col2 = st.columns(2)

    with col1:
        st.markdown("""
        <div class="research-tool">
        <h3>๐ฏ ุงูุฃูุฏุงู ุงูุจุญุซูุฉ</h3>
        <p>ููุฏู ูุฐุง ุงููุณู ุฅูู ุชูููุฑ ููุตุฉ ุดุงููุฉ ููุจุงุญุซูู ูู ูุงููู ุงูุนูู:</p>
        <ul>
        <li>๐ <strong>ุชุญููู ุชุทูุฑ ุงูุชุดุฑูุน</strong> ุงูุนูุงูู ูู ุงูุฃุฑุฏู</li>
        <li>๐ <strong>ุฏุฑุงุณุฉ ุงูุฃุซุฑ ุงูุงูุชุตุงุฏู</strong> ูุงูุงุฌุชูุงุนู ููููุงููู</li>
        <li>๐ <strong>ููุงุฑูุฉ ุงูุชุดุฑูุน ุงูุฃุฑุฏูู</strong> ูุน ุงูููุงุฐุฌ ุงูุฏูููุฉ</li>
        <li>โ๏ธ <strong>ุฑุตุฏ ุงุชุฌุงูุงุช ุงููุถุงุก</strong> ุงูุนูุงูู</li>
        <li>๐ <strong>ุชูููู ูุนุงููุฉ</strong> ุงูุณูุงุณุงุช ุงูุชุดุฑูุนูุฉ</li>
        </ul>
        </div>
        """, unsafe_allow_html=True)

        st.info("""
        ### ๐ ุงููููุฌูุงุช ุงูุจุญุซูุฉ
        - **ุงูุชุญููู ุงููุตู** ููุชุดุฑูุนุงุช
        - **ุงูุฏุฑุงุณุฉ ุงูููุฏุงููุฉ** ูุงูุชุทุจูููุฉ
        - **ุงููููุฌ ุงูููุงุฑู** ูุน ุงูุชุดุฑูุนุงุช ุงูุนุฑุจูุฉ ูุงูุฏูููุฉ
        - **ุงูุชุญููู ุงูุฅุญุตุงุฆู** ููุจูุงูุงุช ุงููุถุงุฆูุฉ
        - **ุฏุฑุงุณุฉ ุงูุญุงูุฉ** ููููุงุฒุนุงุช ุงูุนูุงููุฉ
        """)

    with col2:
        st.warning("""
        ### โ๏ธ ุงูุฅุทุงุฑ ุงููุธุฑู
        - **ูุธุฑูุฉ ุงูุนูุฏ** ูู ุงูุนูุงูุงุช ุงูุนูุงููุฉ
        - **ูุจุฏุฃ ุงูุญูุงูุฉ** ููุทุฑู ุงูุถุนูู
        - **ุงูุนุฏุงูุฉ ุงูุงุฌุชูุงุนูุฉ** ูู ุงูุชุดุบูู
        - **ุงูููุงุฒูุฉ** ุจูู ูุตุงูุญ ุงูุฃุทุฑุงู
        - **ุงูุชูููุฉ ุงููุณุชุฏุงูุฉ** ูุณูู ุงูุนูู
        """)

        st.error("""
        ### ๐ ุงููุฌุงูุงุช ุงูุจุญุซูุฉ
        - **ุชุดุฑูุนุงุช ุงูุฃุฌูุฑ** ูุงูุถูุงู ุงูุงุฌุชูุงุนู
        - **ุญูุงูุฉ ุงููุฆุงุช** ุงูุฎุงุตุฉ (ุงููุณุงุกุ ุงูุฃุญุฏุงุซ)
        - **ุงูุณูุงูุฉ ุงูููููุฉ** ูุงูุตุญุฉ ุงูุนุงูุฉ
        - **ุชุณููุฉ ุงูููุงุฒุนุงุช** ูุงููุณุงุทุฉ
        - **ุงูุนูู ุงูููุงุจู** ูุงูุญุฑูุงุช ุงูููุงุจูุฉ
        """)

    # ุงูุฅุญุตุงุฆูุงุช ุงูุชุดุฑูุนูุฉ ุงูุชูุตูููุฉ
    st.markdown("### ๐ ุงููุคุดุฑุงุช ุงูุชุดุฑูุนูุฉ ูุงูุจุญุซูุฉ")

    col1, col2, col3, col4 = st.columns(4)

    with col1:
        st.metric("๐ ุงูููุงุฏ ุงููุงููููุฉ", "148 ูุงุฏุฉ", "+12 ุชุนุฏูู")
        st.metric("โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ", "2,340 ุญูู", "+150 ุณูููุงู")

    with col2:
        st.metric("๐ ุงูุฃูุธูุฉ ูุงูุชุนูููุงุช", "45 ูุธุงู", "5 ุฃูุธูุฉ ุฌุฏูุฏุฉ")
        st.metric("๐ ุงูุฏุฑุงุณุงุช ุงูุจุญุซูุฉ", "120 ุฏุฑุงุณุฉ", "15 ุฏุฑุงุณุฉ ุณูููุงู")

    with col3:
        st.metric("๐ ุงูุงุชูุงููุงุช ุงูุฏูููุฉ", "18 ุงุชูุงููุฉ", "5 ูุตุงุฏูุงุช ุฌุฏูุฏุฉ")
        st.metric("๐ ูุนุฏู ุงูุชุนุฏูู ุงูุชุดุฑูุนู", "2.3 ุณูุฉ", "ูู 2.3 ุณูุฉ")

    with col4:
        st.metric("โก ุณุฑุนุฉ ุงูุชูุงุถู", "8.5 ุดูุฑ", "ุชุญุณู 15%")
        st.metric("๐ฐ ุชูููุฉ ุงูููุงุฒุนุงุช", "45M ุฏููุงุฑ", "ุณูููุงู")

    # ุงูุฎุงุฑุทุฉ ุงูุชุดุฑูุนูุฉ ุงูุชูุงุนููุฉ
    st.markdown("### ๐บ๏ธ ุงูุฎุงุฑุทุฉ ุงูุชุดุฑูุนูุฉ ุงูุชูุงุนููุฉ")

    legislative_map = {
        "1996-2000": {"event": "ุฅุตุฏุงุฑ ุงููุงููู ุงูุฃุณุงุณู", "impact": "ุชุฃุณูุณ ุงููุธุงู ุงููุงูููู"},
        "2001-2005": {"event": "ุชุนุฏููุงุช ุงูุฃุฌูุฑ ูุงูุฅุฌุงุฒุงุช", "impact": "ุชุญุณูู ูุณุชููุงุช ุงููุนูุดุฉ"},
        "2006-2010": {"event": "ุชุนุฒูุฒ ุญูุงูุฉ ุงููุณุงุก ูุงูุฃุญุฏุงุซ", "impact": "ุฒูุงุฏุฉ ูุดุงุฑูุฉ ุงููุฑุฃุฉ"},
        "2011-2015": {"event": "ุฅุตูุงุญุงุช ุณูู ุงูุนูู", "impact": "ุฎูุถ ูุนุฏู ุงูุจุทุงูุฉ"},
        "2016-2020": {"event": "ุงูุชุญูู ุงูุฑููู ูู ุงูุนูู", "impact": "ุชููู ูุน ุงููุชุบูุฑุงุช"},
        "2021-2024": {"event": "ุงูุชุนุฏููุงุช ุงูุดุงููุฉ", "impact": "ููุงูุจุฉ ุงููุณุชุฌุฏุงุช"}
    }

    for period, info in legislative_map.items():
        with st.expander(f"๐ {period}: {info['event']}"):
            col1, col2 = st.columns(2)
            with col1:
                st.write(f"**ุงูุญุฏุซ ุงูุชุดุฑูุนู:** {info['event']}")
            with col2:
                st.write(f"**ุงูุฃุซุฑ:** {info['impact']}")

            # ุชุญููู ููุตู ููู ูุชุฑุฉ
            analysis = analyze_legislative_period(period)
            st.write(f"**ุงูุชุญููู:** {analysis}")

# ==========================
# ๐ ุงูููุชุจุฉ ุงูุชุดุฑูุนูุฉ ุงูููุณุนุฉ
# ==========================
def show_legislative_library():
    st.markdown("#### ๐ ุงูููุณูุนุฉ ุงูุชุดุฑูุนูุฉ ุงูุดุงููุฉ")

    # ุงูุจุญุซ ุงูุณุฑูุน ูู ุงูุชุดุฑูุนุงุช
    st.markdown("#### ๐ ุงูุจุญุซ ุงูุณุฑูุน ูู ุงููุตูุต ุงูุชุดุฑูุนูุฉ")

    quick_search = st.text_input("ุงุจุญุซ ูู ุงููุตูุต ุงูุชุดุฑูุนูุฉ", placeholder="ุงุฏุฎู ูุตุทูุญุงู ูุงููููุงู...", key="researcher_search")
    if quick_search:
        st.info(f"ูุชุงุฆุฌ ุงูุจุญุซ ุนู: '{quick_search}'")
        # ูุญุงูุงุฉ ูุชุงุฆุฌ ุงูุจุญุซ
        search_results = [
            f"ุงููุงุฏุฉ 55: {quick_search} ูู ููุงุนูุฏ ุตุฑู ุงูุฃุฌูุฑ",
            f"ุงููุงุฏุฉ 74: {quick_search} ูู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", 
            f"ูุธุงู ุงูุฃุฌูุฑ: {quick_search} ูู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ"
        ]
        for result in search_results:
            st.write(f"โข {result}")

    # ุงูุชุตููู ุงูุชูุตููู ููุชุดุฑูุนุงุช
    legislation_categories = {
        "๐ ุงููุงููู ุงูุฃุณุงุณู ูุชุนุฏููุงุชู": {
            "description": "ุงููุงููู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู ุงููุงุญูุฉ",
            "sections": [
                {
                    "title": "๐ ุงูุจุงุจ ุงูุฃูู: ุงูุฃุญูุงู ุงูุนุงูุฉ ูุงูุชุนุฑููุงุช",
                    "articles": "1-12",
                    "content": {
                        "ุงููุงุฏุฉ 1": "ุชุนุฑููุงุช ุงูุนุงูู ูุตุงุญุจ ุงูุนูู ูุนูุฏ ุงูุนูู",
                        "ุงููุงุฏุฉ 2": "ูุทุงู ุณุฑูุงู ุงููุงููู ูุงุณุชุซูุงุกุงุชู",
                        "ุงููุงุฏุฉ 3": "ูุจุฏุฃ ุงููุณุงูุงุฉ ูุนุฏู ุงูุชูููุฒ",
                        "ุงููุงุฏุฉ 4": "ุงูุฃุนุฑุงู ูุงูููุงุฑุณุงุช ุงูุนูููุฉ",
                        "ุงููุงุฏุฉ 5": "ุชุทุจูู ูุจุฏุฃ ุงูุฃูุถููุฉ ููุนุงูู",
                        "ุงููุงุฏุฉ 6": "ุงูุงูุชุฒุงู ุจูุจุงุฏุฆ ุงูุนุฏุงูุฉ ุงูุงุฌุชูุงุนูุฉ"
                    }
                },
                {
                    "title": "๐ ุงูุจุงุจ ุงูุซุงูู: ุนูุฏ ุงูุนูู",
                    "articles": "13-33",
                    "content": {
                        "ุงููุงุฏุฉ 13": "ูุฌูุจ ูุชุงุจุฉ ุนูุฏ ุงูุนูู",
                        "ุงููุงุฏุฉ 14": "ุฃููุงุน ุนููุฏ ุงูุนูู",
                        "ุงููุงุฏุฉ 15": "ุชุณููู ูุณุฎุฉ ูู ุงูุนูุฏ ููุนุงูู",
                        "ุงููุงุฏุฉ 16": "ุงูุชุฃูุฏ ูู ุฃูููุฉ ุงูุนุงูู"
                    }
                }
            ]
        },
        "๐ฐ ุฃูุธูุฉ ุงูุฃุฌูุฑ ูุงูููุงูุขุช": {
            "description": "ุงูุฃูุธูุฉ ุงููุชุนููุฉ ุจุงูุฃุฌูุฑ ูุงูุจุฏูุงุช ูุงูููุงูุขุช",
            "sections": [
                {
                    "title": "ูุธุงู ุงูุฃุฌูุฑ ูุงูุจุฏูุงุช 2025",
                    "articles": "1-15", 
                    "content": {
                        "ุงููุงุฏุฉ 1": "ุชุญุฏูุฏ ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                        "ุงููุงุฏุฉ 2": "ุฃููุงุน ุงูุจุฏูุงุช ุงููุณุชุญูุฉ",
                        "ุงููุงุฏุฉ 3": "ููุงุนูุฏ ุตุฑู ุงูุฑูุงุชุจ"
                    }
                }
            ]
        }
    }

    for category, info in legislation_categories.items():
        with st.expander(f"{category} - {info['description']}"):
            for section in info['sections']:
                with st.expander(f"๐ {section['title']} (ุงูููุงุฏ {section['articles']})"):
                    for article, content in section['content'].items():
                        with st.expander(f"๐ {article}"):
                            st.write(content)

                            # ุฃุฏูุงุช ุงูุชุญููู ููู ูุงุฏุฉ
                            col1, col2, col3 = st.columns(3)
                            with col1:
                                if st.button("๐ ุงูุชุญููู ุงููุตู", key=f"text_analysis_{article}"):
                                    analysis = analyze_legal_article(content)
                                    st.info(analysis)
                            with col2:
                                if st.button("โ๏ธ ุงูุชุทุจููุงุช ุงููุถุงุฆูุฉ", key=f"jurisprudence_{article}"):
                                    st.success("ุฌุงุฑู ุงูุจุญุซ ุนู ุงูุชุทุจููุงุช ุงููุถุงุฆูุฉ...")
                            with col3:
                                if st.button("๐ ุงูุดุฑูุญุงุช ุงูููููุฉ", key=f"doctrine_{article}"):
                                    st.warning("ุฌุงุฑู ุชุญููู ุงูุดุฑูุญุงุช ุงูููููุฉ...")

# ==========================
# โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ ุงูููุณุนุฉ
# ==========================
def show_legal_precedents():
    st.markdown("#### โ๏ธ ุงูููุณูุนุฉ ุงููุถุงุฆูุฉ ุงูุดุงููุฉ")

    # ุฅุญุตุงุฆูุงุช ุงููุถุงุก ุงูุนูุงูู
    st.markdown("#### ๐ ุฅุญุตุงุฆูุงุช ุงููุถุงุก ุงูุนูุงูู")

    col1, col2, col3, col4 = st.columns(4)

    with col1:
        st.metric("ุฅุฌูุงูู ุงููุถุงูุง", "12,450")
        st.metric("ูุถุงูุง ุงูุฃุฌูุฑ", "5,234 (42%)")

    with col2:
        st.metric("ูุถุงูุง ุงููุตู", "3,567 (29%)")
        st.metric("ูุถุงูุง ุงูุฅุฌุงุฒุงุช", "1,890 (15%)")

    with col3:
        st.metric("ูุนุฏู ุงูุญู ุงููุฏู", "65%")
        st.metric("ูุฏุฉ ุงูุชูุงุถู", "8.5 ุดูุฑ")

    with col4:
        st.metric("ูุถุงูุง ูุญููุฉ ุงูุชูููุฒ", "1,200")
        st.metric("ูุณุจุฉ ุงููุฌุงุญ", "58%")

    # ุงูุชุตููู ุงููุชูุฏู ููุณูุงุจู
    jurisprudence_categories = {
        "๐ ุงูุชูุณูุฑ ุงููุถุงุฆู ูููุตูุต": {
            "description": "ุงุฌุชูุงุฏุงุช ุงููุญุงูู ูู ุชูุณูุฑ ุงููุตูุต ุงูุบุงูุถุฉ ุฃู ุงูุนุงูุฉ",
            "cases": [
                {
                    "title": "ุชูููุฒ ุนูู ุฑูู 120/2020 - ุชูุณูุฑ ุนูุฏ ุงูุนูู ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ",
                    "court": "ูุญููุฉ ุงูุชูููุฒ - ุงูุฏุงุฆุฑุฉ ุงูุนูุงููุฉ",
                    "date": "2020/06/15",
                    "summary": "ุชูุณูุฑ ููููู ุงูุนูุฏ ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ ูุขุซุงุฑู ุงููุงููููุฉ",
                    "principle": "ุงูุนูุฏ ุบูุฑ ุงููุญุฏุฏ ุงููุฏุฉ ูุณุชูุฑ ูุง ุฏุงูุช ุนูุงูุฉ ุงูุนูู ูุงุฆูุฉ ููุชุทูุจ ุณุจุจุงู ูุดุฑูุนุงู ููุฅููุงุก",
                    "analysis": "ุงููุญููุฉ ูุณุนุช ููููู ุงูุงุณุชูุฑุงุฑ ุงููุธููู ูุฃูุฏุช ุนูู ุญูุงูุฉ ุงูุนุงูู ูู ุงููุตู ุงูุชุนุณูู",
                    "impact": "ุฃุตุจุญ ูุฐุง ุงูุญูู ูุฑุฌุนุงู ุฃุณุงุณูุงู ูู ูุถุงูุง ุฅููุงุก ุนููุฏ ุงูุนูู",
                    "references": ["ูุงููู ุงูุนูู ุงููุงุฏุฉ 14", "ุชูููุฒ ุนูู 85/2018", "ุชูููุฒ ุนูู 200/2019"]
                }
            ]
        },
        "๐ฐ ุงูููุงุฒุนุงุช ุงููุงููุฉ": {
            "description": "ูุถุงูุง ุงูุฃุฌูุฑ ูุงููุณุชุญูุงุช ูุงูููุงูุขุช",
            "cases": [
                {
                    "title": "ุชูููุฒ ุนูู ุฑูู 45/2023 - ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
                    "court": "ูุญููุฉ ุงูุชูููุฒ - ุงูุฏุงุฆุฑุฉ ุงูุนูุงููุฉ", 
                    "date": "2023/03/20",
                    "summary": "ูุฒุงุน ุญูู ุทุฑููุฉ ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ููุนุงูู ุงููููู",
                    "principle": "ุชุญุณุจ ุงูููุงูุฃุฉ ุนูู ุฃุณุงุณ ุขุฎุฑ ุฑุงุชุจ ูุงุณุชูุงุฏุงู ููุฏุฉ ุงูุฎุฏูุฉ ุงููุนููุฉ",
                    "analysis": "ุงููุญููุฉ ุฃูุฏุช ุนูู ุดููู ูุงูุฉ ููููุงุช ุงูุฃุฌุฑ ูู ุญุณุงุจ ุงูููุงูุฃุฉ",
                    "impact": "ุชูุญูุฏ ุทุฑููุฉ ุญุณุงุจ ุงูููุงูุฃุฉ ูู ุงููุถุงุก ุงูุฃุฑุฏูู",
                    "references": ["ุงููุงุฏุฉ 74", "ุงููุงุฏุฉ 75", "ุชูููุฒ ุนูู 150/2021"]
                }
            ]
        }
    }

    for category, info in jurisprudence_categories.items():
        with st.expander(f"{category} - {info['description']}"):
            for case in info['cases']:
                with st.expander(f"โ๏ธ {case['title']}"):
                    col1, col2 = st.columns(2)

                    with col1:
                        st.write(f"**ุงููุญููุฉ:** {case['court']}")
                        st.write(f"**ุงูุชุงุฑูุฎ:** {case['date']}")
                        st.write(f"**ููุฎุต ุงููุถูุฉ:** {case['summary']}")
                        st.write(f"**ุงููุจุฏุฃ ุงููุงูููู:** {case['principle']}")

                    with col2:
                        st.write(f"**ุงูุชุญููู:** {case['analysis']}")
                        st.write(f"**ุงูุฃุซุฑ:** {case['impact']}")
                        st.write(f"**ุงููุฑุงุฌุน:** {', '.join(case['references'])}")

                    # ุฃุฏูุงุช ุฅุถุงููุฉ
                    col1, col2, col3 = st.columns(3)
                    with col1:
                        if st.button("๐ฅ ุชุญููู ุงูุญูู", key=f"download_{case['title']}"):
                            st.success("ุฌุงุฑู ุชุญููู ูุณุฎุฉ ูู ุงูุญูู...")
                    with col2:
                        if st.button("๐ ุฑูุงุจุท ุฐุงุช ุตูุฉ", key=f"related_{case['title']}"):
                            st.info("ุนุฑุถ ุงููุถุงูุง ุงููุดุงุจูุฉ...")
                    with col3:
                        if st.button("๐ ุชุญููู ุฅุญุตุงุฆู", key=f"stats_{case['title']}"):
                            st.warning("ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช ุงูุฅุญุตุงุฆูุฉ...")

# ==========================
# ๐ ุงูุฏุฑุงุณุงุช ูุงูุฃุจุญุงุซ ุงูููุณุนุฉ
# ==========================
def show_research_studies():
    st.markdown("#### ๐ ุงูููุตุฉ ุงูุจุญุซูุฉ ุงููุชูุงููุฉ")

    # ุชุตููู ูุชูุฏู ููุฏุฑุงุณุงุช
    research_categories = {
        "๐ ุงูุฏุฑุงุณุงุช ุงููููุฉ ูุงูุฅุญุตุงุฆูุฉ": {
            "description": "ุฏุฑุงุณุงุช ุชุนุชูุฏ ุนูู ุงูุชุญููู ุงูุฅุญุตุงุฆู ูุงูุจูุงูุงุช ุงูุฑูููุฉ",
            "studies": [
                {
                    "title": "ุชุญููู ุฃุซุฑ ุชุนุฏููุงุช ูุงููู ุงูุนูู 2024 ุนูู ูุคุดุฑุงุช ุณูู ุงูุนูู",
                    "author": "ุฏ. ูุญูุฏ ุฃุญูุฏ - ูุฑูุฒ ุงูุฏุฑุงุณุงุช ุงูุงูุชุตุงุฏูุฉ",
                    "year": "2024",
                    "methodology": "ุชุญููู ุงูุญุฏุงุฑ ูุจูุงูุงุช 1000 ููุดุฃุฉ ุฎูุงู 5 ุณููุงุช",
                    "findings": "ุชุญุณู ูู ูุคุดุฑุงุช ุงูุงุณุชูุฑุงุฑ ุงููุธููู ุจูุณุจุฉ 18%ุ ุงูุฎูุงุถ ูู ูุนุฏู ุฏูุฑุงู ุงูุนูุงูุฉ ุจูุณุจุฉ 12%",
                    "data_sources": ["ูุณุญ ุงูููู ุงูุนุงููุฉ", "ุจูุงูุงุช ูุฒุงุฑุฉ ุงูุนูู", "ุชูุงุฑูุฑ ุงูููุดุขุช"],
                    "statistical_tools": ["SPSS", "Stata", "ุชุญููู ุงูุงูุญุฏุงุฑ ุงููุชุนุฏุฏ"],
                    "sample_size": "1000 ููุดุฃุฉุ 5000 ุนุงูู",
                    "confidence_level": "95%",
                    "limitations": "ุนุฏู ุดููู ุงููุทุงุน ุบูุฑ ุงูููุธูุ ุชุญูุฒ ูู ุงูุฅุจูุงุบ ุงูุฐุงุชู"
                }
            ]
        },
        "๐ ุงูุฏุฑุงุณุงุช ุงูููุนูุฉ": {
            "description": "ุฏุฑุงุณุงุช ุชุนุชูุฏ ุนูู ุงูููุงุจูุงุช ูุงูููุงุญุธุฉ ูุงูุชุญููู ุงูููุนู",
            "studies": [
                {
                    "title": "ุชูููู ูุนุงููุฉ ุขููุงุช ุชุณููุฉ ููุงุฒุนุงุช ุงูุนูู ูู ุงูุฃุฑุฏู",
                    "author": "ุฏ. ุณุงุฑุฉ ุงูุฎูุงูุฏุฉ - ุงูุฌุงูุนุฉ ุงูุฃุฑุฏููุฉ",
                    "year": "2023",
                    "methodology": "ููุงุจูุงุช ูุนููุฉ ูุน 50 ุฎุจูุฑุงู ููุงุถูุงู ููุญุงููุงู",
                    "findings": "ููุงุกุฉ ูุธุงู ุงููุณุงุทุฉ ุจูุณุจุฉ 68%ุ ุญุงุฌุฉ ูุชุญุณูู ูุธุงู ุงูุชุญููู",
                    "data_sources": ["ููุงุจูุงุช ูุนููุฉ", "ุชุญููู ูุซุงุฆู", "ููุงุญุธุฉ ูุดุงุฑูุฉ"],
                    "analysis_method": "ุงูุชุญููู ุงูููุถูุนูุ ุชุญููู ุงููุญุชูู",
                    "sample_characteristics": "ุฎุจุฑุงุกุ ูุถุงุฉุ ูุญุงูููุ ุฃุทุฑุงู ููุงุฒุนุงุช",
                    "validity": "ุตุฏู ุงููุญุชููุ ุตุฏู ุงูุจูุงุก",
                    "limitations": "ุตุนูุจุฉ ุงููุตูู ูุจุนุถ ุงููุจุญูุซูู"
                }
            ]
        },
        "๐ ุงูุฏุฑุงุณุงุช ุงูููุงุฑูุฉ": {
            "description": "ุฏุฑุงุณุงุช ุชูุงุฑู ุงูุชุดุฑูุน ุงูุฃุฑุฏูู ูุน ุชุฌุงุฑุจ ุฏูููุฉ",
            "studies": [
                {
                    "title": "ุชุดุฑูุนุงุช ุงูุนูู ุงููุฑู: ููุงุฑูุฉ ุจูู ุงูุฃุฑุฏู ูุงูุฅูุงุฑุงุช ููุงููุฒูุง",
                    "author": "ุฏ. ุฎุงูุฏ ุฃุจู ุฑูุงู - ูุฑูุฒ ุงูุฏุฑุงุณุงุช ุงูุงุณุชุฑุงุชูุฌูุฉ",
                    "year": "2024",
                    "methodology": "ุงููููุฌ ุงูููุงุฑู ูุชุญููู ุงูุณูุงุณุงุช",
                    "findings": "ุชููู ุงููููุฐุฌ ุงูุฅูุงุฑุงุชู ูู ุชูุธูู ุงูุนูู ุนู ุจุนุฏุ ุญุงุฌุฉ ุงูุฃุฑุฏู ูุชุทููุฑ ุขููุงุช ุงูุญูุงูุฉ",
                    "comparison_countries": ["ุงูุฃุฑุฏู", "ุงูุฅูุงุฑุงุช", "ูุงููุฒูุง", "ุชุฑููุง"],
                    "comparison_criteria": ["ุงูุญูุงูุฉ ุงูุงุฌุชูุงุนูุฉ", "ุงููุฑููุฉ", "ุงูุฅูุชุงุฌูุฉ", "ุงูุชูููุฉ"],
                    "policy_recommendations": "ุงุนุชูุงุฏ ูุธุงู ุชุฃูููู ุฎุงุตุ ุชุทููุฑ ุขููุงุช ุงูุฑูุงุจุฉ",
                    "impact_assessment": "ุชุญุณูู ุชูุงูุณูุฉ ุณูู ุงูุนููุ ุฌุฐุจ ุงูุงุณุชุซูุงุฑุงุช"
                }
            ]
        }
    }

    for category, info in research_categories.items():
        with st.expander(f"{category} - {info['description']}"):
            for study in info['studies']:
                with st.expander(f"๐ {study['title']}"):
                    col1, col2 = st.columns(2)

                    with col1:
                        st.write(f"**ุงูุจุงุญุซ:** {study['author']}")
                        st.write(f"**ุณูุฉ ุงููุดุฑ:** {study['year']}")
                        st.write(f"**ุงููููุฌูุฉ:** {study['methodology']}")
                        st.write(f"**ูุตุงุฏุฑ ุงูุจูุงูุงุช:** {', '.join(study['data_sources'])}")

                    with col2:
                        if 'statistical_tools' in study:
                            st.write(f"**ุงูุฃุฏูุงุช ุงูุฅุญุตุงุฆูุฉ:** {', '.join(study['statistical_tools'])}")
                        if 'sample_size' in study:
                            st.write(f"**ุญุฌู ุงูุนููุฉ:** {study['sample_size']}")
                        if 'confidence_level' in study:
                            st.write(f"**ูุณุชูู ุงูุซูุฉ:** {study['confidence_level']}")
                        if 'limitations' in study:
                            st.write(f"**ุงููุญุฏุฏุงุช:** {study['limitations']}")

                    st.write(f"**ุงููุชุงุฆุฌ ุงูุฑุฆูุณูุฉ:** {study['findings']}")

                    # ุฑูุงุจุท ููุตุงุฏุฑ ุฅุถุงููุฉ
                    col1, col2, col3 = st.columns(3)
                    with col1:
                        if st.button("๐ ุงููุต ุงููุงูู", key=f"full_{study['title']}"):
                            st.success("ุฌุงุฑู ุชุญููู ุงูุฏุฑุงุณุฉ ุงููุงููุฉ...")
                    with col2:
                        if st.button("๐ ุงููุฑุงุฌุน", key=f"refs_{study['title']}"):
                            st.info("ุนุฑุถ ูุงุฆูุฉ ุงููุฑุงุฌุน ุงููุงููุฉ...")
                    with col3:
                        if st.button("๐ฏ ุงูุชุทุจููุงุช", key=f"apps_{study['title']}"):
                            st.warning("ุนุฑุถ ุงูุชุทุจููุงุช ุงูุนูููุฉ ููุฏุฑุงุณุฉ...")

# ==========================
# ๐ ุงูุจุญุซ ุงููุชูุฏู ุงูููุณุน
# ==========================
def show_advanced_search():
    st.markdown("#### ๐ ุงูููุตุฉ ุงููุชูุฏูุฉ ููุจุญุซ ุงูุนููู")

    # ุงูุจุญุซ ุงูุฏูุงูู ุงููุชูุฏู
    st.markdown("#### ๐ง ุงูุจุญุซ ุงูุฏูุงูู ูุงูููุงูููู")

    semantic_search = st.text_area(
        "ุงุฏุฎู ูููููู ุงูุจุญุซู ุฃู ูุฑุถูุชู",
        placeholder="ูุซุงู: ุฃุซุฑ ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ ุนูู ูุนุฏูุงุช ุงูููุฑ ูุงูุนูุงูุฉ ุบูุฑ ุงูุฑุณููุฉ ูู ุงููุทุงุน ุงูุฎุงุต ุงูุฃุฑุฏูู...",
        height=100
    )

    if st.button("๐งฉ ุจุญุซ ุฏูุงูู", key="semantic_search"):
        if semantic_search:
            # ูุญุงูุงุฉ ุงูุจุญุซ ุงูุฏูุงูู
            semantic_results = [
                {
                    "concept": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                    "related_studies": ["ุฏุฑุงุณุฉ ุงูุฃุซุฑ ุงูุงูุชุตุงุฏู 2023", "ุชุญููู ุงูููุฑ 2022", "ุชูููู ุงูุณูุงุณุงุช 2024"],
                    "legal_provisions": ["ุงููุงุฏุฉ 35", "ูุธุงู ุงูุฃุฌูุฑ 2020", "ูุฑุงุฑุงุช ูุฌูุณ ุงููุฒุฑุงุก"],
                    "jurisprudence": ["ุชูููุฒ ุนูู 85/2019", "ุชูููุฒ ุนูู 150/2021", "ูุญููุฉ ุงุณุชุฆูุงู 2023"],
                    "statistical_data": ["ูุนุฏูุงุช ุงูุชูุธูู", "ุงูุฏุฎู ุงููุฑุฏู", "ุงูููุฑ ุงููุณุจู"],
                    "international_experiences": ["ุชุฌุฑุจุฉ ูุงููุฒูุง", "ูููุฐุฌ ุชุฑููุง", "ุณูุงุณุงุช ุงูุฎููุฌ"]
                }
            ]

            st.success("## ๐ง ูุชุงุฆุฌ ุงูุจุญุซ ุงูุฏูุงูู")

            for result in semantic_results:
                with st.expander(f"๐ ุงูููููู: {result['concept']}"):
                    col1, col2 = st.columns(2)

                    with col1:
                        st.write("**ุงูุฏุฑุงุณุงุช ุฐุงุช ุงูุตูุฉ:**")
                        for study in result['related_studies']:
                            st.write(f"โข {study}")

                        st.write("**ุงููุตูุต ุงูุชุดุฑูุนูุฉ:**")
                        for provision in result['legal_provisions']:
                            st.write(f"โข {provision}")

                    with col2:
                        st.write("**ุงูุณูุงุจู ุงููุถุงุฆูุฉ:**")
                        for case in result['jurisprudence']:
                            st.write(f"โข {case}")

                        st.write("**ุงูุจูุงูุงุช ุงูุฅุญุตุงุฆูุฉ:**")
                        for data in result['statistical_data']:
                            st.write(f"โข {data}")

    # ููุงุชุฑ ุงูุจุญุซ ุงููุชูุฏูุฉ
    st.markdown("#### ๐ฏ ููุงุชุฑ ุงูุจุญุซ ุงููุชูุฏูุฉ")

    col1, col2, col3 = st.columns(3)

    with col1:
        document_type = st.multiselect(
            "ููุน ุงููุซููุฉ",
            ["ุชุดุฑูุนุงุช", "ุณูุงุจู ูุถุงุฆูุฉ", "ุฏุฑุงุณุงุช ุฃูุงุฏูููุฉ", "ุชูุงุฑูุฑ ุฑุณููุฉ", "ููุงูุงุช"]
        )

        time_period = st.slider(
            "ุงููุชุฑุฉ ุงูุฒูููุฉ",
            1996, 2025, (2010, 2025)
        )

    with col2:
        research_methodology = st.multiselect(
            "ุงููููุฌูุฉ ุงูุจุญุซูุฉ",
            ["ููู", "ููุนู", "ููุงุฑู", "ุชุญูููู", "ุชุทุจููู"]
        )

        geographic_scope = st.selectbox(
            "ุงููุทุงู ุงูุฌุบุฑุงูู",
            ["ุงูุฃุฑุฏู", "ุฏูู ุนุฑุจูุฉ", "ุฏูููุฉ", "ููุงุฑู"]
        )

    with col3:
        legal_topic = st.multiselect(
            "ุงููุฌุงู ุงููุงูููู",
            ["ุนููุฏ ุงูุนูู", "ุงูุฃุฌูุฑ", "ุงูุณูุงูุฉ", "ุฅููุงุก ุงูุฎุฏูุฉ", "ุงูุชุฃูููุงุช"]
        )

        citation_count = st.slider(
            "ุญุฏ ุฃุฏูู ููุงุณุชุดูุงุฏุงุช",
            0, 100, 10
        )

    if st.button("๐ ุชุทุจูู ุงูููุงุชุฑ ูุงูุจุญุซ", key="advanced_filter_search"):
        st.success(f"ุฌุงุฑู ุงูุจุญุซ ูู {len(document_type)} ุฃููุงุน ูุซุงุฆู ุฎูุงู ุงููุชุฑุฉ {time_period[0]}-{time_period[1]}")

# ==========================
# ๐๏ธ ุฃุฏูุงุช ุงูุจุงุญุซ ุงูููุณุนุฉ
# ==========================
def show_research_tools():
    st.markdown("#### ๐๏ธ ูุฌููุนุฉ ุงูุฃุฏูุงุช ุงูุจุญุซูุฉ ุงููุชูุงููุฉ")

    tool_tabs = st.tabs([
        "๐ ุฃุฏุงุฉ ุงูุงูุชุจุงุณ", 
        "๐ ููุงุฑูุฉ ุงูุชุดุฑูุนุงุช", 
        "๐ ูุญูู ุงููุตูุต",
        "๐พ ุฅุฏุงุฑุฉ ุงูููุชุจุฉ"
    ])

    with tool_tabs[0]:
        st.markdown("#### ๐ ุงูููุตุฉ ุงููุชูุงููุฉ ููุงูุชุจุงุณ ูุงูุชูุซูู")

        # ุฃูุธูุฉ ุงูุงูุชุจุงุณ ุงููุชุนุฏุฏุฉ
        citation_systems = {
            "APA": "ูุธุงู ุงูุฌูุนูุฉ ุงูุฃูุฑูููุฉ ูุนูู ุงูููุณ",
            "MLA": "ูุธุงู ุฌูุนูุฉ ุงููุบุงุช ุงูุญุฏูุซุฉ", 
            "Chicago": "ูุธุงู ุดููุงุบู",
            "Harvard": "ูุธุงู ูุงุฑูุงุฑุฏ",
            "OSCOLA": "ูุธุงู ุฃูุณููุฑุฏ ููุงูุชุจุงุณ ุงููุงูููู"
        }

        selected_system = st.selectbox("ุงุฎุชุฑ ูุธุงู ุงูุงูุชุจุงุณ", list(citation_systems.keys()))
        st.info(f"ุงููุธุงู ุงููุฎุชุงุฑ: {citation_systems[selected_system]}")

        # ูููุฐุฌ ูุชูุฏู ูุฅุฏุฎุงู ุงูุจูุงูุงุช
        col1, col2 = st.columns(2)

        with col1:
            doc_category = st.selectbox("ููุน ุงููุตุฏุฑ", [
                "ูุงููู ุฃู ุชุดุฑูุน",
                "ุญูู ูุถุงุฆู", 
                "ูุชุงุจ",
                "ููุงู ูุฌูุฉ", 
                "ุฑุณุงูุฉ ุนูููุฉ",
                "ุชูุฑูุฑ",
                "ูููุน ุฅููุชุฑููู"
            ])

            authors = st.text_area("ุงููุคูููู/ุงูุฌูุงุช (ุณุทุฑ ููู ูุคูู)")
            title = st.text_input("ุงูุนููุงู ุงููุงูู")
            year = st.number_input("ุณูุฉ ุงููุดุฑ", min_value=1900, max_value=2025, value=2024)

        with col2:
            publisher = st.text_input("ุงููุงุดุฑ/ุงูุฌูุฉ ุงููุงุดุฑุฉ")
            place = st.text_input("ููุงู ุงููุดุฑ")
            url = st.text_input("ุฑุงุจุท ุงููุตุฏุฑ (ูููุตุงุฏุฑ ุงูุฅููุชุฑูููุฉ)")
            accessed_date = st.date_input("ุชุงุฑูุฎ ุงููุตูู (ูููุตุงุฏุฑ ุงูุฅููุชุฑูููุฉ)")

        if st.button("๐๏ธ ุชูููุฏ ุงูุงูุชุจุงุณ", key="generate_advanced_citation"):
            citation = generate_advanced_citation(
                doc_category, authors, title, year, publisher, place,
                url, accessed_date, selected_system
            )

            st.success("#### ๐ ุงูุงูุชุจุงุณ ุงูุฌุงูุฒ")
            st.text_area("ุงูุงูุชุจุงุณ ุงูููุณู", citation, height=150)

            # ุฎูุงุฑุงุช ุฅุถุงููุฉ
            col1, col2, col3 = st.columns(3)
            with col1:
                st.download_button("๐ฅ ุชุญููู ุงูุงูุชุจุงุณ", data=citation, file_name="citation.txt")
            with col2:
                if st.button("๐ ูุณุฎ ููุญุงูุธุฉ"):
                    st.success("ุชู ุงููุณุฎ ููุญุงูุธุฉ")
            with col3:
                if st.button("๐ฏ ุฅุถุงูุฉ ููููุชุจุฉ"):
                    st.info("ุชูุช ุงูุฅุถุงูุฉ ููููุชุจุฉ ุงูุดุฎุตูุฉ")

    with tool_tabs[1]:
        st.markdown("#### ๐ ุฃุฏุงุฉ ุงูููุงุฑูุฉ ุงูุชุดุฑูุนูุฉ ุงููุชูุฏูุฉ")

        col1, col2 = st.columns(2)

        with col1:
            st.subheader("ุงููุต ุงูุฃูู")
            text1_category = st.selectbox("ุชุตููู ุงููุต ุงูุฃูู", ["ุชุดุฑูุน ุฃุฑุฏูู", "ุชุดุฑูุน ููุงุฑู", "ูุดุฑูุน ูุงููู"])
            text1_content = st.text_area("ุงููุต ุงูุฃูู", height=200)

        with col2:
            st.subheader("ุงููุต ุงูุซุงูู") 
            text2_category = st.selectbox("ุชุตููู ุงููุต ุงูุซุงูู", ["ุชุดุฑูุน ุฃุฑุฏูู", "ุชุดุฑูุน ููุงุฑู", "ูุดุฑูุน ูุงููู"])
            text2_content = st.text_area("ุงููุต ุงูุซุงูู", height=200)

        if st.button("๐ ุฅุฌุฑุงุก ุงูููุงุฑูุฉ", key="compare_texts"):
            # ูุญุงูุงุฉ ุงูููุงุฑูุฉ
            comparison_results = {
                "ุงูุชุดุงุจู": "75%",
                "ุงูุงุฎุชูุงูุงุช ุงูุฑุฆูุณูุฉ": [
                    "ุงุฎุชูุงู ูู ุชุนุฑูู ุงูุนุงูู",
                    "ุชูุงูุช ูู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", 
                    "ุชุจุงูู ูู ุดุฑูุท ุฅููุงุก ุงูุฎุฏูุฉ"
                ],
                "ุงูุชูุตูุงุช": [
                    "ุชูุญูุฏ ุงูุชุนุฑููุงุช",
                    "ูุฑุงุนุงุฉ ุงููุนุงููุฑ ุงูุฏูููุฉ",
                    "ุชุญุณูู ุขููุงุช ุงูุญูุงูุฉ"
                ]
            }

            st.success("## ๐ ูุชุงุฆุฌ ุงูููุงุฑูุฉ")

            col1, col2 = st.columns(2)
            with col1:
                st.metric("ูุณุจุฉ ุงูุชุดุงุจู", comparison_results["ุงูุชุดุงุจู"])
                st.write("**ุงูุงุฎุชูุงูุงุช ุงูุฑุฆูุณูุฉ:**")
                for diff in comparison_results["ุงูุงุฎุชูุงูุงุช ุงูุฑุฆูุณูุฉ"]:
                    st.write(f"โข {diff}")
            with col2:
                st.write("**ุงูุชูุตูุงุช:**")
                for rec in comparison_results["ุงูุชูุตูุงุช"]:
                    st.write(f"๐ฏ {rec}")

# ==========================
# ๐ ุงููุฑุงุฌุน ูุงููุตุงุฏุฑ ุงูููุณุนุฉ
# ==========================
def show_references_sources():
    st.markdown("#### ๐ ุงูููุณูุนุฉ ุงููุฑุฌุนูุฉ ุงูุดุงููุฉ")

    ref_tabs = st.tabs(["ุงููุตุงุฏุฑ ุงูุฑุณููุฉ", "ุงููุตุงุฏุฑ ุงูุฃูุงุฏูููุฉ", "ููุงุนุฏ ุงูุจูุงูุงุช", "ุงูุฏูุฑูุงุช"])

    with ref_tabs[0]:
        st.markdown("##### ๐ ุงููุฑุงุฌุน ุงูุชุดุฑูุนูุฉ ุงูุฑุณููุฉ")

        official_sources = [
            {
                "title": "ูุฌููุนุฉ ุงูููุงููู ุงูุฃุฑุฏููุฉ - ูุฒุงุฑุฉ ุงูุนุฏู",
                "type": "ุณูุณูุฉ ุชุดุฑูุนูุฉ",
                "years": "1996-2025",
                "access": "ูุชุงุญุฉ ูู ุงูููุชุจุฉ ุงููุทููุฉ",
                "importance": "โญโญโญโญโญ",
                "description": "ุงููุตุฏุฑ ุงูุฑุณูู ููุชุดุฑูุนุงุช ุงูุฃุฑุฏููุฉ"
            },
            {
                "title": "ุงูุฌุฑูุฏุฉ ุงูุฑุณููุฉ ุงูุฃุฑุฏููุฉ",
                "type": "ูุดุฑุฉ ุฑุณููุฉ", 
                "years": "1996-2025",
                "access": "ุฅููุชุฑููู ููุทุจูุน",
                "importance": "โญโญโญโญโญ",
                "description": "ุงููุดุฑ ุงูุฑุณูู ููููุงููู ูุงูุฃูุธูุฉ"
            },
            {
                "title": "ุชูุงุฑูุฑ ูุฒุงุฑุฉ ุงูุนูู ุงูุณูููุฉ",
                "type": "ุชูุงุฑูุฑ ุฑุณููุฉ",
                "years": "2000-2024", 
                "access": "ูููุน ุงููุฒุงุฑุฉ ุงูุฅููุชุฑููู",
                "importance": "โญโญโญโญ",
                "description": "ุจูุงูุงุช ูุฅุญุตุงุฆูุงุช ุฑุณููุฉ ุนู ุณูู ุงูุนูู"
            }
        ]

        for source in official_sources:
            with st.expander(f"๐ {source['title']} ({source['importance']})"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูููุน:** {source['type']}")
                    st.write(f"**ุงููุชุฑุฉ:** {source['years']}")
                    st.write(f"**ุทุฑููุฉ ุงููุตูู:** {source['access']}")
                with col2:
                    st.write(f"**ุงูุฃูููุฉ:** {source['importance']}")
                    st.write(f"**ุงููุตู:** {source['description']}")

                if st.button(f"๐ ุงูุงูุชูุงู ูููุตุฏุฑ", key=f"goto_{source['title']}"):
                    st.info("ุฌุงุฑู ุงูุชูุฌูู ูููุตุฏุฑ ุงูุฑุณูู...")

    with ref_tabs[1]:
        st.markdown("##### ๐ ุงููุตุงุฏุฑ ุงูุฃูุงุฏูููุฉ ูุงูุจุญุซูุฉ")

        academic_sources = [
            {
                "title": "ุงููุฌูุฉ ุงูุฃุฑุฏููุฉ ูููุงููู",
                "publisher": "ุงูุฌุงูุนุฉ ุงูุฃุฑุฏููุฉ",
                "frequency": "ุฑุจุน ุณูููุฉ",
                "impact": "ูุฑูููุฉ",
                "topics": ["ูุงููู ุงูุนูู", "ุงูุชุดุฑูุนุงุช", "ุงูุชุญููู ุงููุถุงุฆู"]
            },
            {
                "title": "ุฃุจุญุงุซ ูููุฉ ุงูุญููู - ุฌุงูุนุฉ ุงููุฑููู",
                "publisher": "ุฌุงูุนุฉ ุงููุฑููู", 
                "frequency": "ุณูููุฉ",
                "impact": "ูุชูุณุทุฉ",
                "topics": ["ุงูุฏุฑุงุณุงุช ุงูููุงุฑูุฉ", "ุชุญููู ุงูุณูุงุณุงุช", "ุงูุชุดุฑูุนุงุช"]
            }
        ]

        for source in academic_sources:
            with st.expander(f"๐ {source['title']}"):
                st.write(f"**ุงููุงุดุฑ:** {source['publisher']}")
                st.write(f"**ุงูุชูุฑุงุฑ:** {source['frequency']}")
                st.write(f"**ุงูุชุฃุซูุฑ:** {source['impact']}")
                st.write(f"**ุงููุฌุงูุงุช:** {', '.join(source['topics'])}")

# ==========================
# ๐ ุงูููุงุฑูุงุช ุงูุฏูููุฉ ุงูููุณุนุฉ
# ==========================
def show_international_comparisons():
    st.markdown("#### ๐ ุงูููุงุฑูุงุช ุงูุชุดุฑูุนูุฉ ุงูุฏูููุฉ")

    comp_tabs = st.tabs(["ููุงุฑูุงุช ุชูุงุนููุฉ", "ุชุญููู ุงูุณูุงุณุงุช", "ุฃูุถู ุงูููุงุฑุณุงุช"])

    with comp_tabs[0]:
        st.markdown("##### ๐ ุฃุฏุงุฉ ุงูููุงุฑูุฉ ุงูุชุดุฑูุนูุฉ ุงูุฏูููุฉ ุงูุชูุงุนููุฉ")

        col1, col2, col3 = st.columns(3)

        with col1:
            country1 = st.selectbox("ุงูุฏููุฉ ุงูุฃููู", [
                "ุงูุฃุฑุฏู", "ูุตุฑ", "ุงูุณุนูุฏูุฉ", "ุงูุฅูุงุฑุงุช", "ุชุฑููุง", "ูุงููุฒูุง"
            ], key="country1")

        with col2:
            country2 = st.selectbox("ุงูุฏููุฉ ุงูุซุงููุฉ", [
                "ุงูุฃุฑุฏู", "ูุตุฑ", "ุงูุณุนูุฏูุฉ", "ุงูุฅูุงุฑุงุช", "ุชุฑููุง", "ูุงููุฒูุง" 
            ], key="country2")

        with col3:
            comparison_field = st.selectbox("ูุฌุงู ุงูููุงุฑูุฉ", [
                "ูุธุงู ุนููุฏ ุงูุนูู",
                "ุงูุญูุงูุฉ ูู ุงููุตู ุงูุชุนุณูู",
                "ูุธุงู ุงูุฃุฌูุฑ ูุงูุจุฏูุงุช",
                "ุงูุฅุฌ
comp_tabs = st.tabs(["ููุงุฑูุงุช ุชูุงุนููุฉ", "ุชุญููู ุงูุณูุงุณุงุช", "ุฃูุถู ุงูููุงุฑุณุงุช", "ุงูุชูุงุฑูุฑ ุงูุฏูููุฉ"])

with comp_tabs[0]:
    st.markdown("##### ๐ ุฃุฏุงุฉ ุงูููุงุฑูุฉ ุงูุชุดุฑูุนูุฉ ุงูุฏูููุฉ ุงูุชูุงุนููุฉ")

    col1, col2, col3 = st.columns(3)

    with col1:
        country1 = st.selectbox("ุงูุฏููุฉ ุงูุฃููู", [
            "ุงูุฃุฑุฏู", "ูุตุฑ", "ุงูุณุนูุฏูุฉ", "ุงูุฅูุงุฑุงุช", "ุชุฑููุง", "ูุงููุฒูุง", "ุณูุบุงููุฑุฉ", "ููุฑูุง ุงูุฌููุจูุฉ"
        ], key="country1")

    with col2:
        country2 = st.selectbox("ุงูุฏููุฉ ุงูุซุงููุฉ", [
            "ุงูุฃุฑุฏู", "ูุตุฑ", "ุงูุณุนูุฏูุฉ", "ุงูุฅูุงุฑุงุช", "ุชุฑููุง", "ูุงููุฒูุง", "ุณูุบุงููุฑุฉ", "ููุฑูุง ุงูุฌููุจูุฉ"
        ], key="country2")

    with col3:
        comparison_field = st.selectbox("ูุฌุงู ุงูููุงุฑูุฉ", [
            "ูุธุงู ุนููุฏ ุงูุนูู",
            "ุงูุญูุงูุฉ ูู ุงููุตู ุงูุชุนุณูู",
            "ูุธุงู ุงูุฃุฌูุฑ ูุงูุจุฏูุงุช",
            "ุงูุฅุฌุงุฒุงุช ูุงูุฑุนุงูุฉ ุงูุงุฌุชูุงุนูุฉ",
            "ุงูุตุญุฉ ูุงูุณูุงูุฉ ุงูููููุฉ",
            "ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ",
            "ุชุณููุฉ ุงูููุงุฒุนุงุช ุงูุนูุงููุฉ",
            "ุงูุนูู ุงูููุงุจู ูุงูุญุฑูุงุช ุงูููุงุจูุฉ"
        ])

    if st.button("๐ ุฅุฌุฑุงุก ููุงุฑูุฉ ุชูุงุนููุฉ", key="interactive_comparison"):
        comparison_result = generate_interactive_comparison(country1, country2, comparison_field)

        st.success(f"## ๐ ููุงุฑูุฉ ุจูู {country1} ู {country2} ูู {comparison_field}")

        # ุนุฑุถ ุงููุชุงุฆุฌ ูู ุฌุฏูู ููุงุฑู
        comparison_data = {
            "ุงููุนูุงุฑ": ["ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "ุณุงุนุงุช ุงูุนูู ุงูุฃุณุจูุนูุฉ", "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", "ุฅุฌุงุฒุฉ ุงูุฃูููุฉ", "ูุชุฑุฉ ุงูุฅุฎุทุงุฑ"],
            country1: ["290 ุฏููุงุฑ", "48 ุณุงุนุฉ", "21 ููู", "10 ุฃุณุงุจูุน", "1 ุฃุณุจูุน/ุณูุฉ"],
            country2: ["320 ุฏููุงุฑ", "45 ุณุงุนุฉ", "25 ููู", "12 ุฃุณุจูุน", "2 ุฃุณุจูุน/ุณูุฉ"]
        }

        comp_df = pd.DataFrame(comparison_data)
        st.dataframe(comp_df, use_container_width=True)

        # ุชุญููู ุงููุชุงุฆุฌ
        st.markdown("##### ๐ ุชุญููู ุงููุฑููุงุช ูุงูุชูุตูุงุช")

        analysis_points = [
            f"**ููุฒุฉ ูุณุจูุฉ ูู {country1}:** ูุธุงู ูุชูุงุฒู ูู ุงูุฅุฌุงุฒุงุช",
            f"**ููุฒุฉ ูุณุจูุฉ ูู {country2}:** ุญูุงูุฉ ุฃูุจุฑ ูู ูุชุฑุงุช ุงูุฅุฎุทุงุฑ",
            f"**ูุฌุงูุงุช ุชุญุณูู ูู {country1}:** ุฒูุงุฏุฉ ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
            f"**ูุฌุงูุงุช ุชุญุณูู ูู {country2}:** ุชุญุณูู ูุธุงู ุณุงุนุงุช ุงูุนูู"
        ]

        for point in analysis_points:
            st.write(f"โข {point}")

with comp_tabs[1]:
    st.markdown("##### ๐ ุชุญููู ุงูุณูุงุณุงุช ูุงูุชุฌุงุฑุจ ุงูุฏูููุฉ")

    policy_analysis = [
        {
            "ุงูุจูุฏ": "ุณูุบุงููุฑุฉ",
            "ุงููููุฐุฌ": "ุงููููุฐุฌ ุงูุชูุงููู",
            "ุงููููุฒุงุช": ["ูุฑููุฉ ุนุงููุฉ", "ุชุฏุฑูุจ ูุณุชูุฑ", "ุดุฑุงูุฉ ุซูุงุซูุฉ"],
            "ุงูุชุญุฏูุงุช": ["ุชูุงูุช ูู ุงูุฏุฎู", "ุถุบุท ุชูุงูุณู"],
            "ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ": "ุฏูุฌ ุงููุฑููุฉ ูุน ุงูุญูุงูุฉ ุงูุงุฌุชูุงุนูุฉ"
        },
        {
            "ุงูุจูุฏ": "ุฃููุงููุง",
            "ุงููููุฐุฌ": "ุงููููุฐุฌ ุงูุงุฌุชูุงุนู",
            "ุงููููุฒุงุช": ["ุญูุงูุฉ ูููุฉ", "ุชุฏุฑูุจ ูููู ูุชููุฒ", "ุงุณุชูุฑุงุฑ ูุธููู"],
            "ุงูุชๆๆูุงุช": ["ุชูุงููู ุนุงููุฉ", "ุจูุฑููุฑุงุทูุฉ"],
            "ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ": "ูุนุงููุฉ ูุธุงู ุงูุชุฏุฑูุจ ุงููุฒุฏูุฌ"
        },
        {
            "ุงูุจูุฏ": "ุงูุฅูุงุฑุงุช ุงูุนุฑุจูุฉ ุงููุชุญุฏุฉ",
            "ุงููููุฐุฌ": "ุงููููุฐุฌ ุงูุชูููู",
            "ุงููููุฒุงุช": ["ุจูุฆุฉ ุฌุงุฐุจุฉ", "ุชุดุฑูุนุงุช ูุฑูุฉ", "ุงุณุชุซูุงุฑ ูู ุงูููุงูุจ"],
            "ุงูุชุญุฏูุงุช": ["ุชุจุงูู ูู ุงูุญููู", "ุงุนุชูุงุฏ ุนูู ุงูุนูุงูุฉ ุงููุงูุฏุฉ"],
            "ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ": "ุฑุจุท ุงูุชุดุฑูุนุงุช ุจุงุญุชูุงุฌุงุช ุงูุชูููุฉ"
        }
    ]

    for analysis in policy_analysis:
        with st.expander(f"๐๏ธ ุชุญููู ุณูุงุณุงุช {analysis['ุงูุจูุฏ']}", expanded=True):
            col1, col2 = st.columns(2)

            with col1:
                st.write(f"**ุงููููุฐุฌ:** {analysis['ุงููููุฐุฌ']}")
                st.write("**ุงููููุฒุงุช:**")
                for advantage in analysis['ุงููููุฒุงุช']:
                    st.write(f"โ {advantage}")

            with col2:
                st.write("**ุงูุชุญุฏูุงุช:**")
                for challenge in analysis['ุงูุชุญุฏูุงุช']:
                    st.write(f"โ๏ธ {challenge}")
                st.write(f"**ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ:** {analysis['ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ']}")
stats_tabs = st.tabs(["ูุคุดุฑุงุช ุฑุฆูุณูุฉ", "ุงุชุฌุงูุงุช ุฒูููุฉ", "ุชุญููู ุงูุงุฑุชุจุงุท", "ุชูุจุคุงุช ูุณุชูุจููุฉ"])

with stats_tabs[0]:
    st.markdown("##### ๐ ููุญุฉ ุชุญูู ุงููุคุดุฑุงุช ุงูุชุดุฑูุนูุฉ")

    col1, col2, col3, col4 = st.columns(4)

    with col1:
        st.metric("ูุคุดุฑ ุงูุญูุงูุฉ ุงููุงููููุฉ", "78%", "5%")
        st.metric("ูุนุฏู ุงูุงูุชุซุงู ุงูุชุดุฑูุนู", "65%", "3%")

    with col2:
        st.metric("ูุคุดุฑ ุงูุนุฏุงูุฉ ูู ุงูุฃุฌูุฑ", "72%", "2%")
        st.metric("ูุนุฏู ุงูุงุณุชูุฑุงุฑ ุงููุธููู", "68%", "4%")

    with col3:
        st.metric("ูุคุดุฑ ุงูุตุญุฉ ูุงูุณูุงูุฉ", "81%", "6%")
        st.metric("ูุนุฏู ุงูุฑุถุง ุงููุธููู", "74%", "3%")

    with col4:
        st.metric("ูุคุดุฑ ุงูุชูููุฉ ุงูุชุดุฑูุนูุฉ", "76%", "4%")
        st.metric("ูุนุฏู ุงูุชุทุจูู ุงููุนูู", "62%", "2%")

    # ูุฎุทุทุงุช ุงููุคุดุฑุงุช
    st.markdown("##### ๐ ุชุทูุฑ ุงููุคุดุฑุงุช ุงูุชุดุฑูุนูุฉ")

    indicator_data = {
        'ุงูุณูุฉ': [2020, 2021, 2022, 2023, 2024],
        'ุงูุญูุงูุฉ ุงููุงููููุฉ': [65, 68, 72, 75, 78],
        'ุงูุนุฏุงูุฉ ูู ุงูุฃุฌูุฑ': [60, 63, 67, 70, 72],
        'ุงูุตุญุฉ ูุงูุณูุงูุฉ': [70, 72, 75, 78, 81],
        'ุงูุฑุถุง ุงููุธููู': [62, 65, 68, 71, 74]
    }

    indicator_df = pd.DataFrame(indicator_data)
    st.line_chart(indicator_df.set_index('ุงูุณูุฉ'))

with stats_tabs[1]:
    st.markdown("##### ๐ ุชุญููู ุงูุงุชุฌุงูุงุช ุงูุฒูููุฉ")

    # ุจูุงูุงุช ุชุงุฑูุฎูุฉ ููุณุนุฉ
    historical_data = {
        'ุงูุนุงู': list(range(2010, 2025)),
        'ูุถุงูุง ุงูุนูู': [1500, 1450, 1600, 1550, 1400, 1350, 1300, 1250, 1200, 1150, 1100, 1050, 1000, 980, 850],
        'ูุนุฏู ุงูุฑุถุง': [60, 62, 63, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 82],
        'ุงูุงูุชุซุงู ุงูุชุดุฑูุนู': [55, 57, 59, 60, 62, 63, 64, 65, 66, 67, 68, 69, 70, 72, 78]
    }

    historical_df = pd.DataFrame(historical_data)

    col1, col2 = st.columns(2)

    with col1:
        st.markdown("###### ูุถุงูุง ุงูุนูู ุนุจุฑ ุงูุณููุงุช")
        st.area_chart(historical_df.set_index('ุงูุนุงู')['ูุถุงูุง ุงูุนูู'])

    with col2:
        st.markdown("###### ูุคุดุฑุงุช ุงูุฑุถุง ูุงูุงูุชุซุงู")
        st.line_chart(historical_df.set_index('ุงูุนุงู')[['ูุนุฏู ุงูุฑุถุง', 'ุงูุงูุชุซุงู ุงูุชุดุฑูุนู']])

    # ุชุญููู ุงูุงุชุฌุงู
    st.markdown("##### ๐ฏ ุชุญููู ุงูุงุชุฌุงู ูุงูุฅุณูุงุทุงุช")

    trend_analysis = """
    **ุงูุงุชุฌุงูุงุช ุงูููุงุญุธุฉ:**
    - ๐ ุงูุฎูุงุถ ูุณุชูุฑ ูู ูุถุงูุง ุงูุนูู ุจูุณุจุฉ 43% ููุฐ 2010
    - ๐ ุชุญุณู ูุทุฑุฏ ูู ูุนุฏูุงุช ุงูุฑุถุง ูุงูุงูุชุซุงู
    - ๐ฏ ุชุฃุซูุฑ ุฅูุฌุงุจู ููุชุนุฏููุงุช ุงูุชุดุฑูุนูุฉ ุงููุชุชุงููุฉ
    
    **ุงูุชููุนุงุช ุงููุณุชูุจููุฉ:**
    - ุงุณุชูุฑุงุฑ ุงูุฎูุงุถ ูุถุงูุง ุงูุนูู ุฅูู 700 ูุถูุฉ ุณูููุงู ุจุญููู 2030
    - ูุตูู ูุนุฏู ุงูุฑุถุง ุฅูู 90% ุจุญููู 2028
    - ุชุญููู 85% ูุนุฏู ุงูุชุซุงู ุชุดุฑูุนู ุจุญููู 2026
    """

    st.info(trend_analysis)

with stats_tabs[2]:
    st.markdown("##### ๐ ุชุญููู ุงูุงุฑุชุจุงุท ูุงูุนูุงูุงุช")

    # ูุตูููุฉ ุงูุงุฑุชุจุงุท
    correlation_data = {
        'ุงููุชุบูุฑ': ['ุงูุชุดุฑูุนุงุช ุงููุงููุฉ', 'ุงูุงุณุชุซูุงุฑ ูู ุงูุชุฏุฑูุจ', 'ูุนุฏู ุงูุฏูุฑุงู', 'ุงูุฅูุชุงุฌูุฉ', 'ุงูุดูุงูู'],
        'ุงูุชุดุฑูุนุงุช ุงููุงููุฉ': [1.00, 0.85, -0.72, 0.68, -0.65],
        'ุงูุงุณุชุซูุงุฑ ูู ุงูุชุฏุฑูุจ': [0.85, 1.00, -0.58, 0.82, -0.52],
        'ูุนุฏู ุงูุฏูุฑุงู': [-0.72, -0.58, 1.00, -0.45, 0.88],
        'ุงูุฅูุชุงุฌูุฉ': [0.68, 0.82, -0.45, 1.00, -0.38],
        'ุงูุดูุงูู': [-0.65, -0.52, 0.88, -0.38, 1.00]
    }

    corr_df = pd.DataFrame(correlation_data).set_index('ุงููุชุบูุฑ')
    st.dataframe(corr_df.style.background_gradient(cmap='RdYlGn', axis=None), use_container_width=True)

    st.markdown("##### ๐ก ุชูุณูุฑ ุงูุนูุงูุงุช ุงูุฅุญุตุงุฆูุฉ")

    interpretations = [
        "**ุนูุงูุฉ ูููุฉ ุฅูุฌุงุจูุฉ** ุจูู ุงูุชุดุฑูุนุงุช ุงููุงููุฉ ูุงูุงุณุชุซูุงุฑ ูู ุงูุชุฏุฑูุจ (0.85)",
        "**ุนูุงูุฉ ูููุฉ ุนูุณูุฉ** ุจูู ุงูุชุดุฑูุนุงุช ุงููุงููุฉ ููุนุฏู ุงูุฏูุฑุงู (-0.72)", 
        "**ุชุฃุซูุฑ ูุงุถุญ** ููุชุฏุฑูุจ ุนูู ุชุญุณูู ุงูุฅูุชุงุฌูุฉ (0.82)",
        "**ุงุฑุชุจุงุท ุนุงูู** ุจูู ูุนุฏู ุงูุฏูุฑุงู ูุนุฏุฏ ุงูุดูุงูู (0.88)"
    ]

    for interpretation in interpretations:
        st.write(f"โข {interpretation}")
community_tabs = st.tabs(["ุงููุฌููุนุงุช ุงูุจุญุซูุฉ", "ุงููุฏูุงุช ูุงููุนุงููุงุช", "ููุชุฏูุงุช ุงูููุงุด", "ุงููุดุงุฑูุน ุงูุชุนุงูููุฉ"])

with community_tabs[0]:
    st.markdown("##### ๐จโ๐ฌ ุงููุฌููุนุงุช ุงูุจุญุซูุฉ ุงููุชุฎุตุตุฉ")

    research_groups = [
        {
            "name": "ูุฌููุนุฉ ุจุญูุซ ุชุดุฑูุนุงุช ุงูุฃุฌูุฑ",
            "focus": "ุฏุฑุงุณุฉ ุชุทูุฑ ุฃูุธูุฉ ุงูุฃุฌูุฑ ูุงูุถูุงู ุงูุงุฌุชูุงุนู",
            "members": "15 ุจุงุญุซ",
            "active_projects": "3 ูุดุงุฑูุน",
            "contact": "ุฏ. ุฃุญูุฏ ุงูุดูุงุจูุฉ"
        },
        {
            "name": "ูุฌููุนุฉ ุฏุฑุงุณุงุช ุงูุณูุงูุฉ ุงูููููุฉ",
            "focus": "ุจุญูุซ ุงูุตุญุฉ ูุงูุณูุงูุฉ ูู ุจูุฆุงุช ุงูุนูู",
            "members": "12 ุจุงุญุซ", 
            "active_projects": "2 ูุดุงุฑูุน",
            "contact": "ุฏ. ูุญูุฏ ุงูุนุชูู"
        },
        {
            "name": "ูุฌููุนุฉ ุงูุชุญููู ุงููุถุงุฆู",
            "focus": "ุฏุฑุงุณุฉ ุงูุณูุงุจู ุงููุถุงุฆูุฉ ูุชุญููู ุงูุงุชุฌุงูุงุช",
            "members": "8 ุจุงุญุซ",
            "active_projects": "4 ูุดุงุฑูุน", 
            "contact": "ุฏ. ุณุงูู ุฃุจู ุฑูุงู"
        }
    ]

    for group in research_groups:
        with st.expander(f"๐ฅ {group['name']}"):
            col1, col2 = st.columns(2)
            with col1:
                st.write(f"**ุงูุชุฑููุฒ:** {group['focus']}")
                st.write(f"**ุงูุฃุนุถุงุก:** {group['members']}")
            with col2:
                st.write(f"**ุงููุดุงุฑูุน ุงููุดุทุฉ:** {group['active_projects']}")
                st.write(f"**ุฌูุฉ ุงูุงุชุตุงู:** {group['contact']}")

            col1, col2, col3 = st.columns(3)
            with col1:
                if st.button("ุงูุถู ูููุฌููุนุฉ", key=f"join_{group['name']}"):
                    st.success("ุชู ุฅุฑุณุงู ุทูุจ ุงูุงูุถูุงู ูููุฌููุนุฉ")
            with col2:
                if st.button("ุนุฑุถ ุงููุดุงุฑูุน", key=f"projects_{group['name']}"):
                    st.info("ุนุฑุถ ูุดุงุฑูุน ุงููุฌููุนุฉ ุงูุจุญุซูุฉ")
            with col3:
                if st.button("ุงููุดุงุฑูุฉ", key=f"participate_{group['name']}"):
                    st.warning("ูุชุญ ูููุฐุฌ ุงููุดุงุฑูุฉ ูู ุงูุฃุจุญุงุซ")

with community_tabs[1]:
    st.markdown("##### ๐ ุงููุฏูุงุช ูุงููุนุงููุงุช ุงููุงุฏูุฉ")

    events = [
        {
            "title": "ูุฏูุฉ: ุชุญุฏูุงุช ุงูุชุดุฑูุนุงุช ุงูุนูุงููุฉ ูู ุนุตุฑ ุงูุฑูููุฉ",
            "date": "2025-03-15",
            "speakers": ["ุฏ. ุนูู ุงูุฎุตุงููุฉ", "ุฏ. ููู ุงููุงุจูุณู", "ุฃ. ุฎุงูุฏ ุงูุฒุนุจู"],
            "topics": ["ุงูุนูู ุนู ุจูุนุฏ", "ุงูุญูุงูุฉ ุงูุฑูููุฉ", "ุงูููุงุฑุงุช ุงููุณุชูุจููุฉ"]
        },
        {
            "title": "ูุฑุดุฉ ุนูู: ูููุฌูุงุช ุงูุจุญุซ ูู ูุงููู ุงูุนูู",
            "date": "2025-04-10", 
            "speakers": ["ุฏ. ูุญูุฏ ุงูุญููุฑู", "ุฏ. ุฑูุง ุงููุถุงุฉ"],
            "topics": ["ุงููููุฌ ุงูููุงุฑู", "ุงูุชุญููู ุงูุฅุญุตุงุฆู", "ุฏุฑุงุณุงุช ุงูุญุงูุฉ"]
        }
    ]

    for event in events:
        with st.expander(f"๐ {event['title']} - {event['date']}"):
            st.write("**ุงููุชุญุฏุซูู:**")
            for speaker in event['speakers']:
                st.write(f"๐ค {speaker}")

            st.write("**ุงููุญุงูุฑ:**")
            for topic in event['topics']:
                st.write(f"๐ {topic}")

            if st.button("ุงูุชุณุฌูู ูู ุงููุนุงููุฉ", key=f"register_{event['title']}"):
                st.success("ุชู ุชุณุฌููู ูู ุงููุนุงููุฉ ุจูุฌุงุญ")
# ==========================
# ๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ ุงูููุณุนุฉ ุงูุดุงููุฉ
# ==========================
def show_calculators_section():
    st.markdown("### ๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ ุงููุชูุงููุฉ - ุงููุธุงู ุงูุดุงูู 2025")
    
    calc_tabs = st.tabs([
        "๐ฐ ููุงูุฉ ุงูุฎุฏูุฉ", 
        "โฐ ุงูุนูู ุงูุฅุถุงูู", 
        "๐ฅ ุงูุฅุฌุงุฒุงุช ูุงูุฃูููุฉ",
        "๐ ุงูุญุงุณุจุฉ ุงูุดุงููุฉ",
        "๐ธ ุงูุชุนููุถุงุช",
        "๐ ุงูุฑูุงุชุจ ูุงูุงุณุชูุทุงุนุงุช",
        "๐๏ธ ุงูุถูุงู ุงูุงุฌุชูุงุนู",
        "๐ด ุงูุฅุฌุงุฒุงุช ุงููุฑูุจุฉ",
        "โ๏ธ ุงููุฎุงููุงุช ูุงูุบุฑุงูุงุช",
        "๐ ุชูุงุฑูุฑ ุงูุญุณุงุจุงุช"
    ])
    
    with calc_tabs[0]:
        show_end_of_service_calculator()
    
    with calc_tabs[1]:
        show_overtime_calculator()
    
    with calc_tabs[2]:
        show_vacation_calculator()
    
    with calc_tabs[3]:
        show_comprehensive_calculator()
    
    with calc_tabs[4]:
        show_compensation_calculator()
    
    with calc_tabs[5]:
        show_salary_deductions_calculator()
    
    with calc_tabs[6]:
        show_social_security_calculator()
    
    with calc_tabs[7]:
        show_compound_vacation_calculator()
    
    with calc_tabs[8]:
        show_violations_penalties_calculator()
    
    with calc_tabs[9]:
        show_calculations_reports()

# ==========================
# ๐ฐ ุญุงุณุจุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุงูููุณุนุฉ
# ==========================
def show_end_of_service_calculator():
    st.markdown("#### ๐ฐ ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุงููุชูุฏูุฉ 2025")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("ุงููุฏุฎูุงุช ุงูุฃุณุงุณูุฉ")
        salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุฎูุฑ (ุฏููุงุฑ)", min_value=290, value=500, key="end_salary")
        years = st.number_input("ุนุฏุฏ ุงูุณููุงุช", min_value=0, max_value=40, value=5, key="end_years")
        months = st.number_input("ุนุฏุฏ ุงูุฃุดูุฑ", min_value=0, max_value=11, value=0, key="end_months")
        
        st.subheader("ุชูุงุตูู ุฅุถุงููุฉ")
        has_vacation = st.checkbox("ููุงู ุฅุฌุงุฒุงุช ูุณุชุญูุฉ", value=True, key="end_vacation")
        vacation_days = st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุงุช ุงููุณุชุญูุฉ", value=14, key="end_vac_days") if has_vacation else 0
        
        has_overtime = st.checkbox("ููุงู ูุณุชุญูุงุช ุนูู ุฅุถุงูู", value=True, key="end_overtime")
        overtime_amount = st.number_input("ูุจูุบ ุงูุนูู ุงูุฅุถุงูู ุงููุณุชุญู", value=200, key="end_overtime_amt") if has_overtime else 0
    
    with col2:
        st.subheader("ุธุฑูู ุฅููุงุก ุงูุฎุฏูุฉ")
        contract_type = st.selectbox("ููุน ุงูุนูุฏ", ["ุฏุงุฆู", "ูุคูุช"], key="end_contract")
        end_reason = st.selectbox("ุณุจุจ ุฅููุงุก ุงูุฎุฏูุฉ", [
            "ุงุณุชูุงูุฉ", "ุฅููุงุก ุฎุฏูุฉ ูู ุตุงุญุจ ุงูุนูู", "ุงูุชูุงุก ุนูุฏ", "ููุงุฉ ุฃู ุนุฌุฒ", "ูุตู ุชุฃุฏูุจู"
        ], key="end_reason")
        
        if end_reason == "ูุตู ุชุฃุฏูุจู":
            st.warning("โ๏ธ ูู ุญุงูุฉ ุงููุตู ุงูุชุฃุฏูุจูุ ูุฏ ูุง ุชุณุชุญู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ")
        
        st.subheader("ุฎูุงุฑุงุช ุงูุญุณุงุจ")
        include_benefits = st.checkbox("ุงุญุชุณุงุจ ุงูุจุฏูุงุช ูุงูููุงูุขุช", value=True, key="end_benefits")
        detailed_calculation = st.checkbox("ุนุฑุถ ุงูุชูุงุตูู ุฎุทูุฉ ุจุฎุทูุฉ", value=True, key="end_detailed")
    
    if st.button("๐งฎ ุงุญุณุจ ุงูููุงูุฃุฉ ุงูุดุงููุฉ", type="primary", key="calc_end_service"):
        with st.spinner("ุฌุงุฑู ุญุณุงุจ ุงููุณุชุญูุงุช..."):
            # ุงูุญุณุงุจุงุช ุงูุฃุณุงุณูุฉ
            end_service, reference, calculation_steps = calculate_end_service_detailed(
                salary, years, months, contract_type, end_reason
            )
            
            # ุงููุณุชุญูุงุช ุงูุฅุถุงููุฉ
            vacation_pay = (salary / 30) * vacation_days if has_vacation else 0
            total_due = end_service + vacation_pay + overtime_amount
            
            st.success(f"""
            ## ๐ ูุชุงุฆุฌ ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุงูุดุงููุฉ
            
            **ุงูุชูุงุตูู ุงูุฃุณุงุณูุฉ:**
            - ๐ผ ุงูุฑุงุชุจ ุงูุฃุณุงุณู: **{salary:,.0f}** ุฏููุงุฑ
            - ๐ ูุฏุฉ ุงูุฎุฏูุฉ: **{years}** ุณูุฉ ู **{months}** ุดูุฑ
            - ๐ท๏ธ ููุน ุงูุนูุฏ: **{contract_type}**
            - ๐ฏ ุณุจุจ ุงูุฅููุงุก: **{end_reason}**
            
            **ุงููุณุชุญูุงุช ุงูุชูุตูููุฉ:**
            - ๐ฐ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ: **{end_service:,.0f}** ุฏููุงุฑ
            - ๐ด ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช: **{vacation_pay:,.0f}** ุฏููุงุฑ
            - โฐ ูุณุชุญูุงุช ุนูู ุฅุถุงูู: **{overtime_amount:,.0f}** ุฏููุงุฑ
            
            **๐ฐ ุงูุฅุฌูุงูู ุงููุณุชุญู:** **{total_due:,.0f}** ุฏููุงุฑ
            
            **ุงูุฃุณุงุณ ุงููุงูููู:**
            ๐ {reference}
            """)
            
            if detailed_calculation:
                with st.expander("๐ ุชูุงุตูู ุงูุญุณุงุจ ุฎุทูุฉ ุจุฎุทูุฉ", expanded=True):
                    for step in calculation_steps:
                        st.write(f"โข {step}")
            
            # ุฎูุงุฑุงุช ุงูุชุญููู
            col1, col2, col3 = st.columns(3)
            with col1:
                report_content = generate_end_service_report(salary, years, months, end_service, total_due, reference)
                st.download_button(
                    "๐ ุชูุฑูุฑ ููุตู",
                    data=report_content,
                    file_name=f"ุชูุฑูุฑ_ููุงูุฃุฉ_ููุงูุฉ_ุฎุฏูุฉ_{datetime.now().strftime('%Y%m%d')}.txt",
                    mime="text/plain"
                )
            with col2:
                st.button("๐จ๏ธ ุทุจุงุนุฉ ุงููุชุงุฆุฌ", key="print_end_service")
            with col3:
                st.button("๐พ ุญูุธ ูู ุงูุณุฌู", key="save_end_service")

# ==========================
# โฐ ุญุงุณุจุฉ ุงูุนูู ุงูุฅุถุงูู ุงูููุณุนุฉ
# ==========================
def show_overtime_calculator():
    st.markdown("#### โฐ ุญุงุณุจุฉ ุจุฏู ุงูุนูู ุงูุฅุถุงูู ุงููุชูุฏูุฉ")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ")
        basic_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", value=500, key="overtime_salary")
        regular_hours_weekly = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฃุณุจูุนูุฉ ุงูุนุงุฏูุฉ", value=48, key="regular_hours")
        
        st.subheader("ุชูุงุตูู ุงูุนูู ุงูุฅุถุงูู")
        overtime_type = st.selectbox("ููุน ุงูุนูู ุงูุฅุถุงูู", [
            "ููุงุฑู (8 ุต - 4 ู)", 
            "ูููู (4 ู - 8 ุต)", 
            "ุนุทูุฉ ุฑุณููุฉ", 
            "ุฌูุนุฉ ูุนุทู ุฏูููุฉ"
        ], key="overtime_type")
        
    with col2:
        st.subheader("ุชูุฒูุน ุงูุณุงุนุงุช ุงูุฅุถุงููุฉ")
        daily_overtime = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุงูููููุฉ", value=2, key="daily_overtime")
        weekly_overtime = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุงูุฃุณุจูุนูุฉ", value=10, key="weekly_overtime")
        monthly_overtime = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุงูุดูุฑูุฉ", value=40, key="monthly_overtime")
        
        st.subheader("ูุชุฑุฉ ุงูุญุณุงุจ")
        calculation_period = st.selectbox("ูุชุฑุฉ ุงูุญุณุงุจ", ["ููู", "ุฃุณุจูุน", "ุดูุฑ", "ุฑุจุน ุณููู", "ุณููู"], key="overtime_period")
    
    if st.button("๐งฎ ุงุญุณุจ ุจุฏู ุงูุนูู ุงูุฅุถุงูู", key="calc_overtime_advanced"):
        hourly_rate = basic_salary / (30 * 8)  # 8 ุณุงุนุงุช ููููุงู
        
        # ุชุญุฏูุฏ ูุนุฏู ุงูุฒูุงุฏุฉ ุญุณุจ ููุน ุงูุนูู ุงูุฅุถุงูู
        rates = {
            "ููุงุฑู (8 ุต - 4 ู)": 1.25,
            "ูููู (4 ู - 8 ุต)": 1.5,
            "ุนุทูุฉ ุฑุณููุฉ": 1.5,
            "ุฌูุนุฉ ูุนุทู ุฏูููุฉ": 1.5
        }
        
        rate = rates[overtime_type]
        
        # ุญุณุงุจ ุงูุณุงุนุงุช ุญุณุจ ุงููุชุฑุฉ
        if calculation_period == "ููู":
            overtime_hours = daily_overtime
        elif calculation_period == "ุฃุณุจูุน":
            overtime_hours = weekly_overtime
        else:  # ุดูุฑ ุฃู ุฃูุซุฑ
            overtime_hours = monthly_overtime
        
        overtime_pay = overtime_hours * hourly_rate * rate
        
        st.success(f"""
        ## โฐ ูุชุงุฆุฌ ุญุณุงุจ ุจุฏู ุงูุนูู ุงูุฅุถุงูู
        
        **ุงูุชูุงุตูู:**
        - ๐ผ ุงูุฑุงุชุจ ุงูุฃุณุงุณู: **{basic_salary:,.0f}** ุฏููุงุฑ
        - โฑ๏ธ ุณุงุนุงุช ุงูุนูู ุงูุนุงุฏูุฉ: **{regular_hours_weekly}** ุณุงุนุฉ ุฃุณุจูุนูุงู
        - ๐ผ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู: **{overtime_hours}** ุณุงุนุฉ ({calculation_period})
        - ๐ ููุน ุงูุนูู ุงูุฅุถุงูู: **{overtime_type}**
        - ๐ธ ุงูุณุงุนุฉ ุงูุฃุณุงุณูุฉ: **{hourly_rate:,.2f}** ุฏููุงุฑ
        - ๐ ูุนุฏู ุงูุฒูุงุฏุฉ: **{int((rate-1)*100)}%**
        
        **ุงููุชูุฌุฉ:**
        - ๐ฐ ุจุฏู ุงูุนูู ุงูุฅุถุงูู: **{overtime_pay:,.0f}** ุฏููุงุฑ
        
        **ุงูุฃุณุงุณ ุงููุงูููู:**
        - ุงููุงุฏุฉ 42 ูู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู
        - ูุฌุจ ุฃู ูุง ุชุฒูุฏ ุณุงุนุงุช ุงูุนูู ุงููุนููุฉ ุนู 8 ุณุงุนุงุช ููููุงู
        - ุงูุญุฏ ุงูุฃูุตู ููุนูู ุงูุฅุถุงูู: ุณุงุนุชูู ููููุงู
        """)
        
        # ุชุญุฐูุฑุงุช ูุงููููุฉ
        if daily_overtime > 2:
            st.error("โ๏ธ ุชุฌุงูุฒ ุงูุญุฏ ุงููุงูููู ููุนูู ุงูุฅุถุงูู ุงููููู (ุณุงุนุชุงู ูุญุฏ ุฃูุตู)")
        if regular_hours_weekly + weekly_overtime > 60:
            st.warning("โ๏ธ ุงูุชุฑุงุจ ุฃู ุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู ูุณุงุนุงุช ุงูุนูู ุงูุฃุณุจูุนูุฉ")

# ==========================
# ๐ฅ ุญุงุณุจุฉ ุงูุฅุฌุงุฒุงุช ุงูููุณุนุฉ
# ==========================
def show_vacation_calculator():
    st.markdown("#### ๐ฅ ุญุงุณุจุฉ ุงูุฅุฌุงุฒุงุช ูุงููุณุชุญูุงุช ุงูุดุงููุฉ")
    
    vacation_tabs = st.tabs(["ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", "ุฅุฌุงุฒุฉ ุงูุฃูููุฉ", "ุงูุฅุฌุงุฒุฉ ุงููุฑุถูุฉ", "ุงูุฅุฌุงุฒุงุช ุงููุฑูุจุฉ"])
    
    with vacation_tabs[0]:
        st.markdown("##### ๐ด ุญุงุณุจุฉ ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ")
        
        col1, col2 = st.columns(2)
        
        with col1:
            basic_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", value=500, key="annual_salary")
            service_years = st.number_input("ูุฏุฉ ุงูุฎุฏูุฉ (ุณููุงุช)", value=3, key="annual_years")
            actual_vacation_days = st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงููุนููุฉ", value=14, key="annual_days")
        
        with col2:
            vacation_type = st.selectbox("ููุน ุงูุฅุฌุงุฒุฉ", [
                "ุนุงุฏูุฉ", "ูุฑุถูุฉ", "ุทุงุฑุฆุฉ", "ุฏุฑุงุณูุฉ"
            ], key="annual_type")
            
            include_allowances = st.checkbox("ุงุญุชุณุงุจ ุงูุจุฏูุงุช", value=True, key="annual_allowances")
        
        if st.button("๐งฎ ุงุญุณุจ ูุณุชุญูุงุช ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", key="calc_annual"):
            daily_rate = basic_salary / 30
            vacation_pay = daily_rate * actual_vacation_days
            
            # ุชุญุฏูุฏ ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงููุณุชุญูุฉ ุญุณุจ ูุฏุฉ ุงูุฎุฏูุฉ
            if service_years < 5:
                entitled_days = 14
            elif service_years < 10:
                entitled_days = 21
            else:
                entitled_days = 28
            
            st.success(f"""
            ## ๐ด ูุชุงุฆุฌ ุญุณุงุจ ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ
            
            **ุงูุญููู ุงููุณุชุญูุฉ:**
            - ๐ ูุฏุฉ ุงูุฎุฏูุฉ: **{service_years}** ุณููุงุช
            - ๐ฏ ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงููุณุชุญูุฉ: **{entitled_days}** ููู
            - ๐ ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงููุนููุฉ: **{actual_vacation_days}** ููู
            
            **ุงููุณุชุญูุงุช ุงููุงููุฉ:**
            - ๐ฐ ุงูุฃุฌุฑ ุงููููู: **{daily_rate:,.2f}** ุฏููุงุฑ
            - ๐ธ ูุณุชุญูุงุช ุงูุฅุฌุงุฒุฉ: **{vacation_pay:,.0f}** ุฏููุงุฑ
            
            **ุงูุฃุณุงุณ ุงููุงูููู:**
            - ุงููุงุฏุฉ 52: ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ
            - ุงููุงุฏุฉ 53: ุงุณุชุญูุงู ุงูุฅุฌุงุฒุฉ
            - ุงููุงุฏุฉ 54: ุตุฑู ุฃุฌุฑ ุงูุฅุฌุงุฒุฉ
            """)
    
    with vacation_tabs[1]:
        st.markdown("##### ๐คฐ ุญุงุณุจุฉ ุฅุฌุงุฒุฉ ุงูุฃูููุฉ 2025")
        
        col1, col2 = st.columns(2)
        
        with col1:
            salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", value=500, key="maternity_salary")
            actual_leave = st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงููุนููุฉ", value=70, key="maternity_days")
            multiple_birth = st.checkbox("ุญุงูุฉ ููุงุฏุฉ ูุชุนุฏุฏุฉ", key="maternity_multiple")
        
        with col2:
            complications = st.checkbox("ููุงู ูุถุงุนูุงุช ููุงุฏุฉ", key="maternity_complications")
            previous_maternity = st.number_input("ุนุฏุฏ ูุฑุงุช ุฅุฌุงุฒุฉ ุงูุฃูููุฉ ุงูุณุงุจูุฉ", value=0, key="maternity_previous")
        
        if st.button("๐งฎ ุงุญุณุจ ูุณุชุญูุงุช ุงูุฃูููุฉ", key="calc_maternity"):
            # ุญุณุจ ุงูุชุนุฏููุงุช 2025
            entitled_days = 70  # 10 ุฃุณุงุจูุน
            if multiple_birth:
                entitled_days += 14  # ุฃุณุจูุนูู ุฅุถุงูููู
            if complications:
                entitled_days += 14  # ุฃุณุจูุนูู ุฅุถุงูููู
            
            daily_rate = salary / 30
            maternity_pay = daily_rate * min(actual_leave, entitled_days)
            
            st.success(f"""
            ## ๐คฐ ูุชุงุฆุฌ ุญุณุงุจ ุฅุฌุงุฒุฉ ุงูุฃูููุฉ
            
            **ุงูุญููู ุงููุณุชุญูุฉ:**
            - ๐ ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงููุณุชุญูุฉ: **{entitled_days}** ููู
            - ๐ ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงููุนููุฉ: **{actual_leave}** ููู
            - ๐ฐ ุงูุฃุฌุฑ ุงููููู: **{daily_rate:,.2f}** ุฏููุงุฑ
            
            **ุงููุณุชุญูุงุช ุงููุงููุฉ:**
            - ๐ธ ูุณุชุญูุงุช ุงูุฃูููุฉ: **{maternity_pay:,.0f}** ุฏููุงุฑ
            
            **ุงูุฃุณุงุณ ุงููุงูููู:**
            - ุงููุงุฏุฉ 69 (ูุนุฏูุฉ 2025): ุฅุฌุงุฒุฉ ุฃูููุฉ 10 ุฃุณุงุจูุน
            - ุงููุงุฏุฉ 70: ุฅุฌุงุฒุฉ ูุงูุฏูุฉ
            - ูุฑุงุฑุงุช ูุฒุงุฑุฉ ุงูุนูู 2025
            """)

# ==========================
# ๐ ุงูุญุงุณุจุฉ ุงูุดุงููุฉ ุงูููุณุนุฉ
# ==========================
def show_comprehensive_calculator():
    st.markdown("#### ๐ ุงูุญุงุณุจุฉ ุงูุดุงููุฉ ูููุณุชุญูุงุช ุงููุงููููุฉ")
    
    st.info("""
    **๐ฏ ูุฐู ุงูุญุงุณุจุฉ ุชูููู ูู ุญุณุงุจ ุฌููุน ุงููุณุชุญูุงุช ุงููุงููููุฉ ุฏูุนุฉ ูุงุญุฏุฉ**
    ุฃุฏุฎู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ูุณูุชู ุญุณุงุจ ูุงูุฉ ุงููุณุชุญูุงุช ุชููุงุฆูุงู
    """)
    
    col1, col2, col3 = st.columns(3)
    
    with col1:
        st.subheader("ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ")
        basic_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", value=500, key="comp_salary")
        service_years = st.number_input("ูุฏุฉ ุงูุฎุฏูุฉ (ุณููุงุช)", value=3, key="comp_years")
        service_months = st.number_input("ูุฏุฉ ุงูุฎุฏูุฉ (ุฃุดูุฑ)", value=6, key="comp_months")
    
    with col2:
        st.subheader("ุงูุนูู ุงูุฅุถุงูู")
        monthly_overtime = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุงูุดูุฑูุฉ", value=20, key="comp_overtime")
        overtime_type = st.selectbox("ููุน ุงูุนูู ุงูุฅุถุงูู", ["ููุงุฑู", "ูููู"], key="comp_overtime_type")
    
    with col3:
        st.subheader("ุงูุฅุฌุงุฒุงุช ุงููุณุชุญูุฉ")
        vacation_days = st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", value=14, key="comp_vacation")
        sick_days = st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงููุฑุถูุฉ", value=5, key="comp_sick")
        emergency_days = st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุฉ ุงูุทุงุฑุฆุฉ", value=3, key="comp_emergency")
    
    # ุฎูุงุฑุงุช ุฅุถุงููุฉ
    with st.expander("โ๏ธ ุฎูุงุฑุงุช ูุชูุฏูุฉ", expanded=False):
        col1, col2 = st.columns(2)
        
        with col1:
            housing_allowance = st.number_input("ุจุฏู ุงูุณูู", value=100, key="comp_housing")
            transport_allowance = st.number_input("ุจุฏู ุงูููุงุตูุงุช", value=50, key="comp_transport")
        
        with col2:
            other_allowances = st.number_input("ุจุฏูุงุช ุฃุฎุฑู", value=0, key="comp_other")
            deductions = st.number_input("ุงูุงุณุชูุทุงุนุงุช", value=0, key="comp_deductions")
    
    if st.button("๐งฎ ุงุญุณุจ ุฌููุน ุงููุณุชุญูุงุช", type="primary", key="calc_comprehensive"):
        with st.spinner("ุฌุงุฑู ุญุณุงุจ ุฌููุน ุงููุณุชุญูุงุช..."):
            # ุญุณุงุจ ูุงูุฉ ุงููุณุชุญูุงุช
            results = calculate_all_benefits(
                basic_salary, service_years, service_months, monthly_overtime, overtime_type,
                vacation_days, sick_days, emergency_days, housing_allowance, 
                transport_allowance, other_allowances, deductions
            )
            
            st.success("## ๐ฐ ูุชุงุฆุฌ ุงูุญุณุงุจ ุงูุดุงูู")
            
            # ุนุฑุถ ุงููุชุงุฆุฌ ูู ุฃุนูุฏุฉ
            col1, col2, col3 = st.columns(3)
            
            with col1:
                st.metric("ุงููุณุชุญูุงุช ุงูุฃุณุงุณูุฉ", f"{results['basic_benefits']:,.0f} ุฏููุงุฑ")
                st.metric("ุจุฏู ุงูุนูู ุงูุฅุถุงูู", f"{results['overtime']:,.0f} ุฏููุงุฑ")
            
            with col2:
                st.metric("ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช", f"{results['vacation_benefits']:,.0f} ุฏููุงุฑ")
                st.metric("ุงูุจุฏูุงุช ุงูุฅุถุงููุฉ", f"{results['allowances']:,.0f} ุฏููุงุฑ")
            
            with col3:
                st.metric("ุงูุงุณุชูุทุงุนุงุช", f"{-results['deductions']:,.0f} ุฏููุงุฑ")
                st.metric("ุงูุตุงูู ุงููุณุชุญู", f"{results['net_due']:,.0f} ุฏููุงุฑ", 
                         delta=f"{results['net_due'] - results['basic_benefits']:+.0f}")
            
            # ุชูุงุตูู ุฅุถุงููุฉ
            with st.expander("๐ ุงูุชูุงุตูู ุงููุงููุฉ", expanded=True):
                st.write("**ุชูุตูู ุงููุณุชุญูุงุช:**")
                for benefit, amount in results['breakdown'].items():
                    st.write(f"- {benefit}: {amount:,.0f} ุฏููุงุฑ")
                
                st.write("**ุงูุชูุตูุงุช:**")
                st.write("- ููุตู ุจูุฑุงุฌุนุฉ ุงูุญุณุงุจุงุช ูุน ูุฎุชุต ูุงูููู")
                st.write("- ุงูุงุญุชูุงุธ ุจูุณุฎุฉ ูู ูุดูู ุงูุญุณุงุจุงุช")
                st.write("- ูุชุงุจุนุฉ ุฃู ูุณุชุญูุงุช ูุชุฃุฎุฑุฉ ูุน ุตุงุญุจ ุงูุนูู")

# ==========================
# ๐๏ธ ุญุงุณุจุฉ ุงูุถูุงู ุงูุงุฌุชูุงุนู ุงูููุณุนุฉ
# ==========================
def show_social_security_calculator():
    st.markdown("#### ๐๏ธ ุญุงุณุจุฉ ุงุดุชุฑุงูุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู ุงููุชูุฏูุฉ")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("ุจูุงูุงุช ุงูุฑุงุชุจ ูุงูุงุดุชุฑุงู")
        employee_salary = st.number_input("ุงูุฑุงุชุจ ุงูุดูุฑู (ุฏููุงุฑ)", value=500, key="social_salary")
        employee_rate = st.slider("ูุณุจุฉ ุงุดุชุฑุงู ุงูููุธู (%)", 5.0, 10.0, 7.5, key="social_emp_rate")
        employer_rate = st.slider("ูุณุจุฉ ุงุดุชุฑุงู ุตุงุญุจ ุงูุนูู (%)", 10.0, 20.0, 14.25, key="social_employer_rate")
    
    with col2:
        st.subheader("ุญุฏูุฏ ุงูุงุดุชุฑุงู")
        salary_ceiling = st.number_input("ุงูุญุฏ ุงูุฃูุตู ููุฃุฌุฑ ุงูุฎุงุถุน (ุฏููุงุฑ)", value=2000, key="social_ceiling")
        calculation_period = st.selectbox("ูุชุฑุฉ ุงูุญุณุงุจ", ["ุดูุฑู", "ุฑุจุน ุณููู", "ุณููู"], key="social_period")
        
        st.subheader("ุฎูุงุฑุงุช ุฅุถุงููุฉ")
        include_penalties = st.checkbox("ุงุญุชุณุงุจ ุบุฑุงูุงุช ุงูุชุฃุฎูุฑ", value=False, key="social_penalties")
        delayed_months = st.number_input("ุฃุดูุฑ ุงูุชุฃุฎูุฑ", value=0, key="social_delayed") if include_penalties else 0
    
    if st.button("๐งฎ ุงุญุณุจ ุงูุงุดุชุฑุงูุงุช", key="calculate_social_advanced"):
        # ุงูุญุณุงุจุงุช ุงูุฃุณุงุณูุฉ
        base_salary = min(employee_salary, salary_ceiling)
        employee_share = base_salary * (employee_rate / 100)
        employer_share = base_salary * (employer_rate / 100)
        total_share = employee_share + employer_share
        
        # ุชุนุฏูู ุงููุชุฑุฉ
        period_multipliers = {"ุดูุฑู": 1, "ุฑุจุน ุณููู": 3, "ุณููู": 12}
        multiplier = period_multipliers[calculation_period]
        
        # ุบุฑุงูุงุช ุงูุชุฃุฎูุฑ
        penalties = 0
        if include_penalties and delayed_months > 0:
            penalties = total_share * delayed_months * 0.05  # 5% ุบุฑุงูุฉ ุนู ูู ุดูุฑ
        
        st.success(f"""
        ## ๐๏ธ ูุชุงุฆุฌ ุงุดุชุฑุงูุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู
        
        **ุงูุฑุงุชุจ ุงูุฎุงุถุน ููุงุดุชุฑุงู:** **{base_salary:,.0f}** ุฏููุงุฑ
        **ูุชุฑุฉ ุงูุญุณุงุจ:** **{calculation_period}**
        
        **ุงูุงุดุชุฑุงูุงุช ({calculation_period}):**
        - ๐จโ๐ผ ุญุตุฉ ุงูููุธู ({employee_rate}%): **{employee_share * multiplier:,.0f}** ุฏููุงุฑ
        - ๐ ุญุตุฉ ุตุงุญุจ ุงูุนูู ({employer_rate}%): **{employer_share * multiplier:,.0f}** ุฏููุงุฑ
        - ๐ฐ ุงูุฅุฌูุงูู: **{total_share * multiplier:,.0f}** ุฏููุงุฑ
        
        **ุงููุณุชุญูุงุช:**
        - ๐ค ุตุงูู ุฑุงุชุจ ุงูููุธู: **{(employee_salary - employee_share) * multiplier:,.0f}** ุฏููุงุฑ
        - ๐ฅ ุงููุจูุบ ุงููุณุชุญู ููุถูุงู: **{total_share * multiplier:,.0f}** ุฏููุงุฑ
        """)
        
        if penalties > 0:
            st.error(f"โ๏ธ ุบุฑุงูุงุช ุงูุชุฃุฎูุฑ: **{penalties:,.0f}** ุฏููุงุฑ")
        
        st.info("""
        **ุงููุฒุงูุง ุงููุดูููุฉ:**
        - ูุนุงุด ุชูุงุนุฏูุ ุชุนููุถ ุฅุตุงุจุฉ ุนููุ ุชุนููุถ ุจุทุงูุฉ
        - ุฑุนุงูุฉ ุตุญูุฉุ ุฅุฌุงุฒุฉ ุฃูููุฉุ ููุญ ููุงุฉ
        - ุฎุฏูุงุช ุฅุนุงุฏุฉ ุงูุชุฃููู ูุงูุชุฏุฑูุจ
        """)

# ==========================
# ๐ ุชูุงุฑูุฑ ุงูุญุณุงุจุงุช ุงูููุณุนุฉ
# ==========================
def show_calculations_reports():
    st.markdown("#### ๐ ูุธุงู ุงูุชูุงุฑูุฑ ูุงูุชุญูููุงุช")
    
    report_tabs = st.tabs(["ุงูุชูุงุฑูุฑ ุงูุชูุตูููุฉ", "ุงูููุงุฑูุงุช", "ุงูุฑุณูู ุงูุจูุงููุฉ", "ุงูุชููุนุงุช"])
    
    with report_tabs[0]:
        st.markdown("##### ๐ ุงูุชูุงุฑูุฑ ุงูุชูุตูููุฉ ููุญุณุงุจุงุช")
        
        report_type = st.selectbox("ููุน ุงูุชูุฑูุฑ", [
            "ุชูุฑูุฑ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
            "ุชูุฑูุฑ ุงูุนูู ุงูุฅุถุงูู", 
            "ุชูุฑูุฑ ุงูุฅุฌุงุฒุงุช",
            "ุชูุฑูุฑ ุงูุถูุงู ุงูุงุฌุชูุงุนู",
            "ุชูุฑูุฑ ุดุงูู ูุฌููุน ุงููุณุชุญูุงุช"
        ])
        
        if st.button("๐ ุฅูุดุงุก ุงูุชูุฑูุฑ", key="generate_report"):
            # ูุญุงูุงุฉ ุฅูุดุงุก ุงูุชูุฑูุฑ
            report_data = generate_detailed_report(report_type)
            
            st.success("## ๐ ุงูุชูุฑูุฑ ุงูุชูุตููู")
            st.write(report_data)
            
            # ุฎูุงุฑุงุช ุงูุชุญููู
            col1, col2, col3 = st.columns(3)
            with col1:
                st.download_button(
                    "๐ฅ ุชุญููู PDF",
                    data=report_data,
                    file_name=f"ุชูุฑูุฑ_{report_type}_{datetime.now().strftime('%Y%m%d')}.txt",
                    mime="text/plain"
                )
            with col2:
                st.download_button(
                    "๐ ุชุตุฏูุฑ Excel",
                    data=report_data,
                    file_name=f"ุชูุฑูุฑ_{report_type}_{datetime.now().strftime('%Y%m%d')}.txt",
                    mime="text/plain"
                )
            with col3:
                st.button("๐จ๏ธ ุทุจุงุนุฉ ุงูุชูุฑูุฑ", key="print_report")
    
    with report_tabs[2]:
        st.markdown("##### ๐ ุงูุฑุณูู ุงูุจูุงููุฉ ุงูุชุญููููุฉ")
        
        # ุจูุงูุงุช ูููุฐุฌูุฉ ููุฑุณูู ุงูุจูุงููุฉ
        chart_data = {
            'ููุน ุงููุณุชุญู': ['ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ', 'ุจุฏู ุงูุนูู ุงูุฅุถุงูู', 'ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช', 'ุงูุถูุงู ุงูุงุฌุชูุงุนู'],
            'ุงููุจูุบ (ุฏููุงุฑ)': [2500, 800, 600, 450]
        }
        
        chart_df = pd.DataFrame(chart_data)
        
        col1, col2 = st.columns(2)
        
        with col1:
            st.bar_chart(chart_df.set_index('ููุน ุงููุณุชุญู'))
        with col2:
            st.line_chart(chart_df.set_index('ููุน ุงููุณุชุญู'))

# ==========================
# ๐๏ธ ุฏูุงู ุงูุญุณุงุจ ุงูููุณุนุฉ
# ==========================
def calculate_end_service_detailed(salary, years, months, contract_type, end_reason):
    """ุญุณุงุจ ููุตู ูููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ูุน ุงูุฎุทูุงุช"""
    total_months = years * 12 + months
    
    calculation_steps = []
    
    if end_reason in ["ุงุณุชูุงูุฉ", "ุงูุชูุงุก ุนูุฏ"]:
        if total_months < 12:
            amount = 0
            calculation_steps.append("ุฃูู ูู ุณูุฉ ุฎุฏูุฉ: ูุง ุชุณุชุญู ุงูููุงูุฃุฉ")
        elif total_months <= 60:
            amount = (salary * total_months) / 24
            calculation_steps.append(f"1-5 ุณููุงุช: ุซูุซ ุงูุฑุงุชุจ ุนู ูู ุดูุฑ = ({salary} ร {total_months}) รท 24")
        else:
            first_5 = (salary * 60) / 24
            remaining = (salary * (total_months - 60)) / 12
            amount = first_5 + remaining
            calculation_steps.append(f"ุฃูู 5 ุณููุงุช: ุซูุซ ุงูุฑุงุชุจ = ({salary} ร 60) รท 24 = {first_5:,.0f}")
            calculation_steps.append(f"ุงูุณููุงุช ุงูุชุงููุฉ: ุซูุซู ุงูุฑุงุชุจ = ({salary} ร {total_months-60}) รท 12 = {remaining:,.0f}")
    else:  # ุฅููุงุก ุฎุฏูุฉ
        if total_months <= 60:
            amount = (salary * total_months) / 12
            calculation_steps.append(f"1-5 ุณููุงุช: ุงูุฑุงุชุจ ุงููุงูู ุนู ูู ุดูุฑ = ({salary} ร {total_months}) รท 12")
        else:
            first_5 = (salary * 60) / 12
            remaining = (salary * (total_months - 60)) / 8
            amount = first_5 + remaining
            calculation_steps.append(f"ุฃูู 5 ุณููุงุช: ุงูุฑุงุชุจ ุงููุงูู = ({salary} ร 60) รท 12 = {first_5:,.0f}")
            calculation_steps.append(f"ุงูุณููุงุช ุงูุชุงููุฉ: ูุฑุชุจุงู ุนู ูู ุณูุฉ = ({salary} ร {total_months-60}) รท 8 = {remaining:,.0f}")
    
    reference = "ุงูููุงุฏ 74-77 ูู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู"
    return amount, reference, calculation_steps

def calculate_all_benefits(basic_salary, years, months, overtime_hours, overtime_type, 
                          vacation_days, sick_days, emergency_days, housing, transport, other, deductions):
    """ุญุณุงุจ ุฌููุน ุงููุณุชุญูุงุช ุฏูุนุฉ ูุงุญุฏุฉ"""
    
    # ุงููุณุชุญูุงุช ุงูุฃุณุงุณูุฉ
    basic_benefits = basic_salary
    
    # ุงูุนูู ุงูุฅุถุงูู
    hourly_rate = basic_salary / (30 * 8)
    overtime_rate = 1.25 if overtime_type == "ููุงุฑู" else 1.5
    overtime = overtime_hours * hourly_rate * overtime_rate
    
    # ุงูุฅุฌุงุฒุงุช
    daily_rate = basic_salary / 30
    vacation_benefits = daily_rate * vacation_days
    sick_benefits = daily_rate * sick_days * 0.5  # ูุตู ุงูุฑุงุชุจ ููุฅุฌุงุฒุฉ ุงููุฑุถูุฉ
    emergency_benefits = daily_rate * emergency_days
    
    # ุงูุจุฏูุงุช
    allowances = housing + transport + other
    
    # ุงูุฅุฌูุงูู
    total_benefits = basic_benefits + overtime + vacation_benefits + sick_benefits + emergency_benefits + allowances
    net_due = total_benefits - deductions
    
    return {
        'basic_benefits': basic_benefits,
        'overtime': overtime,
        'vacation_benefits': vacation_benefits + sick_benefits + emergency_benefits,
        'allowances': allowances,
        'deductions': deductions,
        'net_due': net_due,
        'breakdown': {
            'ุงูุฑุงุชุจ ุงูุฃุณุงุณู': basic_benefits,
            'ุจุฏู ุงูุนูู ุงูุฅุถุงูู': overtime,
            'ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช': vacation_benefits,
            'ุงูุฅุฌุงุฒุฉ ุงููุฑุถูุฉ': sick_benefits,
            'ุงูุฅุฌุงุฒุฉ ุงูุทุงุฑุฆุฉ': emergency_benefits,
            'ุจุฏู ุงูุณูู': housing,
            'ุจุฏู ุงูููุงุตูุงุช': transport,
            'ุจุฏูุงุช ุฃุฎุฑู': other
        }
    }

def generate_detailed_report(report_type):
    """ุชูููุฏ ุชูุฑูุฑ ููุตู"""
    reports = {
        "ุชูุฑูุฑ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ": """
        ุชูุฑูุฑ ููุตู ุนู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
        ==============================
        
        ุงูุชุงุฑูุฎ: {date}
        
        ุงููุญุชููุงุช:
        1. ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ
        2. ุทุฑููุฉ ุงูุญุณุงุจ
        3. ุงููุชุงุฆุฌ
        4. ุงูุฃุณุงุณ ุงููุงูููู
        5. ุงูุชูุตูุงุช
        
        ุชู ุฅูุดุงุก ุงูุชูุฑูุฑ ุจูุงุณุทุฉ ุงูููุตุฉ ุงููุงููููุฉ ุงูุฐููุฉ 2025
        """.format(date=datetime.now().strftime('%Y-%m-%d')),
        
        "ุชูุฑูุฑ ุดุงูู ูุฌููุน ุงููุณุชุญูุงุช": """
        ุงูุชูุฑูุฑ ุงูุดุงูู ูููุณุชุญูุงุช ุงููุงููููุฉ
        ==============================
        
        ูุฐุง ุงูุชูุฑูุฑ ูุดูู ูุงูุฉ ุงููุณุชุญูุงุช ุงููุณุชุญูุฉ ูุงููููุงู
        ูููุงู ูุฃุญุฏุซ ุงูุชุนุฏููุงุช ุงูุชุดุฑูุนูุฉ 2025
        
        ุงููุญุชููุงุช:
        - ุงูุฑุงุชุจ ูุงููุณุชุญูุงุช ุงูุฃุณุงุณูุฉ
        - ุจุฏู ุงูุนูู ุงูุฅุถุงูู
        - ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช
        - ุงุดุชุฑุงูุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู
        - ุงูุชุนููุถุงุช ูุงููุณุชุญูุงุช ุงูุฅุถุงููุฉ
        
        ุชุงุฑูุฎ ุงูุฅูุดุงุก: {date}
        """.format(date=datetime.now().strftime('%Y-%m-%d'))
    }
    
    return reports.get(report_type, "ุชูุฑูุฑ ุบูุฑ ูุชููุฑ")

def generate_end_service_report(salary, years, months, end_service, total_due, reference):
    """ุชูููุฏ ุชูุฑูุฑ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ"""
    return f"""
    ุชูุฑูุฑ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
    =======================
    
    ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ:
    - ุงูุฑุงุชุจ ุงูุฃุฎูุฑ: {salary:,.0f} ุฏููุงุฑ
    - ูุฏุฉ ุงูุฎุฏูุฉ: {years} ุณูุฉ ู {months} ุดูุฑ
    - ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ: {end_service:,.0f} ุฏููุงุฑ
    - ุงูุฅุฌูุงูู ุงููุณุชุญู: {total_due:,.0f} ุฏููุงุฑ
    
    ุงูุฃุณุงุณ ุงููุงูููู:
    {reference}
    
    ููุงุญุธุงุช:
    - ุงูุชูุฑูุฑ ูุฃุบุฑุงุถ ุงูุชูุนูุฉ ูุงูุชุนููู ููุท
    - ููุตู ุจุงูุชุดุงูุฑ ูุน ูุฎุชุต ูุงูููู
    - ุงูุญุณุงุจุงุช ููู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู 2025
    
    ุชุงุฑูุฎ ุงูุฅูุดุงุก: {datetime.now().strftime('%Y-%m-%d %H:%M')}
    """

# ==========================
# ๐งฎ ุฅุถุงูุฉ ูุณู ุงูุญุงุณุจุงุช ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
# ==========================
# ุณูุชู ุฏูุฌ ูุฐุง ูุน ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ ุงูููุฌูุฏุฉ
# ==========================
# ๐ ูุญุงูู ุงูุดููู ุงูุดุงูู ูุงููุชูุฏู
# ==========================
def show_complaint_simulator():
    st.markdown("### ๐ ูุญุงูู ุงูุดููู ุงูุฐูู - ูุธุงู ุงูุชุญููู ูุงูุชูุฌูู ุงูุนุงู")
    
    # ุชููููุงุช ุฃูุงู ูุฅุฎูุงุก ูุณุคูููุฉ ููุณุนุฉ
    st.markdown("""
    <div style="background: #FFFBEB; padding: 1.5rem; border-radius: 10px; border: 2px solid #F59E0B; margin-bottom: 2rem;">
        <h4 style="color: #D97706; margin-top: 0;">๐ข ุชููููุงุช ูุงูุฉ</h4>
        <ul style="color: #92400E;">
            <li><strong>ูุฐุง ุงููุญุงูู ููุฏู ุชุญูููุงู ุนุงูุงู ูุชูุนููุงู ููุท</strong></li>
            <li><strong>ูุง ูุตุฏุฑ ุฃุญูุงูุงู ูุงููููุฉ ุฃู ุงุณุชุดุงุฑุงุช ููุฒูุฉ</strong></li>
            <li><strong>ูุง ูุชู ุชุฎุฒูู ุฃู ูุนูููุงุช ุดุฎุตูุฉ</strong></li>
            <li><strong>ููุตู ุฏุงุฆูุงู ุจุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต</strong></li>
            <li><strong>ุงููุนูููุงุช ูุฃุบุฑุงุถ ุงูุชูุนูุฉ ูุงูุชุนููู ุงูุนุงู</strong></li>
        </ul>
    </div>
    """, unsafe_allow_html=True)
    
    complaint_tabs = st.tabs([
        "๐ ุชุญููู ุงููุดููุฉ", 
        "๐งฉ ุชุดุฎูุต ุงูุญุงูุฉ",
        "๐ ุฎุทุฉ ุงูุนูู", 
        "โ๏ธ ุงูุฅุทุงุฑ ุงููุงูููู",
        "๐ ููุดุฆ ุงููุซุงุฆู",
        "๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู",
        "๐ ุชุญููู ุงููุฎุงุทุฑ",
        "๐ ุงูุฏุนู ุงูููุฑู"
    ])
    
    with complaint_tabs[0]:
        show_problem_analysis()
    
    with complaint_tabs[1]:
        show_case_diagnosis()
    
    with complaint_tabs[2]:
        show_action_plan()
    
    with complaint_tabs[3]:
        show_legal_framework()
    
    with complaint_tabs[4]:
        show_document_generator()
    
    with complaint_tabs[5]:
        show_solutions_map()
    
    with complaint_tabs[6]:
        show_risk_analysis()
    
    with complaint_tabs[7]:
        show_immediate_support()

# ==========================
# ๐ ุชุญููู ุงููุดููุฉ ุงููุชูุฏู
# ==========================
def show_problem_analysis():
    st.markdown("#### ๐ ุงูุชุญููู ุงููุชูุฏู ูููุดููุฉ")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("ุชุตููู ุงููุดููุฉ")
        complaint_category = st.selectbox("ุงููุฆุฉ ุงูุฑุฆูุณูุฉ", [
            "๐ฐ ูุดุงูู ูุงููุฉ",
            "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ", 
            "โฐ ุธุฑูู ุงูุนูู",
            "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ",
            "๐ ุนููุฏ ูุชูุธูู",
            "๐ด ุฅุฌุงุฒุงุช ูุฑุงุญุฉ",
            "๐ง ูุดุงูู ุชูููุฉ",
            "๐จ ุญุงูุงุช ุทุงุฑุฆุฉ"
        ], key="complaint_category")
        
        complaint_type = st.selectbox("ููุน ุงููุดููุฉ ุงููุญุฏุฏ", get_complaint_types(complaint_category), key="complaint_type")
        
        st.subheader("ุงูุณูุงู ุงูุฒููู")
        start_date = st.date_input("ุชุงุฑูุฎ ุจุฏุงูุฉ ุงููุดููุฉ")
        duration = st.selectbox("ูุฏุฉ ุงุณุชูุฑุงุฑ ุงููุดููุฉ", [
            "ุฃูู ูู ุฃุณุจูุน", "1-4 ุฃุณุงุจูุน", "1-3 ุฃุดูุฑ", "3-6 ุฃุดูุฑ", "6-12 ุดูุฑ", "ุฃูุซุฑ ูู ุณูุฉ"
        ])
        frequency = st.selectbox("ุชูุฑุงุฑ ุงููุดููุฉ", [
            "ุญุงุฏุซุฉ ูุงุญุฏุฉ", "ูุชูุฑุฑุฉ ุฃุณุจูุนูุงู", "ูุชูุฑุฑุฉ ุดูุฑูุงู", "ูุณุชูุฑุฉ", "ุบูุฑ ููุชุธูุฉ"
        ])
    
    with col2:
        st.subheader("ุชุฃุซูุฑ ุงููุดููุฉ")
        severity = st.select_slider("ุดุฏุฉ ุงูุชุฃุซูุฑ", [
            "ููุฎูุถ", "ูุชูุณุท", "ูุฑุชูุน", "ุญุฑุฌ", "ูุงุฑุซู"
        ])
        
        affected_areas = st.multiselect("ุงููุฌุงูุงุช ุงููุชุฃุซุฑุฉ", [
            "ุงูุฏุฎู ุงููุงูู", "ุงูุตุญุฉ ุงูููุณูุฉ", "ุงูุตุญุฉ ุงูุฌุณุฏูุฉ", 
            "ุงูุฃุฏุงุก ุงููุธููู", "ุงูุนูุงูุงุช ุงูุนูููุฉ", "ุงูุณูุนุฉ ุงูููููุฉ",
            "ุงูุงุณุชูุฑุงุฑ ุงููุธููู", "ุงูุชุทูุฑ ุงููุธููู"
        ])
        
        st.subheader("ุงูุฌูุงุช ุงููุชุถููุฉ")
        involved_parties = st.multiselect("ุงูุฃุทุฑุงู ุงููุนููุฉ", [
            "ุตุงุญุจ ุงูุนูู", "ุงููุฏูุฑ ุงููุจุงุดุฑ", "ุฒููุงุก ุงูุนูู", 
            "ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ", "ุฌูุฉ ุญููููุฉ", "ุนููุงุก"
        ])
    
    # ูุตู ุงููุดููุฉ ุงูููุตู
    st.subheader("๐ ุงููุตู ุงูุชูุตููู ูููุดููุฉ")
    problem_description = st.text_area(
        "ุตู ุงููุดููุฉ ุจุดูู ููุตู ููุงุถุญ",
        placeholder="""ูุซุงู: 
ุจุฏุฃุช ุงููุดููุฉ ุนูุฏูุง... 
ุงูุชุฃุซูุฑ ุงููุจุงุดุฑ ูุงู...
ุญุงููุช ุญู ุงููุดููุฉ ุนู ุทุฑูู...
ุงููุชูุฌุฉ ูุงูุช...""",
        height=150
    )
    
    # ุงูุฃุฏูุฉ ูุงููุณุชูุฏุงุช
    with st.expander("๐ ุงูุฃุฏูุฉ ูุงููุณุชูุฏุงุช ุงููุชุงุญุฉ"):
        col1, col2, col3 = st.columns(3)
        with col1:
            st.checkbox("ุนููุฏ ุงูุนูู")
            st.checkbox("ูุดูู ุงูุฑูุงุชุจ")
            st.checkbox("ูุฑุงุณูุงุช ุฑุณููุฉ")
        with col2:
            st.checkbox("ุฅุดุนุงุฑุงุช ูุฅุฎุทุงุฑุงุช")
            st.checkbox("ุชูุงุฑูุฑ ุทุจูุฉ")
            st.checkbox("ุตูุฑ ุฃู ุชุณุฌููุงุช")
        with col3:
            st.checkbox("ุดูุงุฏุงุช ูุดูุงุฏุงุช")
            st.checkbox("ุฅุซุจุงุชุงุช ูุงููุฉ")
            st.checkbox("ุฃุฏูุฉ ุฃุฎุฑู")
    
    if st.button("๐ ุจุฏุก ุงูุชุญููู ุงูุดุงูู", type="primary", key="start_analysis"):
        if problem_description:
            with st.spinner("ุฌุงุฑู ุชุญููู ุงููุดููุฉ ูุชูุฏูู ุงูุชูุตูุงุช ุงูุนุงูุฉ..."):
                analysis_result = analyze_complaint_advanced(
                    complaint_category, complaint_type, problem_description, 
                    severity, duration, frequency, affected_areas
                )
                
                display_analysis_results(analysis_result)

# ==========================
# ๐งฉ ุชุดุฎูุต ุงูุญุงูุฉ ุงููุชูุฏู
# ==========================
def show_case_diagnosis():
    st.markdown("#### ๐งฉ ุงูุชุดุฎูุต ุงููุชูุฏู ููุญุงูุฉ")
    
    st.info("""
    **๐ฏ ุงููุฏู:** ููู ุฃุจุนุงุฏ ุงููุดููุฉ ุจุดูู ุฃุนูู ูุชุญุฏูุฏ ุงูุฃููุงุท ูุงูุงุชุฌุงูุงุช
    """)
    
    # ูุตูููุฉ ุงูุชุดุฎูุต
    diagnosis_matrix = {
        "ุงูุฌูุงูุจ ุงููุงููููุฉ": [
            "ูู ููุงู ูุฎุงููุฉ ูุงุถุญุฉ ูููุงูููุ",
            "ูุง ูู ุงูููุงุฏ ุงููุงููููุฉ ุงูููุทุจูุฉุ", 
            "ูู ุชูุฌุฏ ุณูุงุจู ูุถุงุฆูุฉ ูุดุงุจูุฉุ",
            "ูุง ูู ุงูุนููุจุงุช ุงููุญุชููุฉุ"
        ],
        "ุงูุฌูุงูุจ ุงูุฅุฌุฑุงุฆูุฉ": [
            "ูู ุชู ุงุชุจุงุน ุงูุฅุฌุฑุงุกุงุช ุงูุตุญูุญุฉุ",
            "ูุง ูู ุงูุฅุฌุฑุงุกุงุช ุงููุชุงุญุฉ ูุญู ุงููุดููุฉุ",
            "ูู ุชูุฌุฏ ูุณุงุทุฉ ุฃู ุตูุญ ููููุ",
            "ูุง ูู ุงูููู ุงููุงููููุฉ ุงููุทุจูุฉุ"
        ],
        "ุงูุฌูุงูุจ ุงููุงููุฉ": [
            "ูุง ูู ุงูุฎุณุงุฆุฑ ุงููุงููุฉ ุงููุญุชููุฉุ",
            "ูู ุชูุฌุฏ ูุณุชุญูุงุช ูุงููุฉ ูุชุฃุฎุฑุฉุ",
            "ูุง ูู ุงูุชูุงููู ุงููุชููุนุฉ ููุญูุ",
            "ูู ุชูุฌุฏ ุชุนููุถุงุช ูุณุชุญูุฉุ"
        ],
        "ุงูุฌูุงูุจ ุงูููุณูุฉ": [
            "ูุง ูู ุงูุชุฃุซูุฑ ุงูููุณู ูููุดููุฉุ",
            "ูู ุชูุฌุฏ ุฃุนุฑุงุถ ุชูุชุฑ ุฃู ุฅุฑูุงูุ",
            "ูุง ูู ูุณุชูู ุงูุถุบุท ุงููุงุชุฌุ",
            "ูู ุชุญุชุงุฌ ูุฏุนู ููุณูุ"
        ]
    }
    
    diagnosis_scores = {}
    
    for aspect, questions in diagnosis_matrix.items():
        with st.expander(f"๐ {aspect}", expanded=True):
            aspect_score = 0
            for question in questions:
                score = st.slider(
                    question,
                    1, 5, 3,
                    key=f"diag_{aspect}_{question}"
                )
                aspect_score += score
            
            diagnosis_scores[aspect] = aspect_score / len(questions)
            st.progress(diagnosis_scores[aspect] / 5)
            st.write(f"**ูุคุดุฑ {aspect}: {diagnosis_scores[aspect]:.1f}/5**")
    
    # ุชุญููู ุงููุชุงุฆุฌ
    if diagnosis_scores:
        st.markdown("#### ๐ ุชุญููู ุงูุชุดุฎูุต ุงูุดุงูู")
        
        col1, col2 = st.columns(2)
        
        with col1:
            # ูุฎุทุท ุงููุชุงุฆุฌ
            aspects = list(diagnosis_scores.keys())
            scores = list(diagnosis_scores.values())
            
            diagnosis_df = pd.DataFrame({
                'ุงูุฌุงูุจ': aspects,
                'ุงููุคุดุฑ': scores
            })
            
            st.bar_chart(diagnosis_df.set_index('ุงูุฌุงูุจ'))
        
        with col2:
            # ุงูุชูุตูุงุช
            st.markdown("##### ๐ก ุงูุชูุตูุงุช ุงูุชุดุฎูุตูุฉ")
            
            high_risk_aspects = [aspect for aspect, score in diagnosis_scores.items() if score >= 4]
            medium_risk_aspects = [aspect for aspect, score in diagnosis_scores.items() if 3 <= score < 4]
            
            if high_risk_aspects:
                st.error("**ูุฌุงูุงุช ุนุงููุฉ ุงูุฎุทูุฑุฉ:**")
                for aspect in high_risk_aspects:
                    st.write(f"๐จ {aspect} - ูุญุชุงุฌ ุชุฏุฎู ุนุงุฌู")
            
            if medium_risk_aspects:
                st.warning("**ูุฌุงูุงุช ูุชูุณุทุฉ ุงูุฎุทูุฑุฉ:**")
                for aspect in medium_risk_aspects:
                    st.write(f"โ๏ธ {aspect} - ูุญุชุงุฌ ูุชุงุจุนุฉ")

# ==========================
# ๐ ุฎุทุฉ ุงูุนูู ุงููุชูุฏูุฉ
# ==========================
def show_action_plan():
    st.markdown("#### ๐ ุฎุทุฉ ุงูุนูู ุงูุดุงููุฉ")
    
    # ูุฑุงุญู ุงูุฎุทุฉ
    plan_stages = {
        "ุงููุฑุญูุฉ ูก: ุงูุทูุงุฑุฆ ูุงูููุฑูุฉ (ูขูค-ูคูจ ุณุงุนุฉ)": [
            "ุชุฃููู ุงูุฃุฏูุฉ ูุงููุณุชูุฏุงุช",
            "ุชูููู ุงููุฎุงุทุฑ ุงูููุฑูุฉ", 
            "ุงุชุฎุงุฐ ุฅุฌุฑุงุกุงุช ููุงุฆูุฉ",
            "ุงูุชูุงุตู ูุน ุฌูุงุช ุงูุฏุนู"
        ],
        "ุงููุฑุญูุฉ ูข: ุงูุชุตุนูุฏ ุงูุฑุณูู (ุฃุณุจูุน)": [
            "ุฅุนุฏุงุฏ ุงููุซุงุฆู ุงูุฑุณููุฉ",
            "ุงูุชูุงุตู ูุน ุงูุฅุฏุงุฑุฉ",
            "ุชูุฏูู ุงูุดููู ุงูุฏุงุฎููุฉ",
            "ุทูุจ ูุณุงุทุฉ ุฑุณููุฉ"
        ],
        "ุงููุฑุญูุฉ ูฃ: ุงูุฅุฌุฑุงุกุงุช ุงููุงููููุฉ (ูข-ูค ุฃุณุงุจูุน)": [
            "ุงูุชูุฌู ููุฌูุงุช ุงูุญููููุฉ",
            "ุชูุฏูู ุดููู ุฑุณููุฉ",
            "ุงููุดุงุฑูุฉ ูู ุฌูุณุงุช ุงูุตูุญ",
            "ุฅุนุฏุงุฏ ุงููุณุชูุฏุงุช ุงููุถุงุฆูุฉ"
        ],
        "ุงููุฑุญูุฉ ูค: ุงููุชุงุจุนุฉ ูุงููุชุงุฆุฌ (ูก-ูฃ ุฃุดูุฑ)": [
            "ูุชุงุจุนุฉ ุณูุฑ ุงููุถูุฉ",
            "ุชูููุฐ ุงููุฑุงุฑุงุช",
            "ุงูุชูููู ูุงููุญุงุณุจุฉ",
            "ููุน ุชูุฑุงุฑ ุงููุดููุฉ"
        ]
    }
    
    selected_stage = st.selectbox("ุงุฎุชุฑ ูุฑุญูุฉ ุงูุฎุทุฉ", list(plan_stages.keys()))
    
    with st.expander(f"๐ ุชูุงุตูู {selected_stage}", expanded=True):
        actions = plan_stages[selected_stage]
        
        for i, action in enumerate(actions, 1):
            col1, col2, col3, col4 = st.columns([3, 1, 1, 1])
            
            with col1:
                st.write(f"**{i}. {action}**")
            
            with col2:
                status = st.selectbox(
                    "ุงูุญุงูุฉ",
                    ["ูู ูุจุฏุฃ", "ููุฏ ุงูุชูููุฐ", "ููุชูู", "ูุชุฃุฎุฑ"],
                    key=f"status_{selected_stage}_{i}"
                )
            
            with col3:
                responsible = st.selectbox(
                    "ุงููุณุคูู",
                    ["ุฃูุช", "ูุญุงูู", "ุฌูุฉ ุญููููุฉ", "ูุดุชุฑู"],
                    key=f"responsible_{selected_stage}_{i}"
                )
            
            with col4:
                deadline = st.date_input(
                    "ุงูููุนุฏ ุงูููุงุฆู",
                    key=f"deadline_{selected_stage}_{i}"
                )
        
        # ุชูุฏู ุงููุฑุญูุฉ
        progress = st.slider("ุชูุฏู ุงููุฑุญูุฉ", 0, 100, 0, key=f"progress_{selected_stage}")
        st.progress(progress/100)
    
    # ุฎูุงุฑุงุช ุงูุชุญููู
    col1, col2, col3 = st.columns(3)
    with col1:
        if st.button("๐ฅ ุชุญููู ุฎุทุฉ ุงูุนูู", key="download_plan"):
            st.success("ุฌุงุฑู ุฅูุดุงุก ุฎุทุฉ ุงูุนูู ุงูุดุงููุฉ...")
    with col2:
        if st.button("๐ ุจุฏุก ุฎุทุฉ ุฌุฏูุฏุฉ", key="new_plan"):
            st.info("ุจุฏุก ุฎุทุฉ ุนูู ุฌุฏูุฏุฉ")
    with col3:
        if st.button("๐ง ูุดุงุฑูุฉ ุงูุฎุทุฉ", key="share_plan"):
            st.warning("ููุฒุฉ ุงููุดุงุฑูุฉ ููุฏ ุงูุชุทููุฑ")

# ==========================
# โ๏ธ ุงูุฅุทุงุฑ ุงููุงูููู ุงูููุณุน
# ==========================
def show_legal_framework():
    st.markdown("#### โ๏ธ ุงูุฅุทุงุฑ ุงููุงูููู ุงูุดุงูู")
    
    legal_tabs = st.tabs(["ุงูููุงุฏ ุงููุงููููุฉ", "ุงูุณูุงุจู ุงููุถุงุฆูุฉ", "ุงูููุงุฆุญ ุงูุชูููุฐูุฉ", "ุงูุงุฌุชูุงุฏุงุช ุงูููููุฉ"])
    
    with legal_tabs[0]:
        st.markdown("##### ๐ ุงูููุงุฏ ุงููุงููููุฉ ุงูููุทุจูุฉ")
        
        legal_articles = {
            "ุงููุงุฏุฉ 13": "ูุฌูุจ ูุชุงุจุฉ ุนูุฏ ุงูุนูู",
            "ุงููุงุฏุฉ 35": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
            "ุงููุงุฏุฉ 42": "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", 
            "ุงููุงุฏุฉ 55": "ููุนุฏ ุตุฑู ุงูุฃุฌุฑ",
            "ุงููุงุฏุฉ 72": "ุฅููุงุก ุนูุฏ ุงูุนูู",
            "ุงููุงุฏุฉ 73": "ุงููุตู ุงูุชุนุณูู",
            "ุงููุงุฏุฉ 74": "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
            "ุงููุงุฏุฉ 79": "ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ"
        }
        
        for article, description in legal_articles.items():
            with st.expander(f"๐ {article}: {description}"):
                st.write(f"**ุงููุต ุงููุงูู:** {get_article_full_text(article)}")
                st.write(f"**ุงูุชุทุจููุงุช:** {get_article_applications(article)}")
                st.write(f"**ุงูุงุณุชุซูุงุกุงุช:** {get_article_exceptions(article)}")
    
    with legal_tabs[1]:
        st.markdown("##### โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ ุฐุงุช ุงูุตูุฉ")
        
        legal_precedents = [
            {
                "ุงููุถูุฉ": "ุชูููุฒ ุนูู 150/2023 - ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ",
                "ุงููุจุฏุฃ": "ูุฌูุจ ุงูุชุนููุถ ุนู ุงูุฃุถุฑุงุฑ ุงููุงุชุฌุฉ ุนู ุชุฃุฎูุฑ ุตุฑู ุงูุฑูุงุชุจ",
                "ุงูุชุทุจูู": "ููุทุจู ุนูู ุญุงูุงุช ุงูุชุฃุฎูุฑ ุงููุชูุฑุฑ ุฃู ุงูุทููู"
            },
            {
                "ุงููุถูุฉ": "ุชูููุฒ ุนูู 85/2022 - ุงููุตู ุงูุชุนุณูู", 
                "ุงููุจุฏุฃ": "ูุฌูุจ ุฅุซุจุงุช ุงููุจุฑุฑ ุงููุดุฑูุน ูููุตู",
                "ุงูุชุทุจูู": "ููุทุจู ุนูู ุญุงูุงุช ุงููุตู ุจุฏูู ุฅูุฐุงุฑ ุฃู ุณุจุจ ูุงุถุญ"
            }
        ]
        
        for precedent in legal_precedents:
            with st.expander(f"โ๏ธ {precedent['ุงููุถูุฉ']}"):
                st.write(f"**ุงููุจุฏุฃ ุงููุงูููู:** {precedent['ุงููุจุฏุฃ']}")
                st.write(f"**ูุฌุงู ุงูุชุทุจูู:** {precedent['ุงูุชุทุจูู']}")

# ==========================
# ๐ ููุดุฆ ุงููุซุงุฆู ุงููุชูุฏู
# ==========================
def show_document_generator():
    st.markdown("#### ๐ ููุดุฆ ุงููุซุงุฆู ุงูุฐูู")
    
    doc_type = st.selectbox("ููุน ุงููุซููุฉ", [
        "ุฅูุฐุงุฑ ุฑุณูู ูุตุงุญุจ ุงูุนูู",
        "ุดููู ููุฏูุฑูุฉ ุงูุนูู", 
        "ุทูุจ ูุณุงุทุฉ",
        "ุนุฑูุถุฉ ุฏุนูู",
        "ุทูุจ ุงุณุชุดุงุฑุฉ ูุงููููุฉ",
        "ูุฑุงุณูุฉ ุฑุณููุฉ",
        "ุฅูุฑุงุฑ ุฃู ุชูุงุฒู",
        "ุงุชูุงููุฉ ุชุณููุฉ"
    ])
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.subheader("ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ")
        recipient_name = st.text_input("ุงุณู ุงููุณุชูู", placeholder="ุงุณู ุตุงุญุจ ุงูุนูู ุฃู ุงูุฌูุฉ")
        issue_date = st.date_input("ุชุงุฑูุฎ ุงููุซููุฉ")
        reference_number = st.text_input("ุฑูู ุงูุฅุดุงุฑุฉ (ุงุฎุชูุงุฑู)")
    
    with col2:
        st.subheader("ุชูุงุตูู ุงููุดููุฉ")
        problem_summary = st.text_area("ููุฎุต ุงููุดููุฉ", height=100)
        requested_action = st.text_input("ุงูุฅุฌุฑุงุก ุงููุทููุจ")
        deadline_days = st.number_input("ุงููููุฉ ุงููุทููุจุฉ (ุฃูุงู)", min_value=1, max_value=90, value=14)
    
    if st.button("๐ ุฅูุดุงุก ุงููุซููุฉ", key="generate_document"):
        document_content = generate_legal_document(
            doc_type, recipient_name, issue_date, problem_summary, 
            requested_action, deadline_days
        )
        
        st.success("## ๐ ุงููุซููุฉ ุงููููุดุฃุฉ")
        st.text_area("ูุญุชูู ุงููุซููุฉ", document_content, height=300)
        
        # ุฎูุงุฑุงุช ุงูุชุญููู
        col1, col2, col3 = st.columns(3)
        with col1:
            st.download_button(
                "๐ฅ ุชุญููู DOC",
                data=document_content,
                file_name=f"{doc_type}_{datetime.now().strftime('%Y%m%d')}.txt",
                mime="text/plain"
            )
        with col2:
            st.download_button(
                "๐ ุชุญููู PDF",
                data=document_content,
                file_name=f"{doc_type}_{datetime.now().strftime('%Y%m%d')}.txt",
                mime="text/plain"
            )
        with col3:
            if st.button("๐ ูุณุฎ ูููุตูุต"):
                st.success("ุชู ุงููุณุฎ ููุญุงูุธุฉ")

# ==========================
# ๐๏ธ ุฏูุงู ูุณุงุนุฏุฉ ูููุญุงูู
# ==========================
def get_complaint_types(category):
    """ุงูุญุตูู ุนูู ุฃููุงุน ุงููุดุงูู ุญุณุจ ุงููุฆุฉ"""
    types_map = {
        "๐ฐ ูุดุงูู ูุงููุฉ": [
            "ุชุฃุฎุฑ ุตุฑู ุงูุฑูุงุชุจ", "ุฎุตู ุบูุฑ ูุงูููู", "ุญุฑูุงู ูู ุนูุงูุงุช",
            "ุนุฏู ุตุฑู ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ", "ูุดุงูู ูู ุงูุจุฏูุงุช"
        ],
        "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ": [
            "ูุตู ุชุนุณูู", "ุฅููุงุก ุฎุฏูุฉ ุจุฏูู ุฅูุฐุงุฑ", "ุถุบุท ููุงุณุชูุงูุฉ",
            "ุฅููุงุก ุฎุฏูุฉ ุฃุซูุงุก ุงูุฅุฌุงุฒุฉ", "ูุตู ุชุฃุฏูุจู ุบูุฑ ูุจุฑุฑ"
        ],
        "โฐ ุธุฑูู ุงูุนูู": [
            "ุณุงุนุงุช ุนูู ุฅุถุงููุฉ ูุณุฑูุฉ", "ุนุฏู ููุญ ูุชุฑุงุช ุฑุงุญุฉ", "ุนูู ูู ุงูุนุทู",
            "ุชุบููุฑ ุธุฑูู ุงูุนูู ุจุดูู ููุงุฌุฆ", "ุถุบุท ุนูู ุบูุฑ ูุนููู"
        ],
        "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ": [
            "ุจูุฆุฉ ุนูู ุบูุฑ ุขููุฉ", "ุนุฏู ุชูููุฑ ูุนุฏุงุช ููุงูุฉ", "ุชุญุฑุด ุฌูุณู",
            "ุชูููุฒ ุนูู ุฃุณุงุณ ุงูุฌูุณ ุฃู ุงูุณู", "ุชููุฑ ููุถุงููุงุช"
        ]
    }
    return types_map.get(category, ["ูุดููุฉ ุนุงูุฉ"])

def analyze_complaint_advanced(category, complaint_type, description, severity, duration, frequency, affected_areas):
    """ุชุญููู ูุชูุฏู ูููุดููุฉ"""
    
    # ุชุญููู ุงูุดุฏุฉ ูุงูุชุฃุซูุฑ
    severity_scores = {
        "ููุฎูุถ": 1, "ูุชูุณุท": 2, "ูุฑุชูุน": 3, "ุญุฑุฌ": 4, "ูุงุฑุซู": 5
    }
    
    duration_scores = {
        "ุฃูู ูู ุฃุณุจูุน": 1, "1-4 ุฃุณุงุจูุน": 2, "1-3 ุฃุดูุฑ": 3, 
        "3-6 ุฃุดูุฑ": 4, "6-12 ุดูุฑ": 5, "ุฃูุซุฑ ูู ุณูุฉ": 6
    }
    
    base_score = severity_scores.get(severity, 1) * duration_scores.get(duration, 1)
    
    return {
        "risk_level": calculate_risk_level(base_score),
        "priority": calculate_priority(base_score, len(affected_areas)),
        "estimated_timeline": estimate_timeline(category, severity),
        "recommended_actions": generate_recommended_actions(category, complaint_type),
        "legal_references": get_legal_references(category),
        "support_resources": get_support_resources(category)
    }

def display_analysis_results(analysis):
    """ุนุฑุถ ูุชุงุฆุฌ ุงูุชุญููู"""
    
    st.success("## ๐ ูุชุงุฆุฌ ุงูุชุญููู ุงูุดุงูู")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.metric("ูุณุชูู ุงูุฎุทูุฑุฉ", analysis["risk_level"])
        st.metric("ุงูุฃููููุฉ", analysis["priority"])
    
    with col2:
        st.metric("ุงูุฅุทุงุฑ ุงูุฒููู ุงูููุฏุฑ", analysis["estimated_timeline"])
        st.metric("ุงููุฑุงุฌุน ุงููุงููููุฉ", f"{len(analysis['legal_references'])} ูุฑุฌุน")
    
    st.markdown("#### ๐ฏ ุงูุฅุฌุฑุงุกุงุช ุงูููุตู ุจูุง")
    for i, action in enumerate(analysis["recommended_actions"], 1):
        st.write(f"{i}. {action}")
    
    st.markdown("#### ๐ ุงููุฑุงุฌุน ุงููุงููููุฉ")
    for reference in analysis["legal_references"]:
        st.write(f"โข {reference}")
    
    st.markdown("#### ๐ ููุงุฑุฏ ุงูุฏุนู")
    for resource in analysis["support_resources"]:
        st.write(f"โข {resource}")

def calculate_risk_level(score):
    """ุญุณุงุจ ูุณุชูู ุงูุฎุทูุฑุฉ"""
    if score >= 20:
        return "๐จ ุนุงูู ุฌุฏุงู"
    elif score >= 15:
        return "๐ด ุนุงูู"
    elif score >= 10:
        return "๐ก ูุชูุณุท"
    elif score >= 5:
        return "๐ข ููุฎูุถ"
    else:
        return "โช ุจุณูุท"

def calculate_priority(score, affected_areas_count):
    """ุญุณุงุจ ุงูุฃููููุฉ"""
    priority_score = score * (1 + affected_areas_count * 0.2)
    
    if priority_score >= 25:
        return "ุนุงุฌู"
    elif priority_score >= 15:
        return "ูุฑุชูุน"
    elif priority_score >= 8:
        return "ูุชูุณุท"
    else:
        return "ุนุงุฏู"

def estimate_timeline(category, severity):
    """ุชูุฏูุฑ ุงูุฅุทุงุฑ ุงูุฒููู"""
    timelines = {
        "๐ฐ ูุดุงูู ูุงููุฉ": "2-4 ุฃุณุงุจูุน",
        "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ": "4-8 ุฃุณุงุจูุน", 
        "โฐ ุธุฑูู ุงูุนูู": "1-3 ุฃุณุงุจูุน",
        "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ": "1-2 ุฃุณุงุจูุน"
    }
    
    base_timeline = timelines.get(category, "2-4 ุฃุณุงุจูุน")
    
    # ุชุนุฏูู ุญุณุจ ุงูุดุฏุฉ
    if severity in ["ุญุฑุฌ", "ูุงุฑุซู"]:
        return f"ููุฑู - {base_timeline}"
    else:
        return base_timeline

def generate_recommended_actions(category, complaint_type):
    """ุชูููุฏ ุงูุฅุฌุฑุงุกุงุช ุงูููุตู ุจูุง"""
    actions_map = {
        "๐ฐ ูุดุงูู ูุงููุฉ": [
            "ุชูุซูู ูุงูุฉ ุงููุณุชูุฏุงุช ุงููุงููุฉ",
            "ุฅุฑุณุงู ุฅูุฐุงุฑ ุฑุณูู ูุตุงุญุจ ุงูุนูู",
            "ุงูุชูุฌู ููุฏูุฑูุฉ ุงูุนูู",
            "ุญุณุงุจ ุงููุณุชุญูุงุช ุงููุงููุฉ ุจุฏูุฉ"
        ],
        "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ": [
            "ุทูุจ ุฃุณุจุงุจ ุงููุตู ุฎุทูุงู",
            "ูุฑุงุฌุนุฉ ุนูุฏ ุงูุนูู ูุงูุดุฑูุท",
            "ุญุณุงุจ ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ",
            "ุงุณุชุดุงุฑุฉ ูุญุงูู ูุชุฎุตุต"
        ]
    }
    
    return actions_map.get(category, [
        "ุชูุซูู ูุงูุฉ ุฌูุงูุจ ุงููุดููุฉ",
        "ุงูุจุญุซ ุนู ุฃุฏูุฉ ูุฅุซุจุงุชุงุช",
        "ุงูุชูุฌู ููุฌูุงุช ุงููุฎุชุตุฉ",
        "ุงููุญุงูุธุฉ ุนูู ุงููุฏูุก ูุงูุงุญุชุฑุงููุฉ"
    ])

def get_legal_references(category):
    """ุงูุญุตูู ุนูู ุงููุฑุงุฌุน ุงููุงููููุฉ"""
    references_map = {
        "๐ฐ ูุดุงูู ูุงููุฉ": [
            "ุงููุงุฏุฉ 55: ููุนุฏ ุตุฑู ุงูุฃุฌุฑ",
            "ุงููุงุฏุฉ 56: ุงูุชุนููุถ ุนู ุงูุชุฃุฎูุฑ", 
            "ุงููุงุฏุฉ 42: ุจุฏู ุงูุนูู ุงูุฅุถุงูู"
        ],
        "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ": [
            "ุงููุงุฏุฉ 72: ุฅููุงุก ุนูุฏ ุงูุนูู",
            "ุงููุงุฏุฉ 73: ุงููุตู ุงูุชุนุณูู",
            "ุงููุงุฏุฉ 74: ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ"
        ]
    }
    
    return references_map.get(category, ["ูุงููู ุงูุนูู ุงูุฃุฑุฏูู ูุชุนุฏููุงุชู"])

def get_support_resources(category):
    """ุงูุญุตูู ุนูู ููุงุฑุฏ ุงูุฏุนู"""
    resources = [
        "ูุฒุงุฑุฉ ุงูุนูู: 06-5802666",
        "ููุงุจุฉ ุงููุญุงููู: 06-5664111", 
        "ูุฑุงูุฒ ุงูุฏุนู ุงููุงูููู ุงููุฌุงูู",
        "ุฎุทูุท ุงููุณุงุนุฏุฉ ุงูููุณูุฉ"
    ]
    
    if category == "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ":
        resources.append("ุงูุฏูุงุน ุงููุฏูู: 199")
        resources.append("ูุฑูุฒ ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด")
    
    return resources

def generate_legal_document(doc_type, recipient, date, problem, action, deadline):
    """ุชูููุฏ ูุซููุฉ ูุงููููุฉ"""
    
    templates = {
        "ุฅูุฐุงุฑ ุฑุณูู ูุตุงุญุจ ุงูุนูู": f"""
        ุฅูุฐุงุฑ ุฑุณูู
        ุงูุชุงุฑูุฎ: {date}
        
        ุฅูู: {recipient}
        
        ุงูููุถูุน: {problem}
        
        ุฃูุง ุงูุนุงูู ูู ูุคุณุณุชููุ ุฃุญูุทูู ุนููุงู ุจุฃูู:
        {problem}
        
        ุฃุทูุจ ูููู:
        {action}
        
        ุขูู ูููู ูุนุงูุฌุฉ ุงูุฃูุฑ ุฎูุงู {deadline} ูููุงู ูู ุชุงุฑูุฎ ูุฐุง ุงูุฅูุฐุงุฑุ 
        ูุฅูุง ุณุฃุถุทุฑ ูุงุชุฎุงุฐ ุงูุฅุฌุฑุงุกุงุช ุงููุงููููุฉ ุงููุงุฒูุฉ.
        
        ูุชูุถููุง ุจูุจูู ูุงุฆู ุงูุงุญุชุฑุงูุ
        [ุงูุชูููุน]
        """,
        
        "ุดููู ููุฏูุฑูุฉ ุงูุนูู": f"""
        ุดููู ุฑุณููุฉ
        ุงูุชุงุฑูุฎ: {date}
        
        ุฅูู: ูุฏูุฑ ูุฏูุฑูุฉ ุงูุนูู ุงููุฎุชุตุฉ
        
        ุงูููุถูุน: ุดููู ุจุฎุตูุต {problem}
        
        ุฃุชูุฏู ูุณูุงุฏูู ุจูุฐู ุงูุดููู ุถุฏ: {recipient}
        
        ุชูุงุตูู ุงููุดููุฉ:
        {problem}
        
        ุงูุฅุฌุฑุงุก ุงููุทููุจ:
        {action}
        
        ุฃุฑุฌู ูู ุณูุงุฏูู ุงุชุฎุงุฐ ุงูุฅุฌุฑุงุกุงุช ุงููุงุฒูุฉ ูููุงู ูููุงููู.
        
        ูุชูุถููุง ุจูุจูู ูุงุฆู ุงูุงุญุชุฑุงูุ
        [ููุฏู ุงูุดููู]
        """
    }
    
    return templates.get(doc_type, "ูููุฐุฌ ุบูุฑ ูุชููุฑ")

# ==========================
# ๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู (ุณูุชู ุงุณุชููุงููุง)
# ==========================
def show_solutions_map():
    st.markdown("#### ๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู ูุงูุจุฏุงุฆู")
    st.info("ูุฐุง ุงููุณู ููุฏ ุงูุชุทููุฑ...")

def show_risk_analysis():
    st.markdown("#### ๐ ุชุญููู ุงููุฎุงุทุฑ ุงููุชูุฏู") 
    st.info("ูุฐุง ุงููุณู ููุฏ ุงูุชุทููุฑ...")

def show_immediate_support():
    st.markdown("#### ๐ ุงูุฏุนู ูุงููุณุงูุฏุฉ ุงูููุฑูุฉ")
    st.info("ูุฐุง ุงููุณู ููุฏ ุงูุชุทููุฑ...")

# ==========================
# ๐งญ ุฅุถุงูุฉ ุงููุญุงูู ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
# ==========================
# ุณูุชู ุฏูุฌ ูุฐุง ูุน ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ
# ==========================
# ๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ ุงููุญุณูุฉ
# ==========================
def show_authorities_section():
    st.markdown("### ๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ - ุฏููู ุดุงูู ูุฌููุน ุงููุญุงูุธุงุช")
    
    authorities_tabs = st.tabs([
        "๐บ๏ธ ุฎุฑูุทุฉ ุงููุญุงูุธุงุช",
        "๐ ูุนูููุงุช ุงูุงุชุตุงู", 
        "๐ ุฅุฌุฑุงุกุงุช ุงูุดูุงูู",
        "โฐ ููุงุนูุฏ ุงูุนูู",
        "๐ ุงูุฎุฏูุงุช ุงูุฅููุชุฑูููุฉ"
    ])
    
    with authorities_tabs[0]:
        # ุชุญุฏูุซ ุงููุญุงูุธุงุช ูุงูุฌูุงุช 2025
        governorates = {
            "ุนูุงู": {
                "ูุฒุงุฑุฉ ุงูุนูู": {
                    "ูุงุชู": "06-5802666",
                    "ุนููุงู": "ุชูุงุน ุงูุนูู - ูุฌูุน ุงูุฏูุงุฆุฑ ุงูุญููููุฉ",
                    "ุฎุฏูุงุช": ["ุดูุงูู ุงูุนูู", "ุงูุชุฑุงุฎูุต", "ุงูุชูุชูุด", "ุงูุฅุฑุดุงุฏ"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                },
                "ูุญููุฉ ุงูุนูู": {
                    "ูุงุชู": "06-5651900", 
                    "ุนููุงู": "ุดุงุฑุน ุงููุฏููุฉ ุงููููุฑุฉ - ุจุฌุงูุจ ูุญููุฉ ุงูุจุฏุงุกุฉ",
                    "ุฎุฏูุงุช": ["ูุถุงูุง ุงูุนูู", "ุงูููุงุฒุนุงุช", "ุงูุทุนูู"],
                    "ุฃููุงุช": "8:00 ุต - 2:00 ู"
                },
                "ูุคุณุณุฉ ุงูุถูุงู ุงูุงุฌุชูุงุนู": {
                    "ูุงุชู": "06-5521221",
                    "ุนููุงู": "ุงูุดููุณุงูู - ูุฌูุน ุงูุถูุงู ุงูุงุฌุชูุงุนู",
                    "ุฎุฏูุงุช": ["ุชุฃูููุงุช ุงูุนุงูููู", "ูุนุงุดุงุช ุงูุชูุงุนุฏ", "ุฅุตุงุจุงุช ุงูุนูู"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                }
            },
            "ุฅุฑุจุฏ": {
                "ูุฏูุฑูุฉ ุงูุนูู ุฅุฑุจุฏ": {
                    "ูุงุชู": "02-7272111",
                    "ุนููุงู": "ูุณุท ุงููุฏููุฉ - ุจุฌุงูุจ ุจูุฏูุฉ ุฅุฑุจุฏ",
                    "ุฎุฏูุงุช": ["ุดูุงูู ุงูุนูู", "ุงูุชูุชูุด", "ุงูุชุฑุงุฎูุต"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                },
                "ูุญููุฉ ุงูุนูู ุฅุฑุจุฏ": {
                    "ูุงุชู": "02-7241502",
                    "ุนููุงู": "ููุทูุฉ ุงูุฑูุซุง - ุงููุฌูุน ุงููุถุงุฆู",
                    "ุฎุฏูุงุช": ["ูุถุงูุง ุงูุนูู", "ุงูุฌูุณุงุช"],
                    "ุฃููุงุช": "8:00 ุต - 2:00 ู"
                }
            },
            "ุงูุฒุฑูุงุก": {
                "ูุฏูุฑูุฉ ุงูุนูู ุงูุฒุฑูุงุก": {
                    "ูุงุชู": "05-3982110",
                    "ุนููุงู": "ูุฏููุฉ ุงูุฒุฑูุงุก ุงูุฌุฏูุฏุฉ - ุงูููุทูุฉ ุงูุฅุฏุงุฑูุฉ",
                    "ุฎุฏูุงุช": ["ุดูุงูู ุงูุนูู", "ุงูุชูุชูุด", "ุงูุชุฑุงุฎูุต"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                }
            },
            "ุงูุนูุจุฉ": {
                "ูุฏูุฑูุฉ ุงูุนูู ุงูุนูุจุฉ": {
                    "ูุงุชู": "03-2016211",
                    "ุนููุงู": "ุงูููุทูุฉ ุงูุงูุชุตุงุฏูุฉ - ูุจูู ุงูุฏูุงุฆุฑ ุงูุญููููุฉ",
                    "ุฎุฏูุงุช": ["ุดูุงูู ุงูุนูู", "ุชุฑุงุฎูุต ุงูุนูุงูุฉ"],
                    "ุฃููุงุช": "8:00 ุต - 3:00 ู"
                }
            }
        }
        
        selected_gov = st.selectbox("ุงุฎุชุฑ ุงููุญุงูุธุฉ", list(governorates.keys()))
        
        if selected_gov:
            st.success(f"### ๐ ุงูุฌูุงุช ุงููุฎุชุตุฉ ูู {selected_gov}")
            
            for authority, info in governorates[selected_gov].items():
                with st.expander(f"๐๏ธ {authority}"):
                    col1, col2 = st.columns([1, 2])
                    
                    with col1:
                        st.write("**๐ ูุนูููุงุช ุงูุงุชุตุงู:**")
                        st.write(f"**๐ ุงููุงุชู:** {info['ูุงุชู']}")
                        st.write(f"**๐ ุงูุนููุงู:** {info['ุนููุงู']}")
                        st.write(f"**๐ ุฃููุงุช ุงูุนูู:** {info['ุฃููุงุช']}")
                    
                    with col2:
                        st.write("**๐ ุงูุฎุฏูุงุช ุงูููุฏูุฉ:**")
                        for service in info['ุฎุฏูุงุช']:
                            st.write(f"โข {service}")
    
    with authorities_tabs[2]:
        st.markdown("#### ๐ ุฅุฌุฑุงุกุงุช ุชูุฏูู ุงูุดููู ุฎุทูุฉ ุจุฎุทูุฉ")
        
        complaint_steps = [
            {
                "ุงูุฎุทูุฉ": "ูก. ุชุฌููุฒ ุงููุณุชูุฏุงุช",
                "ุงูุชูุงุตูู": "ุฌูุน ูุงูุฉ ุงููุณุชูุฏุงุช ุงููุทููุจุฉ",
                "ุงููุณุชูุฏุงุช": ["ุนูุฏ ุงูุนูู", "ูุดูู ุงูุฑูุงุชุจ", "ุงููููุฉ ุงูุดุฎุตูุฉ", "ุงููุฑุงุณูุงุช"]
            },
            {
                "ุงูุฎุทูุฉ": "ูข. ุงูุชูุฌู ูููุฏูุฑูุฉ",
                "ุงูุชูุงุตูู": "ุงูุฐูุงุจ ุฅูู ูุฏูุฑูุฉ ุงูุนูู ุงููุฎุชุตุฉ",
                "ุงููุณุชูุฏุงุช": ["ุงููุณุชูุฏุงุช ุงููุฌูุฒุฉ", "ุทูุจ ุงูุดููู"]
            },
            {
                "ุงูุฎุทูุฉ": "ูฃ. ุชุนุจุฆุฉ ุงููููุฐุฌ",
                "ุงูุชูุงุตูู": "ุชุนุจุฆุฉ ูููุฐุฌ ุงูุดููู ุงูุฑุณูู",
                "ุงููุณุชูุฏุงุช": ["ุงููููุฐุฌ ุงููุนุจุฃ", "ุงููุณุชูุฏุงุช ุงูุฏุงุนูุฉ"]
            },
            {
                "ุงูุฎุทูุฉ": "ูค. ุงููุชุงุจุนุฉ",
                "ุงูุชูุงุตูู": "ูุชุงุจุนุฉ ุงูุดููู ุนุจุฑ ุงููุธุงู ุงูุฅููุชุฑููู",
                "ุงููุณุชูุฏุงุช": ["ุฑูู ุงูุดููู", "ูุนูููุงุช ุงููุชุงุจุนุฉ"]
            }
        ]
        
        for step in complaint_steps:
            with st.expander(f"๐ {step['ุงูุฎุทูุฉ']}"):
                st.write(f"**ุงูุชูุงุตูู:** {step['ุงูุชูุงุตูู']}")
                st.write("**ุงููุณุชูุฏุงุช ุงููุทููุจุฉ:**")
                for doc in step['ุงููุณุชูุฏุงุช']:
                    st.write(f"โข {doc}")
    
    with authorities_tabs[4]:
        st.markdown("#### ๐ ุงูุฎุฏูุงุช ุงูุฅููุชุฑูููุฉ ุงููุชุงุญุฉ")
        
        e_services = [
            {
                "ุงูุฎุฏูุฉ": "ุชูุฏูู ุดููู ุฅููุชุฑูููุงู",
                "ุงูุฑุงุจุท": "https://www.mol.gov.jo/complaints",
                "ุงููุฒุงูุง": ["24/7", "ูุชุงุจุนุฉ ููุฑูุฉ", "ุชูููุฑ ุงูููุช"]
            },
            {
                "ุงูุฎุฏูุฉ": "ุงูุงุณุชุนูุงู ุนู ูุถุงูุง ุงูุนูู",
                "ุงูุฑุงุจุท": "https://courts.jo/labor-cases", 
                "ุงููุฒุงูุง": ["ูุนูููุงุช ูุญุฏุซุฉ", "ุญุงูุฉ ุงููุถูุฉ", "ููุงุนูุฏ ุงูุฌูุณุงุช"]
            },
            {
                "ุงูุฎุฏูุฉ": "ุญุงุณุจุฉ ุงููุณุชุญูุงุช",
                "ุงูุฑุงุจุท": "https://www.mol.gov.jo/calculators",
                "ุงููุฒุงูุง": ["ุญุณุงุจุงุช ุฏูููุฉ", "ูุฑุงุฌุน ูุงููููุฉ", "ูุชุงุฆุฌ ููุฑูุฉ"]
            }
        ]
        
        for service in e_services:
            with st.expander(f"๐ {service['ุงูุฎุฏูุฉ']}"):
                st.write(f"**ุงูุฑุงุจุท:** {service['ุงูุฑุงุจุท']}")
                st.write("**ุงููุฒุงูุง:**")
                for advantage in service['ุงููุฒุงูุง']:
                    st.write(f"โข {advantage}")
# ==========================
# ๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู ุงูุชูุงุนููุฉ ุงูููุณุนุฉ
# ==========================
def show_rights_map():
    st.markdown("### ๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู ูุงูุงูุชุฒุงูุงุช ุงูุชูุงุนููุฉ - ูุญุฏุซุฉ 2025")
    
    map_tabs = st.tabs([
        "๐ท ุญููู ุงูุนุงูู", 
        "๐ ุงูุชุฒุงูุงุช ุตุงุญุจ ุงูุนูู",
        "๐ฐ ุงูุญููู ุงููุงููุฉ",
        "โฐ ููุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช",
        "๐ก๏ธ ุงูุญูุงูุฉ ูุงูุณูุงูุฉ",
        "๐ ููุงุฑูุงุช ุชูุงุนููุฉ"
    ])
    
    with map_tabs[0]:
        st.markdown("#### ๐ท ุญููู ุงูุนุงูู ุงูุดุงููุฉ ูู ุงููุงููู ุงูุฃุฑุฏูู")
        
        rights_categories = {
            "๐ฐ ุงูุญููู ุงููุงููุฉ": {
                "items": [
                    {"right": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "value": "290 ุฏููุงุฑ", "law": "ุงููุงุฏุฉ 35", "details": "ูููุคูููู ุฌุงูุนูุงู - 2025"},
                    {"right": "ุตุฑู ุงูุฑุงุชุจ ูู ุงูููุช", "value": "ุฃูู 7 ุฃูุงู", "law": "ุงููุงุฏุฉ 55", "details": "ูู ููุงูุฉ ุงูุดูุฑ"},
                    {"right": "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "value": "125% - 150%", "law": "ุงููุงุฏุฉ 42", "details": "125% ููุงุฑูุ 150% ูููู ูุนุทูุงุช"},
                    {"right": "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "value": "ุญุณุจ ูุฏุฉ ุงูุฎุฏูุฉ", "law": "ุงูููุงุฏ 74-77", "details": "ุชุณุชุญู ุจุนุฏ ุณูุฉ ูุงุญุฏุฉ"}
                ]
            },
            "โฐ ููุช ุงูุนูู ูุงูุฑุงุญุฉ": {
                "items": [
                    {"right": "ุณุงุนุงุช ุงูุนูู ุงูููููุฉ", "value": "8 ุณุงุนุงุช", "law": "ุงููุงุฏุฉ 46", "details": "48 ุณุงุนุฉ ุฃุณุจูุนูุงู ูุญุฏ ุฃูุตู"},
                    {"right": "ุงูุฅุฌุงุฒุฉ ุงูุฃุณุจูุนูุฉ", "value": "ููู ูุงุญุฏ", "law": "ุงููุงุฏุฉ 48", "details": "ูุฏููุนุฉ ุงูุฃุฌุฑ"},
                    {"right": "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", "value": "14-28 ููู", "law": "ุงููุงุฏุฉ 52", "details": "ุญุณุจ ูุฏุฉ ุงูุฎุฏูุฉ"},
                    {"right": "ูุชุฑุงุช ุงูุฑุงุญุฉ", "value": "ุณุงุนุฉ ููููุงู", "law": "ุงููุงุฏุฉ 47", "details": "ููุนุงูููู 6 ุณุงุนุงุช ูุชูุงุตูุฉ"}
                ]
            },
            "๐ฅ ุงูุฑุนุงูุฉ ุงูุตุญูุฉ ูุงูุงุฌุชูุงุนูุฉ": {
                "items": [
                    {"right": "ุงูุฅุฌุงุฒุฉ ุงููุฑุถูุฉ", "value": "14 ููู ูุงูู", "law": "ุงููุงุฏุฉ 58", "details": "ุซู ูุตู ุงูุฑุงุชุจ ููุฏุฉ 14 ููู"},
                    {"right": "ุฅุฌุงุฒุฉ ุงูุฃูููุฉ", "value": "10 ุฃุณุงุจูุน", "law": "ุงููุงุฏุฉ 69", "details": "ูุฏููุนุฉ ุงูุฃุฌุฑ ุจุงููุงูู - 2025"},
                    {"right": "ุงูุชุฃููู ุงูุตุญู", "value": "ุฅูุฒุงูู", "law": "ุงููุงุฏุฉ 81", "details": "ุนูู ุตุงุญุจ ุงูุนูู"},
                    {"right": "ุฅุฌุงุฒุฉ ุงููุถุน", "value": "3 ุฃูุงู", "law": "ุงููุงุฏุฉ 70", "details": "ููุฃุจ ูุฏููุนุฉ ุงูุฃุฌุฑ"}
                ]
            },
            "๐ก๏ธ ุงูุญูุงูุฉ ูุงูุณูุงูุฉ": {
                "items": [
                    {"right": "ุจูุฆุฉ ุนูู ุขููุฉ", "value": "ุฅูุฒุงููุฉ", "law": "ุงููุงุฏุฉ 79", "details": "ุชูููุฑ ูุนุฏุงุช ุงูุณูุงูุฉ"},
                    {"right": "ุงูุญูุงูุฉ ูู ุงูุชุญุฑุด", "value": "ุฅุฌุฑุงุกุงุช ุตุงุฑูุฉ", "law": "ุงููุงุฏุฉ 105 ููุฑุฑ", "details": "ุชุนุฏูู 2025"},
                    {"right": "ุงูุชุนููุถ ุนู ุงูุฅุตุงุจุงุช", "value": "ูุงูู ุงููููุงุช", "law": "ุงููุงุฏุฉ 82", "details": "ุจูุง ูููุง ุงูุฃุฌุฑ ุฎูุงู ุงูุนูุงุฌ"},
                    {"right": "ุงูุณุฑูุฉ ุงูููููุฉ", "value": "ูุญููุฉ", "law": "ุงููุงุฏุฉ 21", "details": "ุญูุงูุฉ ุจูุงูุงุช ุงูุนุงูู"}
                ]
            }
        }
        
        for category, rights in rights_categories.items():
            with st.expander(f"๐ {category}", expanded=True):
                cols = st.columns(2)
                for idx, item in enumerate(rights['items']):
                    with cols[idx % 2]:
                        st.markdown(f"""
                        <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; margin: 0.5rem 0; border-left: 4px solid #2563EB;">
                        <h4 style="margin: 0 0 0.5rem 0;">{item['right']}</h4>
                        <p style="margin: 0.25rem 0; color: #059669;"><strong>๐ {item['value']}</strong></p>
                        <p style="margin: 0.25rem 0; color: #666; font-size: 0.9rem;">{item['details']}</p>
                        <p style="margin: 0.25rem 0; color: #1E40AF; font-size: 0.8rem;">โ๏ธ {item['law']}</p>
                        </div>
                        """, unsafe_allow_html=True)
    
    with map_tabs[1]:
        st.markdown("#### ๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ุงูุดุงููุฉ ูุฃุตุญุงุจ ุงูุนูู")
        
        obligations_categories = {
            "๐ ุงูุชูุซูู ูุงููุณุชูุฏุงุช": {
                "items": [
                    {"obligation": "ุนูุฏ ุนูู ููุชูุจ", "deadline": "ูุจู ุงูุจุฏุก", "law": "ุงููุงุฏุฉ 13", "penalty": "ุบุฑุงูุฉ 500-1000 ุฏููุงุฑ"},
                    {"obligation": "ุณุฌู ุงูุนุงูููู", "deadline": "ูุณุชูุฑ", "law": "ุงููุงุฏุฉ 26", "penalty": "ุบุฑุงูุฉ 300 ุฏููุงุฑ"},
                    {"obligation": "ููุงุฆุญ ุงูุนูู", "deadline": "30 ููู", "law": "ุงููุงุฏุฉ 27", "penalty": "ุบุฑุงูุฉ 200 ุฏููุงุฑ"},
                    {"obligation": "ูุดูู ุงูุฑูุงุชุจ", "deadline": "ุดูุฑู", "law": "ุงููุงุฏุฉ 55", "penalty": "ุบุฑุงูุฉ 500 ุฏููุงุฑ"}
                ]
            },
            "๐ฐ ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ": {
                "items": [
                    {"obligation": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "deadline": "ูุณุชูุฑ", "law": "ุงููุงุฏุฉ 35", "penalty": "ุบุฑุงูุฉ 1000 ุฏููุงุฑ"},
                    {"obligation": "ุชุณุฏูุฏ ุงูุถูุงู", "deadline": "ุดูุฑู", "law": "ูุงููู ุงูุถูุงู", "penalty": "ุบุฑุงูุฉ 5% ุดูุฑูุงู"},
                    {"obligation": "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "deadline": "7 ุฃูุงู", "law": "ุงููุงุฏุฉ 77", "penalty": "ูุงุฆุฏุฉ 8% ุณูููุงู"},
                    {"obligation": "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "deadline": "ูุน ุงูุฑุงุชุจ", "law": "ุงููุงุฏุฉ 42", "penalty": "ูุถุงุนูุฉ ุงููุณุชุญู"}
                ]
            },
            "๐ก๏ธ ุงูุณูุงูุฉ ูุงูุญูุงูุฉ": {
                "items": [
                    {"obligation": "ุชูููุฑ ูุนุฏุงุช ุงูุณูุงูุฉ", "deadline": "ููุฑู", "law": "ุงููุงุฏุฉ 79", "penalty": "ุบุฑุงูุฉ 2000 ุฏููุงุฑ"},
                    {"obligation": "ุชุฏุฑูุจ ุงูุนุงูููู", "deadline": "ูุจู ุงูุจุฏุก", "law": "ุงููุงุฏุฉ 80", "penalty": "ุบุฑุงูุฉ 500 ุฏููุงุฑ"},
                    {"obligation": "ุงูุฅุจูุงุบ ุนู ุงูุญูุงุฏุซ", "deadline": "24 ุณุงุนุฉ", "law": "ุงููุงุฏุฉ 83", "penalty": "ุบุฑุงูุฉ 1000 ุฏููุงุฑ"},
                    {"obligation": "ุงููุญุต ุงูุทุจู ุงูุฏูุฑู", "deadline": "ุณููู", "law": "ุงููุงุฏุฉ 81", "penalty": "ุบุฑุงูุฉ 300 ุฏููุงุฑ"}
                ]
            },
            "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ": {
                "items": [
                    {"obligation": "ุงูุฅุฎุทุงุฑ ุงููุณุจู", "deadline": "ุญุณุจ ุงููุฏุฉ", "law": "ุงููุงุฏุฉ 72", "penalty": "ุชุนููุถ ุนู ุงููุชุฑุฉ"},
                    {"obligation": "ุตุฑู ุงููุณุชุญูุงุช", "deadline": "7 ุฃูุงู", "law": "ุงููุงุฏุฉ 77", "penalty": "ูุงุฆุฏุฉ 8% ุณูููุงู"},
                    {"obligation": "ุดูุงุฏุฉ ุงูุฎุจุฑุฉ", "deadline": "ุนูุฏ ุงูุทูุจ", "law": "ุงููุงุฏุฉ 78", "penalty": "ุบุฑุงูุฉ 100 ุฏููุงุฑ"},
                    {"obligation": "ุชุณููู ุงููุณุชูุฏุงุช", "deadline": "ููุฑู", "law": "ุงููุงุฏุฉ 78", "penalty": "ุบุฑุงูุฉ 200 ุฏููุงุฑ"}
                ]
            }
        }
        
        for category, obligations in obligations_categories.items():
            with st.expander(f"๐ {category}", expanded=True):
                for item in obligations['items']:
                    col1, col2, col3, col4 = st.columns([3, 2, 2, 2])
                    with col1:
                        st.write(f"**{item['obligation']}**")
                    with col2:
                        st.warning(f"โฐ {item['deadline']}")
                    with col3:
                        st.info(f"โ๏ธ {item['law']}")
                    with col4:
                        st.error(f"๐ฐ {item['penalty']}")
    
    with map_tabs[5]:
        st.markdown("#### ๐ ููุงุฑูุงุช ุชูุงุนููุฉ ุจูู ุงูุญููู ูุงูุงูุชุฒุงูุงุช")
        
        comparison_data = {
            "ุงูุจูุฏ": ["ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", "ุฅุฌุงุฒุฉ ุงูุฃูููุฉ", "ุณุงุนุงุช ุงูุนูู", "ุจุฏู ุงูุนูู ุงูุฅุถุงูู"],
            "ุญู ุงูุนุงูู": ["290 ุฏููุงุฑ", "14-28 ููู", "10 ุฃุณุงุจูุน", "48 ุณุงุนุฉ ุฃุณุจูุนูุงู", "125%-150%"],
            "ุงูุชุฒุงู ุตุงุญุจ ุงูุนูู": ["ุชุทุจูู 290 ุฏููุงุฑ", "ููุญ ุงูุฅุฌุงุฒุฉ ูุฏูุน ูุณุชุญูุงุชูุง", "ููุญ ุงูุฅุฌุงุฒุฉ ุจุฏูุน ูุงูู", "ุนุฏู ุชุฌุงูุฒ 48 ุณุงุนุฉ", "ุฏูุน ุงูุจุฏู ุงูุฅุถุงูู"],
            "ุงูุนููุจุฉ": ["ุบุฑุงูุฉ 1000 ุฏููุงุฑ", "ุฏูุน ูุณุชุญูุงุช ูุถุงุนูุฉ", "ุบุฑุงูุฉ 2000 ุฏููุงุฑ", "ุบุฑุงูุฉ 500 ุฏููุงุฑ", "ูุถุงุนูุฉ ุงููุณุชุญู"]
        }
        
        df = pd.DataFrame(comparison_data)
        st.dataframe(df, use_container_width=True)
        
        # ูุฎุทุท ุชูุงุนูู
        st.markdown("##### ๐ ูุฎุทุท ุงูููุงุฑูุงุช")
        chart_data = pd.DataFrame({
            'ุงูุญููู': [290, 21, 70, 48, 137.5],
            'ุงูุงูุชุฒุงูุงุช': [290, 21, 70, 48, 137.5]
        }, index=['ุงูุฃุฌูุฑ (ุฏููุงุฑ)', 'ุงูุฅุฌุงุฒุงุช (ููู)', 'ุงูุฃูููุฉ (ููู)', 'ุณุงุนุงุช ุงูุนูู', 'ุจุฏู ุฅุถุงูู (%)'])
        
        st.bar_chart(chart_data)
# ==========================
# โฐ ููุจู ุงูููุงุนูุฏ ุงูููุณุน
# ==========================
def show_reminder_system():
    st.markdown("### โฐ ููุจู ุงูููุงุนูุฏ ุงููุงููููุฉ - ูุธุงู ูุชูุงูู")
    
    reminder_tabs = st.tabs([
        "๐ ุฅุฏุงุฑุฉ ุงูุชุฐููุฑุงุช",
        "โ๏ธ ุงูููุงุนูุฏ ุงููุงููููุฉ", 
        "๐ ุชูููู ุงูููุงุนูุฏ",
        "๐ ุงูุฅุดุนุงุฑุงุช",
        "๐ ุฅุญุตุงุฆูุงุช ุงููุชุงุจุนุฉ"
    ])
    
    with reminder_tabs[0]:
        col1, col2 = st.columns([2, 1])
        
        with col1:
            st.markdown("#### ๐ ุฅุถุงูุฉ ุชุฐููุฑ ุฌุฏูุฏ")
            
            with st.form("add_reminder", clear_on_submit=True):
                col1, col2 = st.columns(2)
                
                with col1:
                    reminder_type = st.selectbox("ููุน ุงูุชุฐููุฑ", [
                        "ููุนุฏ ูุญููุฉ",
                        "ุขุฌู ุชุณููู ูุณุชูุฏ",
                        "ุฌูุณุฉ ุตูุญ", 
                        "ููุนุฏ ุฏูุน",
                        "ุงุฌุชูุงุน ุนูู",
                        "ููุนุฏ ุทุจู",
                        "ุงูุชูุงุก ุนูุฏ",
                        "ุฃุฎุฑู"
                    ])
                    
                    title = st.text_input("ุนููุงู ุงูุชุฐููุฑ ๐")
                    priority = st.select_slider("ุงูุฃููููุฉ ๐จ", options=["ููุฎูุถุฉ", "ูุชูุณุทุฉ", "ุนุงููุฉ", "ุนุงุฌูุฉ"])
                
                with col2:
                    due_date = st.date_input("ุงูุชุงุฑูุฎ ุงููุณุชูุฏู ๐", min_value=datetime.now().date())
                    due_time = st.time_input("ุงูููุช ุงููุณุชูุฏู โฐ", value=datetime.now().time())
                    category = st.selectbox("ุงูุชุตููู", ["ุนูู", "ูุถุงุฆู", "ูุงูู", "ุตุญู", "ุฅุฏุงุฑู"])
                
                description = st.text_area("ูุตู ุงูุชุฐููุฑ ๐", placeholder="ุฃุถู ุชูุงุตูู ุฅุถุงููุฉ ุนู ุงูุชุฐููุฑ...")
                
                if st.form_submit_button("โ ุฅุถุงูุฉ ุงูุชุฐููุฑ"):
                    new_reminder = {
                        "id": len(st.session_state.get('reminders', [])) + 1,
                        "type": reminder_type,
                        "title": title,
                        "description": description,
                        "due_date": due_date,
                        "due_time": due_time,
                        "priority": priority,
                        "category": category,
                        "created": datetime.now(),
                        "status": "ูุดุท"
                    }
                    if 'reminders' not in st.session_state:
                        st.session_state.reminders = []
                    st.session_state.reminders.append(new_reminder)
                    st.success("โ ุชู ุฅุถุงูุฉ ุงูุชุฐููุฑ ุจูุฌุงุญ!")
        
        with col2:
            st.markdown("#### ๐ ุงูุชุฐููุฑุงุช ุงููุงุฏูุฉ")
            
            if 'reminders' in st.session_state and st.session_state.reminders:
                now = datetime.now()
                upcoming = []
                
                for reminder in st.session_state.reminders:
                    reminder_datetime = datetime.combine(reminder['due_date'], reminder['due_time'])
                    if reminder_datetime >= now and reminder['status'] == 'ูุดุท':
                        upcoming.append(reminder)
                
                upcoming.sort(key=lambda x: datetime.combine(x['due_date'], x['due_time']))
                
                for i, reminder in enumerate(upcoming[:5]):
                    days_left = (reminder['due_date'] - now.date()).days
                    priority_color = {
                        "ุนุงุฌูุฉ": "๐ด",
                        "ุนุงููุฉ": "๐", 
                        "ูุชูุณุทุฉ": "๐ก",
                        "ููุฎูุถุฉ": "๐ข"
                    }
                    
                    with st.container():
                        st.write(f"{priority_color[reminder['priority']]} **{reminder['title']}**")
                        st.write(f"๐ {reminder['due_date']} | โฐ {reminder['due_time']}")
                        st.write(f"โณ {days_left} ููู ูุชุจูู | ๐ท๏ธ {reminder['type']}")
                        
                        # ุดุฑูุท ุงูุชูุฏู
                        progress = max(0, min(100, 100 - (days_left * 10)))
                        st.progress(progress / 100)
                        
                        col1, col2 = st.columns(2)
                        with col1:
                            if st.button("โ ุชู", key=f"done_{reminder['id']}"):
                                reminder['status'] = 'ููุชูู'
                                st.rerun()
                        with col2:
                            if st.button("๐๏ธ ุญุฐู", key=f"delete_{reminder['id']}"):
                                st.session_state.reminders.remove(reminder)
                                st.rerun()
                        st.write("---")
            else:
                st.info("๐ญ ูุง ุชูุฌุฏ ุชุฐููุฑุงุช ูุงุฏูุฉ")
    
    with reminder_tabs[1]:
        st.markdown("#### โ๏ธ ุงูููุงุนูุฏ ุงููุงููููุฉ ุงููุงูุฉ")
        
        legal_deadlines = {
            "ุชูุฏูู ุดููู ุนูู": {
                "ุงููููุฉ": "30 ูููุงู",
                "ูู": "ุชุงุฑูุฎ ูููุน ุงููุฎุงููุฉ",
                "ุฅูู": "ูุฏูุฑูุฉ ุงูุนูู ุงููุฎุชุตุฉ",
                "ุงููุงููู": "ุงููุงุฏุฉ 80"
            },
            "ุงูุทุนู ุนูู ูุฑุงุฑ ุงููุตู": {
                "ุงููููุฉ": "30 ูููุงู", 
                "ูู": "ุชุงุฑูุฎ ุงููุตู",
                "ุฅูู": "ูุญููุฉ ุงูุนูู",
                "ุงููุงููู": "ุงููุงุฏุฉ 73"
            },
            "ุตุฑู ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ": {
                "ุงููููุฉ": "7 ุฃูุงู",
                "ูู": "ุชุงุฑูุฎ ุฅููุงุก ุงูุฎุฏูุฉ", 
                "ุฅูู": "ุงูุนุงูู",
                "ุงููุงููู": "ุงููุงุฏุฉ 77"
            },
            "ุชูุฏูู ุทูุจ ุงูุตูุญ": {
                "ุงููููุฉ": "15 ูููุงู",
                "ูู": "ุชุงุฑูุฎ ุชูุฏูู ุงูุดููู",
                "ุฅูู": "ูุฏูุฑูุฉ ุงูุนูู", 
                "ุงููุงููู": "ูุธุงู ุงูุชุณููุฉ"
            }
        }
        
        for deadline, details in legal_deadlines.items():
            with st.expander(f"โ๏ธ {deadline}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงููููุฉ:** {details['ุงููููุฉ']}")
                    st.write(f"**ูู:** {details['ูู']}")
                with col2:
                    st.write(f"**ุฅูู:** {details['ุฅูู']}")
                    st.write(f"**ุงูุฃุณุงุณ ุงููุงูููู:** {details['ุงููุงููู']}")
                
                # ุฅุถุงูุฉ ุชุฐููุฑ ุชููุงุฆู
                if st.button(f"โ ุฃุถู ุชุฐููุฑ ูู {deadline}", key=f"auto_{deadline}"):
                    st.info("ุณูุชู ุฅุถุงูุฉ ุชุฐููุฑ ุชููุงุฆู ููุฐุง ุงูููุนุฏ")
    
    with reminder_tabs[3]:
        st.markdown("#### ๐ ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุงูุฅุฎุทุงุฑุงุช")
        
        notification_settings = {
            "ุงูุฅุดุนุงุฑุงุช ุงูุจุฑูุฏูุฉ": st.checkbox("ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุจุฑูุฏูุฉ", value=True),
            "ุงูุชุฐููุฑุงุช ุงูููููุฉ": st.checkbox("ุชุฐููุฑุงุช ููููุฉ", value=True),
            "ุชูุจููุงุช ุงูุทูุงุฑุฆ": st.checkbox("ุชูุจููุงุช ุงูููุงุนูุฏ ุงูุนุงุฌูุฉ", value=True),
            "ุชูุฑูุฑ ุฃุณุจูุนู": st.checkbox("ุชูุฑูุฑ ุฃุณุจูุนู ุจุงูููุงุนูุฏ", value=False)
        }
        
        st.markdown("##### ๐ง ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู")
        email = st.text_input("ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุฅุดุนุงุฑุงุช", placeholder="example@email.com")
        
        if st.button("๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช"):
            st.success("ุชู ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช ุจูุฌุงุญ")
    
    with reminder_tabs[4]:
        st.markdown("#### ๐ ุฅุญุตุงุฆูุงุช ุงููุชุงุจุนุฉ")
        
        if 'reminders' in st.session_state:
            reminders = st.session_state.reminders
            total = len(reminders)
            completed = len([r for r in reminders if r['status'] == 'ููุชูู'])
            active = len([r for r in reminders if r['status'] == 'ูุดุท'])
            overdue = len([r for r in reminders if datetime.combine(r['due_date'], r['due_time']) < datetime.now() and r['status'] == 'ูุดุท'])
            
            col1, col2, col3, col4 = st.columns(4)
            with col1:
                st.metric("ุฅุฌูุงูู ุงูุชุฐููุฑุงุช", total)
            with col2:
                st.metric("ุงูููุชููุฉ", completed, f"{completed/total*100:.0f}%" if total > 0 else "0%")
            with col3:
                st.metric("ุงููุดุทุฉ", active)
            with col4:
                st.metric("ุงููุชุฃุฎุฑุฉ", overdue, delta_color="inverse")
            
            # ูุฎุทุท ุชูุฒูุน ุงูุฃููููุงุช
            if total > 0:
                priorities = {}
                for reminder in reminders:
                    priorities[reminder['priority']] = priorities.get(reminder['priority'], 0) + 1
                
                st.markdown("##### ๐ ุชูุฒูุน ุงูุชุฐููุฑุงุช ุญุณุจ ุงูุฃููููุฉ")
                priority_df = pd.DataFrame({
                    'ุงูุฃููููุฉ': list(priorities.keys()),
                    'ุงูุนุฏุฏ': list(priorities.values())
                })
                st.bar_chart(priority_df.set_index('ุงูุฃููููุฉ'))
# ==========================
# ๐งญ ุงูุชูููุฐ ุงูุฑุฆูุณู ููุชุทุจูู
# ==========================
if __name__ == "__main__":
    main()